<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ğŸ‘‰ æ·±æµ…æ‹·è´çš„å®ç° | CHIEMINCHAN&#39;S BLOG</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/images/donut.png">
    <meta name="description" content="Hi, glad you came.">
    
    <link rel="preload" href="/assets/css/0.styles.8f3dca9f.css" as="style"><link rel="preload" href="/assets/js/app.448d156c.js" as="script"><link rel="preload" href="/assets/js/2.fefa3fa1.js" as="script"><link rel="preload" href="/assets/js/1.67a15f5a.js" as="script"><link rel="preload" href="/assets/js/48.ad0ce6a4.js" as="script"><link rel="prefetch" href="/assets/js/10.5229b01a.js"><link rel="prefetch" href="/assets/js/11.9dccb5a1.js"><link rel="prefetch" href="/assets/js/12.1aa023e7.js"><link rel="prefetch" href="/assets/js/13.da540175.js"><link rel="prefetch" href="/assets/js/14.981e669d.js"><link rel="prefetch" href="/assets/js/15.f28dd0b3.js"><link rel="prefetch" href="/assets/js/16.47e1d84d.js"><link rel="prefetch" href="/assets/js/17.7ff34030.js"><link rel="prefetch" href="/assets/js/18.6dcbdd16.js"><link rel="prefetch" href="/assets/js/19.e568fd00.js"><link rel="prefetch" href="/assets/js/20.182f1f9b.js"><link rel="prefetch" href="/assets/js/21.b834a74a.js"><link rel="prefetch" href="/assets/js/22.a3523cd2.js"><link rel="prefetch" href="/assets/js/23.61d15c5b.js"><link rel="prefetch" href="/assets/js/24.2aadb209.js"><link rel="prefetch" href="/assets/js/25.836695fb.js"><link rel="prefetch" href="/assets/js/26.0ab922cb.js"><link rel="prefetch" href="/assets/js/27.5ac9e339.js"><link rel="prefetch" href="/assets/js/28.d6a5eb15.js"><link rel="prefetch" href="/assets/js/29.3eea682e.js"><link rel="prefetch" href="/assets/js/3.fc739620.js"><link rel="prefetch" href="/assets/js/30.5225944d.js"><link rel="prefetch" href="/assets/js/31.ec02d3da.js"><link rel="prefetch" href="/assets/js/32.bd05dede.js"><link rel="prefetch" href="/assets/js/33.4a293dcf.js"><link rel="prefetch" href="/assets/js/34.4464026b.js"><link rel="prefetch" href="/assets/js/35.4dd4f327.js"><link rel="prefetch" href="/assets/js/36.ca28dda7.js"><link rel="prefetch" href="/assets/js/37.3a17971f.js"><link rel="prefetch" href="/assets/js/38.f86fa51b.js"><link rel="prefetch" href="/assets/js/39.6ff149b0.js"><link rel="prefetch" href="/assets/js/4.0471e9ae.js"><link rel="prefetch" href="/assets/js/40.23565895.js"><link rel="prefetch" href="/assets/js/41.0116a1ec.js"><link rel="prefetch" href="/assets/js/42.c38f3e0c.js"><link rel="prefetch" href="/assets/js/43.1d0d8ffd.js"><link rel="prefetch" href="/assets/js/44.631fa43e.js"><link rel="prefetch" href="/assets/js/45.0f88df1f.js"><link rel="prefetch" href="/assets/js/46.cc671ab0.js"><link rel="prefetch" href="/assets/js/47.90cce12d.js"><link rel="prefetch" href="/assets/js/49.ade35f37.js"><link rel="prefetch" href="/assets/js/5.5356be46.js"><link rel="prefetch" href="/assets/js/50.de00c31b.js"><link rel="prefetch" href="/assets/js/51.9de8257a.js"><link rel="prefetch" href="/assets/js/52.50f1abf2.js"><link rel="prefetch" href="/assets/js/53.b3b3acb2.js"><link rel="prefetch" href="/assets/js/54.71bfe1b2.js"><link rel="prefetch" href="/assets/js/55.b00cfb1c.js"><link rel="prefetch" href="/assets/js/56.1bb058d3.js"><link rel="prefetch" href="/assets/js/57.5651fd65.js"><link rel="prefetch" href="/assets/js/58.3dd11306.js"><link rel="prefetch" href="/assets/js/59.233d45e8.js"><link rel="prefetch" href="/assets/js/6.5b3d5499.js"><link rel="prefetch" href="/assets/js/60.7c729149.js"><link rel="prefetch" href="/assets/js/61.eb5805f6.js"><link rel="prefetch" href="/assets/js/62.fde12179.js"><link rel="prefetch" href="/assets/js/63.3358d1e0.js"><link rel="prefetch" href="/assets/js/64.1b930210.js"><link rel="prefetch" href="/assets/js/65.3048ba53.js"><link rel="prefetch" href="/assets/js/66.a065502e.js"><link rel="prefetch" href="/assets/js/67.715eef17.js"><link rel="prefetch" href="/assets/js/68.edf44196.js"><link rel="prefetch" href="/assets/js/69.94cb6d60.js"><link rel="prefetch" href="/assets/js/7.c94df317.js"><link rel="prefetch" href="/assets/js/70.9061bb98.js"><link rel="prefetch" href="/assets/js/71.980c8e32.js"><link rel="prefetch" href="/assets/js/72.43be58ba.js"><link rel="prefetch" href="/assets/js/73.e2f40377.js"><link rel="prefetch" href="/assets/js/74.9ef8a48c.js"><link rel="prefetch" href="/assets/js/75.b006fb40.js"><link rel="prefetch" href="/assets/js/76.311cf38f.js"><link rel="prefetch" href="/assets/js/77.2d4b2c6d.js"><link rel="prefetch" href="/assets/js/78.81fd1ead.js"><link rel="prefetch" href="/assets/js/79.01e24fba.js"><link rel="prefetch" href="/assets/js/80.b15cc1f3.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.934ed2fb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8f3dca9f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">CHIEMINCHAN'S BLOG</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/articles/" class="nav-link router-link-active">
  æ–‡ç« 
</a></div><div class="nav-item"><a href="/fragments/" class="nav-link">
  çŸ¥è¯†ç¢ç‰‡
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  ç®—æ³•
</a></div><div class="nav-item"><a href="/reading/" class="nav-link">
  è¯»/è§‚åæ„Ÿ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow down"></span></button> <button type="button" aria-label="GitHub" class="mobile-dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/chieminchan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHubé¦–é¡µ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/articles/" class="nav-link router-link-active">
  æ–‡ç« 
</a></div><div class="nav-item"><a href="/fragments/" class="nav-link">
  çŸ¥è¯†ç¢ç‰‡
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  ç®—æ³•
</a></div><div class="nav-item"><a href="/reading/" class="nav-link">
  è¯»/è§‚åæ„Ÿ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow down"></span></button> <button type="button" aria-label="GitHub" class="mobile-dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/chieminchan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHubé¦–é¡µ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Browser</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>DesignPatterns</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/articles/JavaScript/JavaScriptæ‰§è¡Œä¸Šä¸‹æ–‡.html" class="sidebar-link">ğŸ‘‰ JavaScript æ‰§è¡Œä¸Šä¸‹æ–‡</a></li><li><a href="/articles/JavaScript/PromiseA+å®ç°åŸç†.html" class="sidebar-link">ğŸ‘‰ Promise/A+ å®ç°åŸç†</a></li><li><a href="/articles/JavaScript/V8å·¥ä½œåŸç†.html" class="sidebar-link">ğŸ‘‰ V8 å·¥ä½œåŸç†</a></li><li><a href="/articles/JavaScript/callã€applyã€bindçš„å®ç°.html" class="sidebar-link">ğŸ‘‰ callã€applyã€bind çš„å®ç°</a></li><li><a href="/articles/JavaScript/äº‹ä»¶æµå’Œäº‹ä»¶å¤„ç†ç¨‹åº.html" class="sidebar-link">ğŸ‘‰ äº‹ä»¶æµå’Œäº‹ä»¶å¤„ç†ç¨‹åº</a></li><li><a href="/articles/JavaScript/å…³äºPromiseçš„ä¸€äº›äº‹.html" class="sidebar-link">ğŸ‘‰ å…³äº Promise çš„ä¸€äº›äº‹</a></li><li><a href="/articles/JavaScript/æµè§ˆå™¨çš„ JavaScript äº‹ä»¶å¾ªç¯æœºåˆ¶.html" class="sidebar-link">ğŸ‘‰ æµè§ˆå™¨çš„ JavaScript äº‹ä»¶å¾ªç¯æœºåˆ¶</a></li><li><a href="/articles/JavaScript/æ·±æµ…æ‹·è´çš„å®ç°.html" class="active sidebar-link">ğŸ‘‰ æ·±æµ…æ‹·è´çš„å®ç°</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/articles/JavaScript/æ·±æµ…æ‹·è´çš„å®ç°.html#ç›´æ¥èµ‹å€¼" class="sidebar-link">ç›´æ¥èµ‹å€¼</a></li><li class="sidebar-sub-header"><a href="/articles/JavaScript/æ·±æµ…æ‹·è´çš„å®ç°.html#æµ…æ‹·è´å’Œæ·±æ‹·è´çš„åŒºåˆ«" class="sidebar-link">æµ…æ‹·è´å’Œæ·±æ‹·è´çš„åŒºåˆ«</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/articles/JavaScript/æ·±æµ…æ‹·è´çš„å®ç°.html#æµ…æ‹·è´" class="sidebar-link">æµ…æ‹·è´</a></li><li class="sidebar-sub-header"><a href="/articles/JavaScript/æ·±æµ…æ‹·è´çš„å®ç°.html#æ·±æ‹·è´" class="sidebar-link">æ·±æ‹·è´</a></li></ul></li><li class="sidebar-sub-header"><a href="/articles/JavaScript/æ·±æµ…æ‹·è´çš„å®ç°.html#æµ…æ‹·è´çš„ç®€å•å®ç°" class="sidebar-link">æµ…æ‹·è´çš„ç®€å•å®ç°</a></li><li class="sidebar-sub-header"><a href="/articles/JavaScript/æ·±æµ…æ‹·è´çš„å®ç°.html#æ·±æ‹·è´çš„ç®€å•å®ç°" class="sidebar-link">æ·±æ‹·è´çš„ç®€å•å®ç°</a></li></ul></li><li><a href="/articles/JavaScript/ç†è§£ JavaScript çš„ async å’Œ await.html" class="sidebar-link">ğŸ‘‰ ç†è§£ JavaScript çš„ async/await</a></li><li><a href="/articles/JavaScript/ç»§æ‰¿.html" class="sidebar-link">ğŸ‘‰ ç»§æ‰¿</a></li><li><a href="/articles/JavaScript/é˜²æŠ–å’ŒèŠ‚æµ.html" class="sidebar-link">ğŸ‘‰ é˜²æŠ–å’ŒèŠ‚æµ</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Microapp</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Network</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Project Management</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="æ·±æµ…æ‹·è´çš„å®ç°"><a href="#æ·±æµ…æ‹·è´çš„å®ç°" class="header-anchor">#</a> ğŸ‘‰ æ·±æµ…æ‹·è´çš„å®ç°</h1> <h2 id="ç›´æ¥èµ‹å€¼"><a href="#ç›´æ¥èµ‹å€¼" class="header-anchor">#</a> ç›´æ¥èµ‹å€¼</h2> <p>å½“ç›®æ ‡å¯¹è±¡å¯¹èµ‹å€¼å¯¹è±¡é€šè¿‡ç›´æ¥èµ‹å€¼çš„æ–¹å¼è¿›è¡Œæ‹·è´ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œå¯¹äºåŸå§‹ç±»å‹å°±æ˜¯ç›´æ¥èµ‹å€¼ï¼Œè€Œå¯¹äºå¼•ç”¨ç±»å‹ä»…èƒ½æ‹·è´äº†åœ°å€ï¼Œæ”¹å˜ä¸€æ–¹å±æ€§å€¼ï¼Œç”±äºæ˜¯åŒä¸€ä¸ªå¼•ç”¨ï¼Œä¼šå¯¼è‡´åŒä¸ªåœ°å€å¯¹åº”çš„å±æ€§å€¼éƒ½å‘ç”Ÿå˜åŒ–ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>
a<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre></div><h2 id="æµ…æ‹·è´å’Œæ·±æ‹·è´çš„åŒºåˆ«"><a href="#æµ…æ‹·è´å’Œæ·±æ‹·è´çš„åŒºåˆ«" class="header-anchor">#</a> æµ…æ‹·è´å’Œæ·±æ‹·è´çš„åŒºåˆ«</h2> <h3 id="æµ…æ‹·è´"><a href="#æµ…æ‹·è´" class="header-anchor">#</a> æµ…æ‹·è´</h3> <p>æµ…æ‹·è´ä¼šå°†å¯¹è±¡çš„å„ä¸ªå±æ€§è¿›è¡Œä¾æ¬¡å¤åˆ¶ï¼Œä½†å¹¶ä¸ä¼šè¿›è¡Œé€’å½’å¤åˆ¶ï¼Œå³åªä¼šèµ‹å€¼ç›®æ ‡å¯¹è±¡çš„ç¬¬ä¸€å±‚å±æ€§ã€‚</p> <p>å¯¹äºç›®æ ‡å¯¹è±¡ç¬¬ä¸€å±‚ä¸ºåŸºæœ¬æ•°æ®ç±»å‹çš„æ•°æ®ï¼Œå°±æ˜¯ç›´æ¥èµ‹å€¼ï¼Œå³ã€Œä¼ å€¼ã€ï¼›<br>
è€Œå¯¹äºç›®æ ‡å¯¹è±¡ç¬¬ä¸€å±‚ä¸ºå¼•ç”¨æ•°æ®ç±»å‹çš„æ•°æ®ï¼Œå°±æ˜¯ç›´æ¥èµ‹å­˜äºæ ˆå†…å­˜ä¸­çš„å †å†…å­˜åœ°å€ï¼Œå³ã€Œä¼ å€ã€ã€‚</p> <p>å¸¸è§çš„æµ…æ‹·è´ï¼šObject.assign</p> <p>Object.assign ä¼šæ‹·è´æ‰€æœ‰çš„å±æ€§å€¼åˆ°æ–°çš„å¯¹è±¡ä¸­ï¼Œå¦‚æœå±æ€§å€¼æ˜¯å¯¹è±¡çš„è¯ï¼Œæ‹·è´çš„ä¾ç„¶æ˜¯å±æ€§çš„å¼•ç”¨ï¼Œå› æ­¤åªæ˜¯æµ…æ‹·è´ï¼Œå¹¶ä¸æ˜¯æ·±æ‹·è´ã€‚</p> <h3 id="æ·±æ‹·è´"><a href="#æ·±æ‹·è´" class="header-anchor">#</a> æ·±æ‹·è´</h3> <p>æ·±æ‹·è´ä¸åŒäºæµ…æ‹·è´ï¼Œå®ƒä¸åªæ‹·è´ç›®æ ‡å¯¹è±¡çš„ç¬¬ä¸€å±‚å±æ€§ï¼Œè€Œæ˜¯é€’å½’æ‹·è´ç›®æ ‡å¯¹è±¡çš„æ‰€æœ‰å±æ€§ã€‚</p> <p>å¸¸ç”¨çš„æ·±æ‹·è´ï¼šJSON.parse(JSON.stringify())</p> <p>JSON.parse(JSON.stringify())å­˜åœ¨çš„é—®é¢˜ï¼š</p> <p>1ï¼‰å¯¹äº Date ç±»å‹ï¼Œä¼šå°†æ—¶é—´ç±»å‹åºåˆ—åŒ–æˆå­—ç¬¦ä¸²ï¼›<br>
2ï¼‰å¯¹äº Errorã€RegExp å¯¹è±¡åªä¼šæ‹·è´å¾—ä¸€ä¸ªç©ºå¯¹è±¡ï¼›<br>
3ï¼‰å¯¹äº NaNã€Infinityã€-Infinityï¼Œä¼šå˜æˆ nullï¼›<br>
4ï¼‰ä¼šä¸¢å¤±æ„é€ å‡½æ•°çš„å±æ€§æ–¹æ³•ï¼›<br>
5ï¼‰æ— æ³•è§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜ï¼›</p> <h2 id="æµ…æ‹·è´çš„ç®€å•å®ç°"><a href="#æµ…æ‹·è´çš„ç®€å•å®ç°" class="header-anchor">#</a> æµ…æ‹·è´çš„ç®€å•å®ç°</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">shadowClone</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> target <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">&amp;&amp;</span> target <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> newTarget <span class="token operator">=</span> target <span class="token keyword">instanceof</span> <span class="token class-name">Array</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// é¿å…æŠŠç»§æ‰¿çš„å±æ€§ä¹Ÿä¸€å¹¶æ‹·è´</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                newTarget<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> newTarget<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> target<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;arr1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> arr2 <span class="token operator">=</span> <span class="token function">shadowClone</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
arr2<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;arr2&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;arr1ï¼š&quot;</span><span class="token punctuation">,</span> arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;arr2ï¼š&quot;</span><span class="token punctuation">,</span> arr2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// arr1ï¼š[2, 3, 5, {name: 'arr2'}]</span>
<span class="token comment">// arr2ï¼š[2, 3, 5, {name: 'arr2'}]</span>
</code></pre></div><h2 id="æ·±æ‹·è´çš„ç®€å•å®ç°"><a href="#æ·±æ‹·è´çš„ç®€å•å®ç°" class="header-anchor">#</a> æ·±æ‹·è´çš„ç®€å•å®ç°</h2> <p>æ¥ä¸‹æ¥æ˜¯æ¯”è¾ƒå¤´å¤§çš„æ·±æ‹·è´ï¼Œæ·±æ‹·è´è¦åœ¨æµ…æ‹·è´çš„åŸºç¡€ä¸Šè¿›è¡Œæ›´æ·±å±‚çš„é€’å½’æ‹·è´ï¼Œ ä»¥åŠå¯¹å„ç§ç‰¹æ®Šæ•°æ®ç±»å‹å’Œè¾¹ç•Œæƒ…å†µçš„å¤„ç†ã€‚</p> <p>è¿™é‡Œå‚è€ƒäº†æ˜é‡‘çš„ä¸€ç¯‡æ–‡ç« ï¼š<a href="https://juejin.im/post/5d6aa4f96fb9a06b112ad5b1" target="_blank" rel="noopener noreferrer">å¦‚ä½•å†™å‡ºä¸€ä¸ªæƒŠè‰³é¢è¯•å®˜çš„æ·±æ‹·è´?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚<br>
åŒæ—¶ï¼Œä¹Ÿæ¨èé˜…è¯»å…³äº<a href="https://github.com/yygmind/blog/issues/31" target="_blank" rel="noopener noreferrer">lodash çš„æ·±æ‹·è´æºç åˆ†æ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ç›¸å…³çš„æ–‡ç« ï¼Œè¿›è¡Œæ›´æ·±å…¥ç†è§£ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// åˆ¤æ–­æ˜¯å¦ä¸ºå¼•ç”¨ç±»å‹</span>
<span class="token keyword">function</span> <span class="token function">isObject</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token keyword">typeof</span> source <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> source <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
        source <span class="token operator">!==</span> <span class="token keyword">null</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// è·å–å‡†ç¡®çš„å¼•ç”¨ç±»å‹</span>
<span class="token keyword">function</span> <span class="token function">getType</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// example:</span>
    <span class="token comment">// Object.prototype.toString.call(true)          -&gt;  [object Boolean]</span>
    <span class="token comment">// Object.prototype.toString.call(123)           -&gt;  [object Number]</span>
    <span class="token comment">// Object.prototype.toString.call(null)          -&gt;  [object Null]</span>
    <span class="token comment">// Object.prototype.toString.call(JSON)          -&gt;  [object JSON]</span>
    <span class="token comment">// Object.prototype.toString.call(function(){})  -&gt;  [object Function]</span>
    <span class="token comment">// Object.prototype.toString.call(new Set())  -&gt;  [object Set]</span>
<span class="token punctuation">}</span>

<span class="token comment">// æ”¯æŒéå†è¿›è¡Œæ·±æ‹·è´çš„å¼•ç”¨ç±»å‹</span>
<span class="token keyword">const</span> supportTraverse <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;[object Array]&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;[object Object]&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;[object Map]&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;[object Set]&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// å¯¹ä¸æ”¯æŒéå†å…‹éš†çš„å¼•ç”¨ç±»å‹å¤„ç†</span>
<span class="token comment">// å¤šä¸ºåŒ…è£…ç±»å‹å¯¹è±¡ï¼šBooleanã€Numberã€Stringã€Dateã€Errorã€Symbol ç›´æ¥ç”¨æ„é€ å‡½æ•°å’ŒåŸå§‹æ•°æ®åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡</span>
<span class="token keyword">function</span> <span class="token function">handleUnTraverse</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> ctor <span class="token operator">=</span> target<span class="token punctuation">.</span>constructor<span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">&quot;[object Boolean]&quot;</span><span class="token operator">:</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token class-name">Boolean</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">case</span> <span class="token string">&quot;[object String]&quot;</span><span class="token operator">:</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">case</span> <span class="token string">&quot;[object Number]&quot;</span><span class="token operator">:</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token class-name">Number</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">case</span> <span class="token string">&quot;[object Symbol]&quot;</span><span class="token operator">:</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token class-name">Symbol</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">case</span> <span class="token string">&quot;[object Error]&quot;</span><span class="token operator">:</span>
        <span class="token keyword">case</span> <span class="token string">&quot;[object Date]&quot;</span><span class="token operator">:</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ctor</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">case</span> <span class="token string">&quot;[object Function]&quot;</span><span class="token operator">:</span>
            <span class="token comment">// å‡½æ•°éœ€è¦è€ƒè™‘åˆ°çš„æƒ…å†µæ¯”è¾ƒå¤šä¹Ÿæ¯”è¾ƒéº»çƒ¦ï¼Œæ¯”å¦‚å…‹éš†ä»¥åå¯èƒ½ä¼šæ¶‰åŠå‡½æ•°ä½œç”¨åŸŸã€ä¸Šä¸‹æ–‡å˜åŒ–ç­‰é—®é¢˜</span>
            <span class="token comment">// æ­¤å¤„ç›´æ¥è¿”å›å‡½æ•°çš„å¼•ç”¨</span>
            <span class="token keyword">return</span> target<span class="token punctuation">;</span>

        <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ctor</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å…‹éš†åŸå§‹ç±»å‹æ•°æ®</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isObject</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> target<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// æ ¹æ®ç›®æ ‡å¯¹è±¡æ˜¯å¦èƒ½éå†è¿›è¡Œåˆå§‹åŒ–</span>
    <span class="token keyword">let</span> targetClone<span class="token punctuation">;</span>

    <span class="token keyword">const</span> type <span class="token operator">=</span> <span class="token function">getType</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>supportTraverse<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// å¯¹ä¸æ”¯æŒé€’å½’éå†çš„å¯¹è±¡ç±»å‹åˆå§‹åŒ–å¹¶å…‹éš†</span>
        <span class="token keyword">return</span> <span class="token function">handleUnTraverse</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ–°å»ºç©ºå¯¹è±¡ï¼Œä¿è¯åŸå‹ä¸ä¸¢å¤±</span>
        <span class="token keyword">const</span> ctor <span class="token operator">=</span> target<span class="token punctuation">.</span>constructor<span class="token punctuation">;</span>
        targetClone <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ctor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// è§£å†³å¾ªç¯å¼•ç”¨</span>
    <span class="token comment">// map ç”¨äºæ ‡è¯†å¯¹è±¡æ˜¯å¦å·²è¢«æ‹·è´è¿‡</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// å·²æ‹·è´è¿‡çš„ç›´æ¥è¿”å›ï¼Œå¦åˆ™è¿›è¡Œé€ä¸ªå±æ€§çš„æ‹·è´å¹¶æ ‡è®°å·²æ‹·è´</span>
        <span class="token keyword">return</span> target<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// æ ‡è®°å·²æ‹·è´</span>
    map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Map å’Œ Set çš„æ·»åŠ å…ƒç´ æ–¹æ³•ä¸åŒï¼Œåˆ†åˆ«ä¸º set å’Œ add</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&quot;[object Map]&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        target<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            targetClone<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> targetClone<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&quot;[object Set]&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        target<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            targetClone<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">deepClone</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> targetClone<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// å…‹éš†å¯¹è±¡å’Œæ•°ç»„</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> propName <span class="token keyword">in</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>propName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            targetClone<span class="token punctuation">[</span>propName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>target<span class="token punctuation">[</span>propName<span class="token punctuation">]</span><span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> targetClone<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// test</span>
<span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;ConardLi&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;codeç§˜å¯†èŠ±å›­&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;ConardLi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;codeç§˜å¯†èŠ±å›­&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">field1</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">field2</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    <span class="token literal-property property">field3</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">child</span><span class="token operator">:</span> <span class="token string">&quot;child&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">field4</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">empty</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    map<span class="token punctuation">,</span>
    set<span class="token punctuation">,</span>
    <span class="token literal-property property">bool</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">str</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">symbol</span><span class="token operator">:</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// reg: /\d+/,</span>
    <span class="token literal-property property">error</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">func1</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">func2</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;in func2&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>field3<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// console.log('codeç§˜å¯†èŠ±å›­');</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
target<span class="token punctuation">.</span><span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
result<span class="token punctuation">.</span><span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;-----change result field3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
result<span class="token punctuation">.</span>field3<span class="token punctuation">.</span>child <span class="token operator">=</span> <span class="token string">&quot;result filed3 child&quot;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;target:&quot;</span><span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>
target<span class="token punctuation">.</span><span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;result:&quot;</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
result<span class="token punctuation">.</span><span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/articles/JavaScript/æµè§ˆå™¨çš„ JavaScript äº‹ä»¶å¾ªç¯æœºåˆ¶.html" class="prev">
        ğŸ‘‰ æµè§ˆå™¨çš„ JavaScript äº‹ä»¶å¾ªç¯æœºåˆ¶
      </a></span> <span class="next"><a href="/articles/JavaScript/ç†è§£ JavaScript çš„ async å’Œ await.html">
        ğŸ‘‰ ç†è§£ JavaScript çš„ async/await
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.448d156c.js" defer></script><script src="/assets/js/2.fefa3fa1.js" defer></script><script src="/assets/js/1.67a15f5a.js" defer></script><script src="/assets/js/48.ad0ce6a4.js" defer></script>
  </body>
</html>

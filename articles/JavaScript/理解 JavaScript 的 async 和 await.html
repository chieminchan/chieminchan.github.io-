<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ğŸ‘‰ ç†è§£ JavaScript çš„ async/await | CHIEMINCHAN&#39;S BLOG</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/images/donut.png">
    <meta name="description" content="Hi, glad you came.">
    
    <link rel="preload" href="/assets/css/0.styles.8f3dca9f.css" as="style"><link rel="preload" href="/assets/js/app.448d156c.js" as="script"><link rel="preload" href="/assets/js/2.fefa3fa1.js" as="script"><link rel="preload" href="/assets/js/1.67a15f5a.js" as="script"><link rel="preload" href="/assets/js/49.ade35f37.js" as="script"><link rel="prefetch" href="/assets/js/10.5229b01a.js"><link rel="prefetch" href="/assets/js/11.9dccb5a1.js"><link rel="prefetch" href="/assets/js/12.1aa023e7.js"><link rel="prefetch" href="/assets/js/13.da540175.js"><link rel="prefetch" href="/assets/js/14.981e669d.js"><link rel="prefetch" href="/assets/js/15.f28dd0b3.js"><link rel="prefetch" href="/assets/js/16.47e1d84d.js"><link rel="prefetch" href="/assets/js/17.7ff34030.js"><link rel="prefetch" href="/assets/js/18.6dcbdd16.js"><link rel="prefetch" href="/assets/js/19.e568fd00.js"><link rel="prefetch" href="/assets/js/20.182f1f9b.js"><link rel="prefetch" href="/assets/js/21.b834a74a.js"><link rel="prefetch" href="/assets/js/22.a3523cd2.js"><link rel="prefetch" href="/assets/js/23.61d15c5b.js"><link rel="prefetch" href="/assets/js/24.2aadb209.js"><link rel="prefetch" href="/assets/js/25.836695fb.js"><link rel="prefetch" href="/assets/js/26.0ab922cb.js"><link rel="prefetch" href="/assets/js/27.5ac9e339.js"><link rel="prefetch" href="/assets/js/28.d6a5eb15.js"><link rel="prefetch" href="/assets/js/29.3eea682e.js"><link rel="prefetch" href="/assets/js/3.fc739620.js"><link rel="prefetch" href="/assets/js/30.5225944d.js"><link rel="prefetch" href="/assets/js/31.ec02d3da.js"><link rel="prefetch" href="/assets/js/32.bd05dede.js"><link rel="prefetch" href="/assets/js/33.4a293dcf.js"><link rel="prefetch" href="/assets/js/34.4464026b.js"><link rel="prefetch" href="/assets/js/35.4dd4f327.js"><link rel="prefetch" href="/assets/js/36.ca28dda7.js"><link rel="prefetch" href="/assets/js/37.3a17971f.js"><link rel="prefetch" href="/assets/js/38.f86fa51b.js"><link rel="prefetch" href="/assets/js/39.6ff149b0.js"><link rel="prefetch" href="/assets/js/4.0471e9ae.js"><link rel="prefetch" href="/assets/js/40.23565895.js"><link rel="prefetch" href="/assets/js/41.0116a1ec.js"><link rel="prefetch" href="/assets/js/42.c38f3e0c.js"><link rel="prefetch" href="/assets/js/43.1d0d8ffd.js"><link rel="prefetch" href="/assets/js/44.631fa43e.js"><link rel="prefetch" href="/assets/js/45.0f88df1f.js"><link rel="prefetch" href="/assets/js/46.cc671ab0.js"><link rel="prefetch" href="/assets/js/47.90cce12d.js"><link rel="prefetch" href="/assets/js/48.ad0ce6a4.js"><link rel="prefetch" href="/assets/js/5.5356be46.js"><link rel="prefetch" href="/assets/js/50.de00c31b.js"><link rel="prefetch" href="/assets/js/51.9de8257a.js"><link rel="prefetch" href="/assets/js/52.50f1abf2.js"><link rel="prefetch" href="/assets/js/53.b3b3acb2.js"><link rel="prefetch" href="/assets/js/54.71bfe1b2.js"><link rel="prefetch" href="/assets/js/55.b00cfb1c.js"><link rel="prefetch" href="/assets/js/56.1bb058d3.js"><link rel="prefetch" href="/assets/js/57.5651fd65.js"><link rel="prefetch" href="/assets/js/58.3dd11306.js"><link rel="prefetch" href="/assets/js/59.233d45e8.js"><link rel="prefetch" href="/assets/js/6.5b3d5499.js"><link rel="prefetch" href="/assets/js/60.7c729149.js"><link rel="prefetch" href="/assets/js/61.eb5805f6.js"><link rel="prefetch" href="/assets/js/62.fde12179.js"><link rel="prefetch" href="/assets/js/63.3358d1e0.js"><link rel="prefetch" href="/assets/js/64.1b930210.js"><link rel="prefetch" href="/assets/js/65.3048ba53.js"><link rel="prefetch" href="/assets/js/66.a065502e.js"><link rel="prefetch" href="/assets/js/67.715eef17.js"><link rel="prefetch" href="/assets/js/68.edf44196.js"><link rel="prefetch" href="/assets/js/69.94cb6d60.js"><link rel="prefetch" href="/assets/js/7.c94df317.js"><link rel="prefetch" href="/assets/js/70.9061bb98.js"><link rel="prefetch" href="/assets/js/71.980c8e32.js"><link rel="prefetch" href="/assets/js/72.43be58ba.js"><link rel="prefetch" href="/assets/js/73.e2f40377.js"><link rel="prefetch" href="/assets/js/74.9ef8a48c.js"><link rel="prefetch" href="/assets/js/75.b006fb40.js"><link rel="prefetch" href="/assets/js/76.311cf38f.js"><link rel="prefetch" href="/assets/js/77.2d4b2c6d.js"><link rel="prefetch" href="/assets/js/78.81fd1ead.js"><link rel="prefetch" href="/assets/js/79.01e24fba.js"><link rel="prefetch" href="/assets/js/80.b15cc1f3.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.934ed2fb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8f3dca9f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">CHIEMINCHAN'S BLOG</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/articles/" class="nav-link router-link-active">
  æ–‡ç« 
</a></div><div class="nav-item"><a href="/fragments/" class="nav-link">
  çŸ¥è¯†ç¢ç‰‡
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  ç®—æ³•
</a></div><div class="nav-item"><a href="/reading/" class="nav-link">
  è¯»/è§‚åæ„Ÿ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow down"></span></button> <button type="button" aria-label="GitHub" class="mobile-dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/chieminchan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHubé¦–é¡µ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/articles/" class="nav-link router-link-active">
  æ–‡ç« 
</a></div><div class="nav-item"><a href="/fragments/" class="nav-link">
  çŸ¥è¯†ç¢ç‰‡
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  ç®—æ³•
</a></div><div class="nav-item"><a href="/reading/" class="nav-link">
  è¯»/è§‚åæ„Ÿ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow down"></span></button> <button type="button" aria-label="GitHub" class="mobile-dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/chieminchan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHubé¦–é¡µ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Browser</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>DesignPatterns</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/articles/JavaScript/JavaScriptæ‰§è¡Œä¸Šä¸‹æ–‡.html" class="sidebar-link">ğŸ‘‰ JavaScript æ‰§è¡Œä¸Šä¸‹æ–‡</a></li><li><a href="/articles/JavaScript/PromiseA+å®ç°åŸç†.html" class="sidebar-link">ğŸ‘‰ Promise/A+ å®ç°åŸç†</a></li><li><a href="/articles/JavaScript/V8å·¥ä½œåŸç†.html" class="sidebar-link">ğŸ‘‰ V8 å·¥ä½œåŸç†</a></li><li><a href="/articles/JavaScript/callã€applyã€bindçš„å®ç°.html" class="sidebar-link">ğŸ‘‰ callã€applyã€bind çš„å®ç°</a></li><li><a href="/articles/JavaScript/äº‹ä»¶æµå’Œäº‹ä»¶å¤„ç†ç¨‹åº.html" class="sidebar-link">ğŸ‘‰ äº‹ä»¶æµå’Œäº‹ä»¶å¤„ç†ç¨‹åº</a></li><li><a href="/articles/JavaScript/å…³äºPromiseçš„ä¸€äº›äº‹.html" class="sidebar-link">ğŸ‘‰ å…³äº Promise çš„ä¸€äº›äº‹</a></li><li><a href="/articles/JavaScript/æµè§ˆå™¨çš„ JavaScript äº‹ä»¶å¾ªç¯æœºåˆ¶.html" class="sidebar-link">ğŸ‘‰ æµè§ˆå™¨çš„ JavaScript äº‹ä»¶å¾ªç¯æœºåˆ¶</a></li><li><a href="/articles/JavaScript/æ·±æµ…æ‹·è´çš„å®ç°.html" class="sidebar-link">ğŸ‘‰ æ·±æµ…æ‹·è´çš„å®ç°</a></li><li><a href="/articles/JavaScript/ç†è§£ JavaScript çš„ async å’Œ await.html" class="active sidebar-link">ğŸ‘‰ ç†è§£ JavaScript çš„ async/await</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/articles/JavaScript/ç†è§£ JavaScript çš„ async å’Œ await.html#promise-é“¾å¼è°ƒç”¨çš„æ‰§è¡Œé¡ºåº" class="sidebar-link">Promise é“¾å¼è°ƒç”¨çš„æ‰§è¡Œé¡ºåº</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/articles/JavaScript/ç†è§£ JavaScript çš„ async å’Œ await.html#promise-çš„åŸºç¡€çŸ¥è¯†" class="sidebar-link">Promise çš„åŸºç¡€çŸ¥è¯†</a></li><li class="sidebar-sub-header"><a href="/articles/JavaScript/ç†è§£ JavaScript çš„ async å’Œ await.html#promise-prototype-then" class="sidebar-link">Promise.prototype.then</a></li><li class="sidebar-sub-header"><a href="/articles/JavaScript/ç†è§£ JavaScript çš„ async å’Œ await.html#promise-resolve" class="sidebar-link">Promise.resolve</a></li></ul></li><li class="sidebar-sub-header"><a href="/articles/JavaScript/ç†è§£ JavaScript çš„ async å’Œ await.html#async" class="sidebar-link">async</a></li><li class="sidebar-sub-header"><a href="/articles/JavaScript/ç†è§£ JavaScript çš„ async å’Œ await.html#await-åœ¨ç­‰ä»€ä¹ˆ" class="sidebar-link">await åœ¨ç­‰ä»€ä¹ˆï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/articles/JavaScript/ç†è§£ JavaScript çš„ async å’Œ await.html#æ¢³ç†æ€»ä½“çš„ä¾‹å­" class="sidebar-link">æ¢³ç†æ€»ä½“çš„ä¾‹å­</a></li><li class="sidebar-sub-header"><a href="/articles/JavaScript/ç†è§£ JavaScript çš„ async å’Œ await.html#å‚è€ƒæ–‡ç« " class="sidebar-link">å‚è€ƒæ–‡ç« </a></li></ul></li><li><a href="/articles/JavaScript/ç»§æ‰¿.html" class="sidebar-link">ğŸ‘‰ ç»§æ‰¿</a></li><li><a href="/articles/JavaScript/é˜²æŠ–å’ŒèŠ‚æµ.html" class="sidebar-link">ğŸ‘‰ é˜²æŠ–å’ŒèŠ‚æµ</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Microapp</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Network</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Project Management</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ç†è§£-javascript-çš„-async-await"><a href="#ç†è§£-javascript-çš„-async-await" class="header-anchor">#</a> ğŸ‘‰ ç†è§£ JavaScript çš„ async/await</h1> <p>é€šè¿‡ä¸Šä¸€ç¯‡ <a href="https://chieminchan.vercel.app/articles/JavaScript/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%20JavaScript%20%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%E6%9C%BA%E5%88%B6.html" target="_blank" rel="noopener noreferrer">æµè§ˆå™¨çš„ JavaScript äº‹ä»¶å¾ªç¯æœºåˆ¶<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ç¬”è®°ç†æ¸…äº‹ä»¶å¾ªç¯æœºåˆ¶ä»¥åï¼Œæ¥ä¸‹æ¥è¿›ä¸€æ­¥çœ‹çœ‹æ¶‰åŠæ›´å¤šç§å¼‚æ­¥æƒ…å†µçš„ä¾‹å­ï¼Œå†ç†ä¸€ç†å†å“ä¸€å“ï½</p> <p>Promise æ˜¯æ›¿ä»£ä¼ ç»Ÿå›è°ƒå‡½æ•°çš„ä¸€ä¸ªå¸¸ç”¨æ–¹æ¡ˆï¼Œä½†å½“å¤šä¸ªå¼‚æ­¥å›è°ƒæ—¶ä¼šå¯¼è‡´ä»£ç ä¸­å¤§é‡å‡ºç° then æ–¹æ³•ï¼Œä¸ºäº†è®©ä»£ç çœ‹èµ·æ¥æ›´åŠ æ‰å¹³åŒ–ï¼Œå› æ­¤æ­¤å¤„äº†æ–°çš„ä¸€å¥—è§£å†³æ–¹æ¡ˆ async/awaitï¼Œasync/await å®ç°ä¹Ÿç¦»ä¸å¼€ Promiseã€‚</p> <p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å…³äº Promise çš„æ‰§è¡Œé¡ºåºï¼š</p> <h2 id="promise-é“¾å¼è°ƒç”¨çš„æ‰§è¡Œé¡ºåº"><a href="#promise-é“¾å¼è°ƒç”¨çš„æ‰§è¡Œé¡ºåº" class="header-anchor">#</a> Promise é“¾å¼è°ƒç”¨çš„æ‰§è¡Œé¡ºåº</h2> <h3 id="promise-çš„åŸºç¡€çŸ¥è¯†"><a href="#promise-çš„åŸºç¡€çŸ¥è¯†" class="header-anchor">#</a> Promise çš„åŸºç¡€çŸ¥è¯†</h3> <p><a href="https://chieminchan.vercel.app/articles/JavaScript/%E5%85%B3%E4%BA%8EPromise%E7%9A%84%E4%B8%80%E4%BA%9B%E4%BA%8B.html" target="_blank" rel="noopener noreferrer">å…³äº promise çš„ä¸€äº›äº‹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>å¦‚æœå¯¹ Promise è¿˜æœ‰äº›ä¸å¤ªç†Ÿæ‚‰ï¼Œè¿™é‡Œå¯ç§»æ­¥è‡³å¦å¤–ä¸€ç¯‡æ–‡ç« ï¼Œæ¢³ç†äº†ä¸€äº›å…³äº Promise çš„ä¸€äº›å¸¸ç”¨çŸ¥è¯†ç‚¹ï¼Œäº†è§£å®Œä»¥åï¼Œå†å›æ¥ç»§ç»­å¾€ä¸‹çœ‹ã€‚ï¼ˆå¤§ç¥ä»¬å°±æ­¤è·³è¿‡å§ï½ï¼‰</p> <h3 id="promise-prototype-then"><a href="#promise-prototype-then" class="header-anchor">#</a> Promise.prototype.then</h3> <p>å…ˆæ¥çœ‹ä¸€ä¸ªé—®é¢˜ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> promise1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise1</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
promise1
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> promise2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise2</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
promise2
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>å¤©çœŸåœ°ä»¥ä¸º Promise.then ä¼šå°†å¼‚æ­¥æ“ä½œè¿ç»­ä¸”æŒ‰é¡ºåºä¸€ç³»åˆ—çš„æ¨è¿›å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œç„¶è€Œäº‹æƒ…çš„ç»“æœæ€»æ²¡æœ‰æƒ³è±¡ä¸­çš„ç®€å•ï¼Œæ­£ç¡®çš„è¾“å‡ºé¡ºåºæ˜¯ï¼š <code>1 4 2 5 3 6</code> ã€‚</p> <ul><li>å…ˆå¼•å‡ºä¸¤æ¡ç»“è®ºï¼š</li></ul> <blockquote><ol><li>Promise å¤šä¸ª then() é“¾å¼è°ƒç”¨ï¼Œå¹¶ä¸æ˜¯è¿ç»­çš„åˆ›å»ºäº†å¤šä¸ªå¾®ä»»åŠ¡å¹¶æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚then() çš„è¿”å›å€¼æ˜¯å¿…ç„¶ä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ï¼Œè€Œåç»­çš„ then() æ˜¯ä¸Šä¸€æ­¥ then() è¿”å›çš„ Promise çš„å›è°ƒã€‚</li></ol></blockquote> <blockquote><ol start="2"><li>then è´Ÿè´£æ³¨å†Œå›è°ƒå‡½æ•°ï¼Œå½“ Promise çŠ¶æ€å‘ç”Ÿäº†å˜åŒ–æ—¶ï¼Œæ‰ä¼šè§¦å‘æŠŠå¯¹åº”çš„å›è°ƒå‡½æ•°æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚ä¹Ÿå°±æ˜¯è¯´ then() æ–¹æ³•ä¼šå…ˆæ³¨å†Œå›è°ƒå‡½æ•°ï¼Œç›´åˆ°å‰é¢çš„ Promise å˜æˆäº† resolved/rejected çŠ¶æ€ï¼Œæ‰ä¼šå°†å›è°ƒæ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œè‹¥å‰é¢çš„ Promise ä¾ç„¶æ˜¯ pendingï¼Œåˆ™å°†å›è°ƒå­˜å‚¨åœ¨ Promise å†…éƒ¨ï¼Œä¸€ç›´ç­‰åˆ°çŠ¶æ€è¢«æ”¹å˜ã€‚</li></ol></blockquote> <ul><li>æ ¹æ®ä»¥ä¸Šç»“è®ºä¸‹é¢æ¥å¥½å¥½åœ°åˆ†æä¸€ä¸‹è¿‡ç¨‹ï¼š</li></ul> <p>ï¼ˆ1ï¼‰é¦–å…ˆï¼Œæ‰§è¡Œ promise1 æ„é€ å™¨å†…éƒ¨çš„åŒæ­¥ä»£ç ï¼Œæ‰§è¡Œåˆ° <code>resolve()</code>ï¼Œå°† promise1 çš„çŠ¶æ€æ”¹å˜ä¸º <code>Promise { &lt;resolved&gt; : undefined }</code> ï¼Œç„¶åç¬¬ä¸€ä¸ª then ä¸­ä¼ å…¥çš„å›è°ƒå‡½æ•° <code>console.log('1')</code> è¢«ä½œä¸ºä¸€ä¸ªå¾®ä»»åŠ¡è¢«æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œè€Œåœ¨æ­¤ä¹‹åçš„ç¬¬äºŒä¸ª then() ä¼ å…¥çš„å›è°ƒå‡½æ•°éœ€è¦ç­‰åˆ°ç¬¬ä¸€ä¸ª then() æ–°åˆ›å»ºçš„ Promise å®ä¾‹ resolved äº†ä»¥åï¼ˆå³ç­‰åˆ° <code>console.log('1')</code> è¾“å‡ºä»¥åï¼‰æ‰ä¼šå¾€ä¸‹æ‰§è¡Œã€‚</p> <table><thead><tr><th style="text-align:center;"></th> <th>ä»»åŠ¡</th></tr></thead> <tbody><tr><td style="text-align:center;">ä¸»çº¿ç¨‹</td> <td>promise2 åŒæ­¥ä»£ç </td></tr> <tr><td style="text-align:center;">å¾®ä»»åŠ¡</td> <td><code>console.log('1')</code></td></tr></tbody></table> <p>ï¼ˆ2ï¼‰æ¥ç€ï¼Œæ‰§è¡Œ promise2 åŒæ­¥ä»£ç ï¼ŒåŒæ ·åœ°æ‰§è¡Œåˆ°äº† <code>resolve()</code>ï¼Œå°† promise2 çš„çŠ¶æ€æ”¹å˜ä¸º <code>Promise { &lt;resolved&gt; : undefined }</code>ï¼Œç„¶å then ä¸­ä¼ å…¥çš„å›è°ƒå‡½æ•° <code>console.log('4')</code> ä½œä¸ºä¸€ä¸ªå¾®ä»»åŠ¡è¢«æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚</p> <table><thead><tr><th style="text-align:center;"></th> <th>ä»»åŠ¡</th></tr></thead> <tbody><tr><td style="text-align:center;">ä¸»çº¿ç¨‹</td> <td></td></tr> <tr><td style="text-align:center;">å¾®ä»»åŠ¡</td> <td><code>console.log('1')</code>ï¼Œ<code>console.log('4')</code></td></tr></tbody></table> <p>ï¼ˆ3ï¼‰ä¸»çº¿ç¨‹å·²ç»æ²¡æœ‰ä»»åŠ¡äº†ï¼Œæ‰€ä»¥å°†ä¼šå»æ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°æœ‰å¾®ä»»åŠ¡ï¼Œå°†ä¼šæŒ‰é¡ºåºä¸€ä¸€æ‰§è¡Œã€‚å…ˆæ‰§è¡Œ<code>console.log('1')</code>ï¼Œæ­¤æ—¶ promise1 çš„ç¬¬ä¸€ä¸ª then() çŠ¶æ€å˜æˆäº† resovledï¼Œä¼šè§¦å‘æŠŠ promise1 çš„ç¬¬äºŒä¸ª then ä¸­ä¼ å…¥çš„å›è°ƒå‡½æ•° <code>console.log('2')</code> è¢«ä½œä¸ºä¸€ä¸ªå¾®ä»»åŠ¡è¢«æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚ æ­¤æ—¶æ§åˆ¶å°ä¼šå…ˆè¾“å‡ºï¼š 1ã€‚</p> <table><thead><tr><th style="text-align:center;"></th> <th>ä»»åŠ¡</th></tr></thead> <tbody><tr><td style="text-align:center;">ä¸»çº¿ç¨‹</td> <td></td></tr> <tr><td style="text-align:center;">å¾®ä»»åŠ¡</td> <td><code>console.log('4')</code>ï¼Œ<code>console.log('2')</code></td></tr></tbody></table> <p>åŒæ ·åœ°ï¼Œç­‰åˆ° 1 è¢«è¾“å‡ºåï¼Œä¼šæ‰§è¡Œä¸‹ä¸€ä¸ªå¾®ä»»åŠ¡ <code>console.log('4')</code> ï¼Œè€Œæ­¤æ—¶ promise2 çš„ç¬¬ä¸€ä¸ª then() ä¹Ÿä¼šçŠ¶æ€å˜æˆäº† resovledï¼Œä¼šè§¦å‘æŠŠ promise2 çš„ç¬¬äºŒä¸ª then ä¸­ä¼ å…¥çš„å›è°ƒå‡½æ•° <code>console.log('5')</code> è¢«ä½œä¸ºä¸€ä¸ªå¾®ä»»åŠ¡è¢«æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚æ­¤æ—¶æ§åˆ¶å°è¾“å‡ºï¼š 1 4ã€‚</p> <table><thead><tr><th style="text-align:center;"></th> <th>ä»»åŠ¡</th></tr></thead> <tbody><tr><td style="text-align:center;">ä¸»çº¿ç¨‹</td> <td></td></tr> <tr><td style="text-align:center;">å¾®ä»»åŠ¡</td> <td><code>console.log('2')</code>ï¼Œ<code>console.log('5')</code></td></tr></tbody></table> <p>ï¼ˆ4ï¼‰æ¥ä¸‹æ¥çš„ç¨‹åºåƒç¬¬ 3 æ­¥æ‰€æè¿°é‚£æ ·å­ï¼Œå¾€å¤æ‰§è¡Œï¼Œç›´åˆ°æ‰€æœ‰ä»»åŠ¡è¢«æ‰§è¡Œå®Œæ¯•ã€‚æœ€åï¼Œæ§åˆ¶å°è¾“å‡ºï¼š<code>1 4 2 5 3 6</code>ã€‚</p> <h3 id="promise-resolve"><a href="#promise-resolve" class="header-anchor">#</a> Promise.resolve</h3> <p>é™æ€æ–¹æ³• <code>Promise.resolve</code> å¯ä»¥è®¤ä¸ºæ˜¯ <code>new Promise()</code> çš„å¿«æ·ä½¿ç”¨æ–¹å¼ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ç­‰ä»·äº</span>
Promise<span class="token punctuation">.</span><span class="token function">solve</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>Promise.resolve</code> ç”¨äºè¿”å›ä¸€ä¸ªå·²ç»™å‚æ•°è§£æåçš„ Promise å¯¹è±¡ã€‚å…¶ä¸­ï¼Œå‚æ•°æœ‰å››ç§æƒ…å†µï¼š</p> <ul><li><p>å‚æ•°ä¸ºä¸€ä¸ªåŸå§‹å€¼ï¼Œæˆ–è€…ä¸ºä¸€ä¸ªä¸å…·æœ‰ then æ–¹æ³•çš„å¯¹è±¡<br>
å¦‚æœå‚æ•°æ˜¯ä¸€ä¸ªåŸå§‹å€¼ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªä¸å…·æœ‰ then æ–¹æ³•çš„å¯¹è±¡æ—¶ï¼Œåˆ™ Promise.resolve ä¼šè¿”å›ä¸€ä¸ªæ–°çš„çŠ¶æ€ä¸º resolved çš„ Promise å¯¹è±¡ï¼Œå¹¶å°†å‚æ•°ä¼ ç»™å›è°ƒå‡½æ•°ã€‚</p></li> <li><p>æ²¡æœ‰å‚æ•°<br>
å½“ Promise.resolve æ–¹æ³•è°ƒç”¨ä¸å¸¦å‚æ•°æ—¶ï¼Œä¼šç›´æ¥è¿”å›ä¸€ä¸ªæ–°çš„çŠ¶æ€ä¸º resolved çš„ Promise å¯¹è±¡ã€‚</p></li> <li><p>å‚æ•°ä¸ºä¸€ä¸ª thenable å¯¹è±¡<br>
thenable å¯¹è±¡æ˜¯æŒ‡å…·æœ‰ then æ–¹æ³•çš„å¯¹è±¡ï¼Œæ¯”å¦‚ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> thenable <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">then</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;i am from thenable&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>Promise.resolve ä¼šå°†æ­¤ thenable å¯¹è±¡è½¬ä¸º Promise å¯¹è±¡ï¼Œå¹¶ä¸”ä¹‹åä¼šç«‹å³æ‰§è¡Œ thenable å¯¹è±¡é‡Œé¢çš„ then æ–¹æ³•ï¼Œæ¯”å¦‚ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> thenable <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">then</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;i am from thenable&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>thenable<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// i am from thenable</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>then æ–¹æ³•æ‰§è¡Œå®Œä»¥åï¼ŒPromise å¯¹è±¡çŠ¶æ€ä¹Ÿå°†è½¬ä¸ºå…¶ then æ–¹æ³•é‡Œé¢çš„å¯¹åº”çŠ¶æ€ã€‚</p> <p>åŒæ—¶ï¼Œä¹Ÿå¼•å…¥æ¥è‡ª<a href="https://juejin.im/post/5c3cc981f265da616a47e028#heading-13" target="_blank" rel="noopener noreferrer">ä»¤äººè´¹è§£çš„ async/await æ‰§è¡Œé¡ºåº<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ä¸­ï¼Œå¯¹ TC39 è§„èŒƒä¸­ Promise Resolve Functions çš„æè¿°æ€»ç»“ï¼š</p> <blockquote><ol><li><p>å¦‚æœæœ‰ä¸€ä¸ªå¯¹è±¡ <code>obj</code>ï¼Œä¸” <code>obj.then</code> æ˜¯ä¸€ä¸ª <code>function</code> ï¼Œé‚£ä¹ˆ <code>obj</code> å¯ä»¥è¢«ç§°ä¸º<code>thenable</code> å¯¹è±¡ï¼›</p></li> <li><p>å½“åœ¨ Promise ä¸­ resolve ä¸€ä¸ª thenable å¯¹è±¡æ—¶ï¼ˆ<code>new Promise(resolve =&gt; resolve(thenable))</code> ï¼‰ï¼Œéœ€è¦ä¸€ä¸ªè¿‡ç¨‹å»å°† <code>thenable</code> å¯¹è±¡è½¬æˆ Promiseï¼Œå¹¶ä¸”ä¼šç«‹å³è°ƒç”¨ <code>thenable</code> å¯¹è±¡é‡Œé¢ then çš„æ–¹æ³•ã€‚è¿™ä¸ªè¿‡ç¨‹éœ€è¦ä½œä¸ºä¸€ä¸ªä»»åŠ¡ï¼ˆ<code>PromiseResolveThenableJob</code>ï¼‰ï¼Œæ¨è¿›å½“å‰çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œä»¥ä¿è¯å¯¹ then æ–¹æ³•çš„è§£æå‘ç”Ÿåœ¨å…¶ä»–ä¸Šä¸‹æ–‡ä»£ç è§£æä¹‹åã€‚</p></li></ol></blockquote> <p>å¯èƒ½æœ‰ç‚¹ç»•ï¼Œæ¥çœ‹çœ‹è¡¨è¾¾ä¸Šè¿°æ„æ€çš„ä¾‹å­ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> thenable <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;in thenable&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;in p0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span>thenable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;thenable ok&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;in p1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>æ‰§è¡Œç»“æœï¼š <code>in p0 -&gt; in p1 -&gt; in thenable -&gt; 1 -&gt; thenable ok -&gt; 2 -&gt; 3 -&gt; 4</code></p> <p>è§£æï¼š</p> <p>æ­¤å¤„ï¼Œå°†ç¬¬ä¸€ä¸ª Promise ç®€ç§°ä¸º promise1ï¼Œå°†ç¬¬äºŒä¸ª Promise ç®€ç§°ä¸º promise2ã€‚</p> <p>ï¼ˆ1ï¼‰é¦–å…ˆï¼Œæ‰§è¡Œ promise1 åŒæ­¥ä»£ç ï¼Œè¾“å‡º<code>in p0</code>ï¼Œå½“ä»£ç æ‰§è¡Œåˆ° <code>resolve(thenable)</code>ï¼Œ æ­¤å¤„çš„ resolve ä¼šå°† <strong>thenable å¯¹è±¡è½¬åŒ–ä¸º Promise</strong> çš„è¿™ä¸€è¿‡ç¨‹ï¼ˆå³ PromiseResolveThenableJob ï¼‰<strong>ä½œä¸ºä¸€ä¸ªå¾®ä»»åŠ¡æ¨è¿›å¾®ä»»åŠ¡é˜Ÿåˆ—ç­‰å¾…æ‰§è¡Œ</strong>ï¼Œè€Œ promise1 çš„å¤–éƒ¨ä¸€ä¸ª then éœ€è¦<strong>ç­‰å¾…è¿™ä¸ªå¾®ä»»åŠ¡è¢« resolved åæ‰ä¼šè¢«æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</strong>ã€‚</p> <table><thead><tr><th style="text-align:center;"></th> <th>ä»»åŠ¡</th></tr></thead> <tbody><tr><td style="text-align:center;">ä¸»çº¿ç¨‹</td> <td>promise2 åŒæ­¥ä»£ç </td></tr> <tr><td style="text-align:center;">å¾®ä»»åŠ¡</td> <td><code>thenable</code></td></tr></tbody></table> <p>ï¼ˆ2ï¼‰ç„¶åç»§ç»­å¾€ä¸‹æ‰§è¡Œ promise2 åŒæ­¥ä»£ç ï¼Œè¾“å‡º<code>in p1</code>ï¼Œå½“ä»£ç æ‰§è¡Œåˆ° <code>resolve()</code>ï¼Œä¼šå°† promise2 çš„çŠ¶æ€å˜æˆ <code>Promise {&lt;resolved&gt;: undefined}</code>ï¼Œç„¶å promise2.then çš„ç¬¬ä¸€ä¸ªå›è°ƒå‡½æ•° <code>console.log('1')</code> ä¼šè¢«ä½œä¸ºä¸€ä¸ªå¾®ä»»åŠ¡è¢«æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚æ­¤æ—¶æ§åˆ¶å°è¾“å‡ºï¼š<code>in p0 -&gt; in p1</code>ã€‚</p> <table><thead><tr><th style="text-align:center;"></th> <th>ä»»åŠ¡</th></tr></thead> <tbody><tr><td style="text-align:center;">ä¸»çº¿ç¨‹</td> <td></td></tr> <tr><td style="text-align:center;">å¾®ä»»åŠ¡</td> <td><code>thenable</code>ï¼Œ<code>console.log('1')</code></td></tr></tbody></table> <p>ï¼ˆ3ï¼‰ä¸»çº¿ç¨‹è¿™æ—¶æ²¡æœ‰ä»»åŠ¡äº†ï¼Œæ¥ç€ä¼šæ£€ç´¢å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œå¹¶ä¼šæŒ‰é¡ºåºæ‰§è¡Œã€‚è¿™é‡Œä¼šå…ˆå¯¹ <code>thenable</code> å¯¹è±¡è¿›è¡Œå¤„ç†ï¼Œè¿™æ—¶å€™ä¼šè¾“å‡º <code>in thenable</code> ï¼Œå½“ä»£ç æ‰§è¡Œåˆ° <code>resolve(100)</code> ï¼Œè¿™ä¸ªå¾®ä»»åŠ¡çŠ¶æ€å·²è¢«æ”¹å˜ä¸º <code>Promise {&lt;resolved&gt;: 100}</code>ï¼Œpromise1 å¤–éƒ¨çš„ç¬¬ä¸€ä¸ª then å›è°ƒå°†ä¼šè¢«æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚æ­¤æ—¶æ§åˆ¶å°è¾“å‡ºï¼š<code>in p0 -&gt; in p1 -&gt; in thenable</code>ã€‚</p> <table><thead><tr><th style="text-align:center;"></th> <th>ä»»åŠ¡</th></tr></thead> <tbody><tr><td style="text-align:center;">ä¸»çº¿ç¨‹</td> <td></td></tr> <tr><td style="text-align:center;">å¾®ä»»åŠ¡</td> <td><code>console.log('1')</code>ï¼Œ<code>console.log('thenable ok')</code></td></tr></tbody></table> <p>æ¥ç€ï¼Œæ‰§è¡Œ promise2 çš„ç¬¬ä¸€ä¸ª then å›è°ƒ <code>console.log('1')</code>ï¼ˆçŠ¶æ€å˜æˆäº† resolvedï¼‰ï¼Œç´§æ¥ç€ promise2 çš„ç¬¬äºŒä¸ª then å›è°ƒ <code>console.log('2')</code> ä¼šè¢«æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚æ­¤æ—¶æ§åˆ¶å°è¾“å‡ºï¼š<code>in p0 -&gt; in p1 -&gt; in thenable -&gt; 1</code>ã€‚</p> <table><thead><tr><th style="text-align:center;"></th> <th>ä»»åŠ¡</th></tr></thead> <tbody><tr><td style="text-align:center;">ä¸»çº¿ç¨‹</td> <td></td></tr> <tr><td style="text-align:center;">å¾®ä»»åŠ¡</td> <td><code>console.log('thenable ok')</code>ï¼Œ<code>console.log('2')</code></td></tr></tbody></table> <p>ï¼ˆ4ï¼‰æ¥ç€ï¼Œæ‰§è¡Œ promise1 çš„æœ€åä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œè¾“å‡º <code>thenable ok</code> ã€‚promise1 çš„æ•´ä¸ªè¿‡ç¨‹å·²ç»æ‰§è¡Œå®Œï¼Œæ¥ç€æ‰§è¡Œ promise2 çš„ç¬¬äºŒä¸ª then å›è°ƒï¼Œè¾“å‡º <code>2</code>ã€‚å‰©ä¸‹çš„ï¼Œå°±æ¥ç€ä¸€æ­¥æ­¥æ‰§è¡Œï¼Œç›´è‡³æ§åˆ¶å°è¾“å‡ºï¼š<code>in p0 -&gt; in p1 -&gt; in thenable -&gt; 1 -&gt; thenable ok -&gt; 2 -&gt; 3 -&gt; 4</code> ã€‚</p> <p>ä¸Šè¿°çš„<code>resolve(thenable)</code>å¯è½¬åŒ–ä¸ºï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;in p0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span>thenable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;thenable ok&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ç­‰ä»·äº</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;in p0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        thenable<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>å‚æ•°ä¸ºä¸€ä¸ª Promise å¯¹è±¡<br>
å½“å‚æ•°æ˜¯ä¸€ä¸ª Promise å¯¹è±¡æ—¶ï¼Œé‚£ä¹ˆ Promise.resolve ä¼šå°†è¿™ä¸ª Promise å¯¹è±¡ä¸ä½œä»»ä½•ä¿®æ”¹åœ°è¿”å›ã€‚</p> <p>æ³¨æ„ï¼š <strong>æ­¤æ—¶çš„<code>Promise.resolve(v)</code> ä¸ç­‰äº <code>new Promise(r =&gt; r(v))</code></strong>ï¼Œå› ä¸ºå¦‚æœ v æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå‰è€…ä¼šç›´æ¥è¿”å› vï¼Œè€Œåè€…éœ€è¦ç»è¿‡ä¸€ç³»åˆ—çš„å¤„ç†ï¼ˆä¸»è¦æ˜¯ PromiseResolveThenableJobï¼‰ã€‚</p> <blockquote><p>ç”±äº Promise å®ä¾‹æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶åŸå‹ä¸Šæœ‰ then æ–¹æ³•ï¼Œæ‰€ä»¥è¿™ä¹Ÿæ˜¯ä¸€ä¸ª thenable å¯¹è±¡ã€‚<br>
åŒæ ·çš„ï¼Œæµè§ˆå™¨ä¼šåˆ›å»ºä¸€ä¸ª PromiseResolveThenableJob å»å¤„ç†è¿™ä¸ª Promise å®ä¾‹ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾®ä»»åŠ¡ã€‚åœ¨ PromiseResolveThenableJob æ‰§è¡Œä¸­ï¼Œæ‰§è¡Œäº† Promise.prototype.thenï¼Œè€Œè¿™æ—¶ Promise å¦‚æœå·²ç»æ˜¯ resolved çŠ¶æ€ ï¼Œthen çš„æ‰§è¡Œä¼šå†ä¸€æ¬¡åˆ›å»ºäº†ä¸€ä¸ªå¾®ä»»åŠ¡ã€‚<br>
æœ€ç»ˆç»“æœå°±æ˜¯ï¼šé¢å¤–åˆ›å»ºäº†ä¸¤ä¸ª Jobï¼Œè¡¨ç°ä¸Šå°±æ˜¯åç»­ä»£ç è¢«æ¨è¿Ÿäº† 2 ä¸ªæ—¶åºã€‚</p></blockquote></li></ul> <h2 id="async"><a href="#async" class="header-anchor">#</a> async</h2> <p>å…³äº async å‡½æ•°ï¼Œæ˜¯ ES6 ä¸­ Generator å‡½æ•°çš„è¯­æ³•ç³–ï¼ˆå’Œ Generator çš„åŒºåˆ«ä»€ä¹ˆçš„å°±ä¸å±•å¼€äº†...ï¼‰ã€‚è¯­ä¹‰ä¸Šä¹Ÿè¡¨æ˜äº†å¸¦ async å…³é”®å­—çš„å‡½æ•°ä¸­æœ‰å¼‚æ­¥æ“ä½œï¼Œè€Œè¿™ç±»å‡½æ•°çš„è¿”å›å€¼å¿…å®šä¸€ä¸ªæ˜¯ promise å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ then æ–¹æ³•è¿›è¡Œåç»­çš„æ“ä½œã€‚</p> <p>å¦‚æœ async å…³é”®å­—å‡½æ•°è¿”å›çš„ä¸æ˜¯ promiseï¼Œä¼šè‡ªåŠ¨ç”¨ Promise.resolve() åŒ…è£…ï¼ˆé™¤éè¢«æŠ›å‡ºé”™è¯¯ï¼Œä¼šä½¿ç”¨ Promise.reject()ï¼‰ã€‚å¦‚æœ async å…³é”®å­—å‡½æ•°æ˜¾å¼åœ°è¿”å› promiseï¼Œé‚£å°±ä»¥è¿”å›çš„ promise ä¸ºå‡†ã€‚å¦‚æœ async å…³é”®å­—å‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œå°±ä¼šè¿”å› Promise.resolve(undefined)ã€‚</p> <p><strong>ä¾‹å­ 1</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">asnyc1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;i am from async1 function&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
async1<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¾“å‡ºçš„ç»“æœå…ˆåé¡ºåºä¸ºï¼š <code>start -&gt; i am from async1 function</code> è™½ç„¶æ˜¯ä¸Šé¢ asnyc1()å…ˆæ‰§è¡Œäº†ï¼Œä½†æ˜¯å› ä¸ºè¢«å®šä¹‰æˆäº†å¼‚æ­¥å‡½æ•°ï¼Œæ‰€ä»¥ä¸ä¼šå½±å“åç»­å‡½æ•°çš„æ‰§è¡Œã€‚</p> <p>é‚£å…³äº await çš„å‘¢ï¼Œä¸€èˆ¬ await å…³é”®å­—åªèƒ½åœ¨ async å…³é”®å­—å‡½æ•°çš„å†…éƒ¨å‡ºç°ã€‚async å‡½æ•°å¿…é¡»ç­‰åˆ°å†…éƒ¨æ‰€æœ‰çš„ await å‘½ä»¤æ‰§è¡Œå®Œï¼Œæ‰ä¼šå‘ç”ŸçŠ¶æ€æ”¹å˜ã€‚ é‚£ await åœ¨ async å‡½æ•°ä¸­åœ¨ç­‰ä»€ä¹ˆå‘¢ï¼Ÿ</p> <h2 id="await-åœ¨ç­‰ä»€ä¹ˆ"><a href="#await-åœ¨ç­‰ä»€ä¹ˆ" class="header-anchor">#</a> await åœ¨ç­‰ä»€ä¹ˆï¼Ÿ</h2> <p><strong>åœ¨æ²¡æœ‰ä½¿ç”¨ await çš„æƒ…å†µä¸‹æ‰§è¡Œ async å‡½æ•°ï¼Œå®ƒä¼šç«‹å³æ‰§è¡Œï¼Œè¿”å›ä¸€ä¸ª Promise å¯¹è±¡</strong>ï¼Œå¹¶ä¸”ç»ä¸ä¼šé˜»å¡åé¢çš„è¯­å¥ï¼ŒPromise çš„ç‰¹ç‚¹ä¹‹ä¸€æ˜¯æ— ç­‰å¾…ï¼Œæ‰€ä»¥è¿™å’Œæ™®é€šè¿”å› Promise å¯¹è±¡çš„å‡½æ•°ä½¿ç”¨èµ·æ¥æ²¡å¤ªå¤§å·®åˆ«ã€‚</p> <p>ä¸€æ—¦ä½¿ç”¨ awaitï¼Œæƒ…å†µå°±æœ‰ç‚¹ä¸å¤ªä¸€æ ·äº†ã€‚ä¸€èˆ¬å¯è®¤ä¸º await æ˜¯åœ¨ç­‰å¾… async å‡½æ•°å®Œæˆã€‚ï¼ˆå› ä¸º async å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ª promise å¯¹è±¡ï¼Œæ‰€ä»¥ await å¯ä»¥ç”¨äºç­‰å¾…ä¸€ä¸ª async å‡½æ•°çš„è¿”å›å€¼ã€‚ï¼‰ä½†æŒ‰<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await" target="_blank" rel="noopener noreferrer">è¯­æ³•<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>æ¥è¯´ï¼Œawait æ˜¯ä¸ªè¿ç®—ç¬¦ï¼Œç”¨äºç»„æˆè¡¨è¾¾å¼ï¼Œawait è¡¨è¾¾å¼çš„è¿ç®—ç»“æœå–å†³äºå®ƒç­‰çš„ç»“æœã€‚</p> <p><strong>await æ˜¯ä¸€ä¸ªè®©å‡ºçº¿ç¨‹çš„æ ‡å¿—ï¼Œé˜»å¡ async å‡½æ•°å†…éƒ¨å‡ºç°åœ¨ await åé¢çš„ä»£ç </strong>ã€‚æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;async1 start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;async1 end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;async2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;script start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>åœ¨ä¾‹å­ä¸­ï¼Œé‡åˆ° <code>await async2()</code>æ—¶ï¼Œä¼š<strong>å…ˆæ‰§è¡Œ await åé¢çš„å‡½æ•° async2()ï¼Œå°† await åé¢çš„ä»£ç åŠ å…¥åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œåå°†ä¼šè·³å‡ºæ•´ä¸ª async1 å‡½æ•°ï¼Œæ¥ç€æ‰§è¡Œå¤–éƒ¨ä»£ç ï¼Œæœ€åç­‰åˆ°æœ¬è½®äº‹ä»¶å¾ªç¯æ‰§è¡Œå®Œäº†ä¹‹åï¼Œå†æ¥ç€è·³å› async1 å‡½æ•°ä¸­ç­‰å¾… await åé¢è¡¨è¾¾å¼çš„è¿”å›å€¼</strong>ã€‚</p> <blockquote><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ­¤æ—¶ç­‰å¾…çš„è¿”å›å€¼åˆåˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š</p> <ol><li>å¦‚æœè¿”å›å€¼ä¸ºé Promise å¯¹è±¡åˆ™æŠŠè¿™ä¸ªé Promise ä¸œè¥¿ä½œä¸º await è¡¨è¾¾å¼çš„ç»“æœï¼Œç„¶åç»§ç»­æ‰§è¡Œ async å‡½æ•°å†…éƒ¨åé¢çš„ä»£ç ï¼ˆawait åé¢çš„ä»£ç å¯ä»¥ç®€å•ç†è§£ä¸ºæ˜¯.then çš„å›è°ƒäº‹ä»¶ï¼‰ï¼›</li></ol></blockquote> <blockquote><ol start="2"><li>å¦‚æœè¿”å›å€¼ä¸º Promise å¯¹è±¡åˆ™å°†è¿”å›çš„ Promise æ”¾å…¥ Promise é˜Ÿåˆ—ï¼Œç­‰å¾…è¿™ä¸ªå¯¹è±¡è¢« resolve åï¼ŒæŠŠ resolve çš„å‚æ•°ä½œä¸º await è¡¨è¾¾å¼ç»“æœã€‚ï¼ˆå› æ­¤æœ‰è¿™æ ·å­çš„è¯´æ³•ï¼šasync å‡½æ•°çš„è°ƒç”¨æ˜¯ä¸ä¼šé€ æˆé˜»å¡ï¼Œå› ä¸ºä¸€æ—¦æ‰§é‡åˆ° await å°±å…ˆè¿”å›ï¼Œå®ƒå†…éƒ¨æ‰€æœ‰çš„â€œé˜»å¡â€éƒ½è¢«å°è£…åœ¨ä¸€ä¸ª Promise å¯¹è±¡ä¸­å¼‚æ­¥æ‰§è¡Œï¼Œç­‰åˆ°è¿™ä¸ª Promise å¼‚æ­¥æ“ä½œå®Œæˆä»¥åï¼Œå†æ¥ç€æ‰§è¡Œå‡½æ•°ä½“å†…åé¢çš„ä»£ç ã€‚å¦‚æœè¿™ä¸ª Promise æ²¡è¢« resolveï¼Œawait åç»­çš„ä»£ç å°†ä¸ä¼šæ‰§è¡Œã€‚ï¼‰</li></ol></blockquote> <p>å³ä¸Šè¿°ä¾‹å­ä»£ç å¯è½¬åŒ–ä¸ºï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;async1 start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;async1 end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;async2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;script start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>æ‰€ä»¥ï¼Œä¸Šé¢çš„ä¾‹å­è¾“å‡ºé¡ºåºåº”è¯¥æ˜¯ï¼š<code>async1 start -&gt; async2 -&gt; script start -&gt; async1 end</code>ã€‚</p> <p>ç•™ä¸‹çš„ç–‘é—®ï¼š<br>
async/await å’Œ promise çš„åŒºåˆ«åœ¨å“ªï¼Ÿ<br>
async/await çš„ä¼˜åŠ¿åœ¨å“ªï¼Ÿ<br>
ä»€ä¹ˆæ—¶å€™åº”è¯¥é€‰æ‹©ç”¨ async/awaitï¼Ÿ</p> <h2 id="æ¢³ç†æ€»ä½“çš„ä¾‹å­"><a href="#æ¢³ç†æ€»ä½“çš„ä¾‹å­" class="header-anchor">#</a> æ¢³ç†æ€»ä½“çš„ä¾‹å­</h2> <p>æ¥æ¥æ¥ï¼Œå†æ¥ä¸€ä¸ªä¾‹å­æ¢³ç†ä¸€ä¸‹ä»¥ä¸Šå…¨æ–‡æ€»ä½“ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;async1 start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//æ›´æ”¹å¦‚ä¸‹ï¼š</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;setTimeout1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//æ›´æ”¹å¦‚ä¸‹ï¼š</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;setTimeout2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;script start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;setTimeout3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;promise1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;promise2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;script end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¿™é‡Œä¾æ¬¡è¾“å‡ºçš„ç»“æœï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>script start
async1 start
promise1
script end
promise2
setTimeout3
setTimeout2
setTimeout1
</code></pre></div><p>ä¼¼æ‡‚æœªæ‡‚ï¼Ÿå†æ¥ä¸€é¢˜ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">testSometing</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;in testSomething&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;return testSomething&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">testAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;in testAsync&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;hello async&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;test start...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// å…³é”®ç‚¹1</span>
    <span class="token keyword">const</span> testFn1 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">testSometing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>testFn1<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// å…³é”®ç‚¹2</span>
    <span class="token keyword">const</span> testFn2 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">testAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>testFn2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>testFn1<span class="token punctuation">,</span> testFn2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> promiseFn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;promise start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;promise resolve&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
promiseFn<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;test end...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¿™ä¸€é¢˜æ¬æ¥å°æ¤…å­ï¼Œé€ä¸ªæ¥å¥½å¥½åˆ†æåˆ†æï¼š</p> <p>ï¼ˆ1ï¼‰é¦–å…ˆæ‰§è¡Œ<code>test()</code>ï¼Œä¼šè¾“å‡ºï¼š<code>console.log(&quot;test start...&quot;)</code>ï¼Œç„¶åæ‰§è¡Œåˆ°<code>const testFn1 = await testSometing();</code>ï¼Œæ­¤æ—¶ä¼šå…ˆæ‰§è¡Œ testSomething()ï¼Œè¾“å‡º<code>console.log(&quot;in testSomething&quot;)</code>ï¼Œæ­¤æ—¶ await å°†ä¼šè®©å‡ºçº¿ç¨‹ï¼Œå°±è·³å‡º<code>test()</code>å‡½æ•°å…ˆæ‰§è¡Œå‡½æ•°ä½“å¤–çš„ä»£ç ï¼ˆå¯ä»¥ç†è§£ä¸º await ä¸‹é¢çš„ä»£ç éƒ½è¢«å½“æˆå¾®ä»»åŠ¡æ¨è¿›å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼‰ã€‚</p> <p>ï¼ˆ2ï¼‰æ¥ç€æ‰§è¡Œåˆ°<code>promiseFn</code>ï¼Œå…ˆè¾“å‡º<code>console.log(&quot;promise start&quot;)</code>ï¼Œå¾€ä¸‹æ‰§è¡Œåˆ°<code>resolve(&quot;promise resolve&quot;)</code>ï¼ŒpromiseFn çš„ then å›è°ƒå°†ä¼šè¢«æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚åŒæ—¶ï¼Œç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œè¾“å‡º<code>console.log(&quot;test end...&quot;)</code>ã€‚</p> <p>æ­¤æ—¶ï¼Œä¸»çº¿ç¨‹çš„ä»»åŠ¡è¢«æ‰§è¡Œå®Œï¼Œè¾“å‡ºç»“æœï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>test start...
in testSomething
promise start
test end...
</code></pre></div><p>ï¼ˆ3ï¼‰ç„¶åæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå³è·³å›<code>test()</code>å‡½æ•°ä½“å†…ç»§ç»­å¾€ä¸‹æ‰§è¡Œã€‚ç­‰å¾…åˆ° testSomething() è¿”å›çš„æ˜¯é Promise å¯¹è±¡ï¼Œç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œå³å…ˆè¾“å‡º<code>console.log(testFn1)ï¼Œå³ return testSomething</code>ã€‚</p> <p>ï¼ˆ4ï¼‰ç„¶åæ‰§è¡Œåˆ°<code>const testFn2 = await testAsync()</code>ï¼Œè¾“å‡º<code>console.log(&quot;in testAsync&quot;)</code>åï¼Œåˆä¼šå†æ¬¡è®©å‡ºçº¿ç¨‹ï¼Œæ‰§è¡Œä¸‹ä¸€ä¸ªå¾®ä»»åŠ¡ï¼ˆå³ promiseFn çš„ then å›è°ƒ<code>promiseFn.then(val =&gt; console.log(val))</code>ï¼‰ï¼Œè¾“å‡º<code>&quot;promise resolve&quot;</code>ã€‚</p> <p>è‡³æ­¤ï¼Œæ­¤æ—¶çš„è¾“å‡ºç»“æœ</p> <div class="language- extra-class"><pre class="language-text"><code>test start...
in testSomething
promise start
test end...
return testSomething
in testAsync
promise resolve
</code></pre></div><p>å¦‚æœå¯¹è®©å‡ºçº¿ç¨‹è¿™ä¸ªè¯´æ³•è¿˜æ˜¯æœ‰ç‚¹éš¾ç†è§£ï¼Œå¯ä»¥é€šè¿‡å¯¹å…³é”®ç‚¹ 1 å’Œå…³é”®ç‚¹ 2 çš„è½¬åŒ–æ¥ç†è§£ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;test start...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// å…³é”®ç‚¹1</span>
    <span class="token comment">// const testFn1 = await testSometing();</span>
    <span class="token comment">// console.log(testFn1);</span>

    <span class="token comment">// å…³é”®ç‚¹2</span>
    <span class="token comment">// const testFn2 = await testAsync();</span>
    <span class="token comment">// console.log(testFn2);</span>
    <span class="token comment">// console.log(testFn1, testFn2);</span>

    <span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token function">testSometing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// å°†p1çš„å›è°ƒæ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</span>
    Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res1</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> p2 <span class="token operator">=</span> <span class="token function">testAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// å°†p2çš„å›è°ƒæ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</span>
        Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res2<span class="token punctuation">)</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res1<span class="token punctuation">,</span> res2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ï¼ˆ4ï¼‰æœ€åï¼Œå†å›åˆ°<code>test()</code>å‡½æ•°ä½“å†…ï¼Œç­‰å¾…<code>testAsync()</code>è¿”å›çš„ Promise å¯¹è±¡è¢« resolve åï¼Œå¾€ä¸‹æ‰§è¡Œ<code>console.log(testFn2)</code>å’Œ<code>console.log(testFn1, testFn2)</code>ã€‚</p> <p>æœ€ç»ˆè¾“å‡ºç»“æœï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>test start...
in testSomething
promise start
test end...
return testSomething
in testAsync
promise resolve
hello async
return testSomething, hello async
</code></pre></div><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="header-anchor">#</a> å‚è€ƒæ–‡ç« </h2> <table><thead><tr><th style="text-align:center;">åºå·</th> <th>æ–‡ç« </th></tr></thead> <tbody><tr><td style="text-align:center;">1</td> <td><a href="https://juejin.im/post/5c3cc981f265da616a47e028" target="_blank" rel="noopener noreferrer">ä»¤äººè´¹è§£çš„ async/await æ‰§è¡Œé¡ºåº<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:center;">2</td> <td><a href="https://segmentfault.com/a/1190000007535316" target="_blank" rel="noopener noreferrer">ç†è§£ JavaScript çš„ async/await<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:center;">3</td> <td><a href="https://juejin.im/post/5dabf847e51d4524d674881c" target="_blank" rel="noopener noreferrer">Promise é“¾å¼è°ƒç”¨é¡ºåºå¼•å‘çš„æ€è€ƒ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:center;">4</td> <td><a href="https://segmentfault.com/q/1010000016147496?_ea=5766963" target="_blank" rel="noopener noreferrer">async await å’Œ promise å¾®ä»»åŠ¡æ‰§è¡Œé¡ºåºé—®é¢˜<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/articles/JavaScript/æ·±æµ…æ‹·è´çš„å®ç°.html" class="prev">
        ğŸ‘‰ æ·±æµ…æ‹·è´çš„å®ç°
      </a></span> <span class="next"><a href="/articles/JavaScript/ç»§æ‰¿.html">
        ğŸ‘‰ ç»§æ‰¿
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.448d156c.js" defer></script><script src="/assets/js/2.fefa3fa1.js" defer></script><script src="/assets/js/1.67a15f5a.js" defer></script><script src="/assets/js/49.ade35f37.js" defer></script>
  </body>
</html>

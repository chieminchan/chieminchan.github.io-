<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ğŸ‘‰ æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ª npm åŒ… | CHIEMINCHAN&#39;S BLOG</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/images/donut.png">
    <meta name="description" content="Hi, glad you came.">
    
    <link rel="preload" href="/assets/css/0.styles.8f3dca9f.css" as="style"><link rel="preload" href="/assets/js/app.448d156c.js" as="script"><link rel="preload" href="/assets/js/2.fefa3fa1.js" as="script"><link rel="preload" href="/assets/js/1.67a15f5a.js" as="script"><link rel="preload" href="/assets/js/67.715eef17.js" as="script"><link rel="prefetch" href="/assets/js/10.5229b01a.js"><link rel="prefetch" href="/assets/js/11.9dccb5a1.js"><link rel="prefetch" href="/assets/js/12.1aa023e7.js"><link rel="prefetch" href="/assets/js/13.da540175.js"><link rel="prefetch" href="/assets/js/14.981e669d.js"><link rel="prefetch" href="/assets/js/15.f28dd0b3.js"><link rel="prefetch" href="/assets/js/16.47e1d84d.js"><link rel="prefetch" href="/assets/js/17.7ff34030.js"><link rel="prefetch" href="/assets/js/18.6dcbdd16.js"><link rel="prefetch" href="/assets/js/19.e568fd00.js"><link rel="prefetch" href="/assets/js/20.182f1f9b.js"><link rel="prefetch" href="/assets/js/21.b834a74a.js"><link rel="prefetch" href="/assets/js/22.a3523cd2.js"><link rel="prefetch" href="/assets/js/23.61d15c5b.js"><link rel="prefetch" href="/assets/js/24.2aadb209.js"><link rel="prefetch" href="/assets/js/25.836695fb.js"><link rel="prefetch" href="/assets/js/26.0ab922cb.js"><link rel="prefetch" href="/assets/js/27.5ac9e339.js"><link rel="prefetch" href="/assets/js/28.d6a5eb15.js"><link rel="prefetch" href="/assets/js/29.3eea682e.js"><link rel="prefetch" href="/assets/js/3.fc739620.js"><link rel="prefetch" href="/assets/js/30.5225944d.js"><link rel="prefetch" href="/assets/js/31.ec02d3da.js"><link rel="prefetch" href="/assets/js/32.bd05dede.js"><link rel="prefetch" href="/assets/js/33.4a293dcf.js"><link rel="prefetch" href="/assets/js/34.4464026b.js"><link rel="prefetch" href="/assets/js/35.4dd4f327.js"><link rel="prefetch" href="/assets/js/36.ca28dda7.js"><link rel="prefetch" href="/assets/js/37.3a17971f.js"><link rel="prefetch" href="/assets/js/38.f86fa51b.js"><link rel="prefetch" href="/assets/js/39.6ff149b0.js"><link rel="prefetch" href="/assets/js/4.0471e9ae.js"><link rel="prefetch" href="/assets/js/40.23565895.js"><link rel="prefetch" href="/assets/js/41.0116a1ec.js"><link rel="prefetch" href="/assets/js/42.c38f3e0c.js"><link rel="prefetch" href="/assets/js/43.1d0d8ffd.js"><link rel="prefetch" href="/assets/js/44.631fa43e.js"><link rel="prefetch" href="/assets/js/45.0f88df1f.js"><link rel="prefetch" href="/assets/js/46.cc671ab0.js"><link rel="prefetch" href="/assets/js/47.90cce12d.js"><link rel="prefetch" href="/assets/js/48.ad0ce6a4.js"><link rel="prefetch" href="/assets/js/49.ade35f37.js"><link rel="prefetch" href="/assets/js/5.5356be46.js"><link rel="prefetch" href="/assets/js/50.de00c31b.js"><link rel="prefetch" href="/assets/js/51.9de8257a.js"><link rel="prefetch" href="/assets/js/52.50f1abf2.js"><link rel="prefetch" href="/assets/js/53.b3b3acb2.js"><link rel="prefetch" href="/assets/js/54.71bfe1b2.js"><link rel="prefetch" href="/assets/js/55.b00cfb1c.js"><link rel="prefetch" href="/assets/js/56.1bb058d3.js"><link rel="prefetch" href="/assets/js/57.5651fd65.js"><link rel="prefetch" href="/assets/js/58.3dd11306.js"><link rel="prefetch" href="/assets/js/59.233d45e8.js"><link rel="prefetch" href="/assets/js/6.5b3d5499.js"><link rel="prefetch" href="/assets/js/60.7c729149.js"><link rel="prefetch" href="/assets/js/61.eb5805f6.js"><link rel="prefetch" href="/assets/js/62.fde12179.js"><link rel="prefetch" href="/assets/js/63.3358d1e0.js"><link rel="prefetch" href="/assets/js/64.1b930210.js"><link rel="prefetch" href="/assets/js/65.3048ba53.js"><link rel="prefetch" href="/assets/js/66.a065502e.js"><link rel="prefetch" href="/assets/js/68.edf44196.js"><link rel="prefetch" href="/assets/js/69.94cb6d60.js"><link rel="prefetch" href="/assets/js/7.c94df317.js"><link rel="prefetch" href="/assets/js/70.9061bb98.js"><link rel="prefetch" href="/assets/js/71.980c8e32.js"><link rel="prefetch" href="/assets/js/72.43be58ba.js"><link rel="prefetch" href="/assets/js/73.e2f40377.js"><link rel="prefetch" href="/assets/js/74.9ef8a48c.js"><link rel="prefetch" href="/assets/js/75.b006fb40.js"><link rel="prefetch" href="/assets/js/76.311cf38f.js"><link rel="prefetch" href="/assets/js/77.2d4b2c6d.js"><link rel="prefetch" href="/assets/js/78.81fd1ead.js"><link rel="prefetch" href="/assets/js/79.01e24fba.js"><link rel="prefetch" href="/assets/js/80.b15cc1f3.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.934ed2fb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8f3dca9f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">CHIEMINCHAN'S BLOG</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/articles/" class="nav-link router-link-active">
  æ–‡ç« 
</a></div><div class="nav-item"><a href="/fragments/" class="nav-link">
  çŸ¥è¯†ç¢ç‰‡
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  ç®—æ³•
</a></div><div class="nav-item"><a href="/reading/" class="nav-link">
  è¯»/è§‚åæ„Ÿ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow down"></span></button> <button type="button" aria-label="GitHub" class="mobile-dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/chieminchan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHubé¦–é¡µ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/articles/" class="nav-link router-link-active">
  æ–‡ç« 
</a></div><div class="nav-item"><a href="/fragments/" class="nav-link">
  çŸ¥è¯†ç¢ç‰‡
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  ç®—æ³•
</a></div><div class="nav-item"><a href="/reading/" class="nav-link">
  è¯»/è§‚åæ„Ÿ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow down"></span></button> <button type="button" aria-label="GitHub" class="mobile-dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/chieminchan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHubé¦–é¡µ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Browser</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>DesignPatterns</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Microapp</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Network</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Project Management</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/articles/Project Management/Webapckçƒ­æ›¿æ¢.html" class="sidebar-link">ğŸ‘‰ Webpack çƒ­æ›¿æ¢</a></li><li><a href="/articles/Project Management/Webpack åŸºç¡€æ‰«ç›².html" class="sidebar-link">ğŸ‘‰ Webpack åŸºç¡€æ‰«ç›²</a></li><li><a href="/articles/Project Management/Webpackæºç å­¦ä¹ .html" class="sidebar-link">ğŸ‘‰ webpack æ„å»ºæµç¨‹</a></li><li><a href="/articles/Project Management/Webæ€§èƒ½ä¼˜åŒ–.html" class="sidebar-link">ğŸ‘‰ Web æ€§èƒ½ä¼˜åŒ–</a></li><li><a href="/articles/Project Management/npm åŒ…ç®¡ç†.html" class="sidebar-link">ğŸ‘‰ npm åŒ…ç®¡ç†</a></li><li><a href="/articles/Project Management/rollup å…¥é—¨ç¯‡.html" class="sidebar-link">ğŸ‘‰ rollup å…¥é—¨ç¯‡</a></li><li><a href="/articles/Project Management/æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ªnpmåŒ….html" class="active sidebar-link">ğŸ‘‰ æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ª npm åŒ…</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/articles/Project Management/æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ªnpmåŒ….html#ä»€ä¹ˆæ˜¯-npm-åŒ…" class="sidebar-link">ä»€ä¹ˆæ˜¯ npm åŒ…ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/articles/Project Management/æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ªnpmåŒ….html#å‡†å¤‡" class="sidebar-link">å‡†å¤‡</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/articles/Project Management/æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ªnpmåŒ….html#æ³¨å†Œè´¦å·" class="sidebar-link">æ³¨å†Œè´¦å·</a></li><li class="sidebar-sub-header"><a href="/articles/Project Management/æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ªnpmåŒ….html#åˆ›å»ºé¡¹ç›®" class="sidebar-link">åˆ›å»ºé¡¹ç›®</a></li><li class="sidebar-sub-header"><a href="/articles/Project Management/æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ªnpmåŒ….html#åˆå§‹åŒ–-typescript-ç¯å¢ƒ" class="sidebar-link">åˆå§‹åŒ– Typescript ç¯å¢ƒ</a></li><li class="sidebar-sub-header"><a href="/articles/Project Management/æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ªnpmåŒ….html#å¼•å…¥æ‰“åŒ…ç¼–è¯‘å·¥å…·" class="sidebar-link">å¼•å…¥æ‰“åŒ…ç¼–è¯‘å·¥å…·</a></li><li class="sidebar-sub-header"><a href="/articles/Project Management/æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ªnpmåŒ….html#eslint-é…ç½®" class="sidebar-link">ESlint é…ç½®</a></li><li class="sidebar-sub-header"><a href="/articles/Project Management/æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ªnpmåŒ….html#husky-git-æäº¤çº¦æŸ" class="sidebar-link">Husky - Git æäº¤çº¦æŸ</a></li></ul></li><li class="sidebar-sub-header"><a href="/articles/Project Management/æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ªnpmåŒ….html#å¼€å‘" class="sidebar-link">å¼€å‘</a></li><li class="sidebar-sub-header"><a href="/articles/Project Management/æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ªnpmåŒ….html#å‘å¸ƒ" class="sidebar-link">å‘å¸ƒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/articles/Project Management/æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ªnpmåŒ….html#è®¾ç½®å‘å¸ƒä»“åº“-registry" class="sidebar-link">è®¾ç½®å‘å¸ƒä»“åº“ registry</a></li><li class="sidebar-sub-header"><a href="/articles/Project Management/æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ªnpmåŒ….html#ç‰ˆæœ¬ç®¡ç†" class="sidebar-link">ç‰ˆæœ¬ç®¡ç†</a></li><li class="sidebar-sub-header"><a href="/articles/Project Management/æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ªnpmåŒ….html#changelog" class="sidebar-link">Changelog</a></li></ul></li><li class="sidebar-sub-header"><a href="/articles/Project Management/æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ªnpmåŒ….html#tips" class="sidebar-link">TIPSï¼š</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/articles/Project Management/æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ªnpmåŒ….html#package-json-çš„ä¾èµ–ç‰ˆæœ¬å·" class="sidebar-link">package.json çš„ä¾èµ–ç‰ˆæœ¬å·</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ª-npm-åŒ…"><a href="#æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ª-npm-åŒ…" class="header-anchor">#</a> ğŸ‘‰ æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ª npm åŒ…</h1> <h2 id="ä»€ä¹ˆæ˜¯-npm-åŒ…"><a href="#ä»€ä¹ˆæ˜¯-npm-åŒ…" class="header-anchor">#</a> ä»€ä¹ˆæ˜¯ npm åŒ…ï¼Ÿ</h2> <p>npm æ˜¯åŒ…ç®¡ç†å·¥å…·ï¼Œæ˜¯å‰ç«¯æ¨¡å—åŒ–ä¸‹çš„ä¸€ä¸ªæ ‡å¿—æ€§äº§ç‰©ã€‚é‚£ä»€ä¹ˆæ˜¯åŒ…å‘¢ï¼ŸğŸ ï¼ŸğŸ‘œ ï¼ŸâŒ ï¼node.js ä¸­çš„ç¬¬ä¸‰æ–¹æ¨¡å—åˆå«åšåŒ…ï¼ŒåŒ…æ˜¯ç”±ç¬¬ä¸‰æ–¹ä¸ªäººæˆ–å›¢é˜Ÿå¼€å‘å‡ºæ¥çš„ï¼Œä¾›å…¶ä»–å¼€å‘è€…ä½¿ç”¨çš„æ¨¡å—ä»£ç ã€‚é€šè¿‡ npm è¿™ä¸ªåŒ…ç®¡ç†å·¥å…·åˆ›å»ºå‘å¸ƒåŒ…å’Œä¸‹è½½åŒ…ï¼Œå¤ç”¨åŒ…é‡Œé¢çš„å·¥å…·ä»£ç ï¼Œä»è€Œæé«˜å·¥ä½œæ•ˆç‡ã€‚</p> <p>æœ¬æ–‡å°†ä¼šé€šè¿‡å®ç°ä¸€ä¸ªç‰ˆæœ¬æ¯”è¾ƒçš„å°åŠŸèƒ½ï¼Œæ‰‹æŠŠæ‰‹æ•™å¦‚ä½•å‘ä¸€ä¸ª npm åŒ…ã€‚</p> <p>åŒ…å«å“ªäº›å†…å®¹ï¼Ÿ</p> <ul><li>å‘å¸ƒä¸€ä¸ª Typescript åŒ…ï¼ŒåŒ…å«å‡½æ•°å£°æ˜æ–‡ä»¶</li> <li>rollup æ‰“åŒ…ï¼Œæ”¯æŒ COMMONJS / UMD / ES Module æ ¼å¼</li> <li>ESlint æ ¡éªŒï¼Œ commit message æ ¼å¼çº¦æŸ</li> <li>å‘åŒ…å‰è‡ªåŠ¨å‡çº§ç‰ˆæœ¬å¹¶æ„å»º</li> <li>ä¸€äº›å…³äº npm åŒ…çš„å° tips</li></ul> <h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="header-anchor">#</a> å‡†å¤‡</h2> <h3 id="æ³¨å†Œè´¦å·"><a href="#æ³¨å†Œè´¦å·" class="header-anchor">#</a> æ³¨å†Œè´¦å·</h3> <p>å‘å¸ƒåŒ…ä¹‹å‰ä½ å¿…é¡»æ‹¥æœ‰ä¸€ä¸ª npm çš„è´¦å·ï¼Œæˆ³ https://www.npmjs.com/ å®˜ç½‘é“¾æ¥ï¼Œæ³¨å†Œä¸€ä¸ªè´¦å·ã€‚</p> <h3 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="header-anchor">#</a> åˆ›å»ºé¡¹ç›®</h3> <p>åˆ›å»ºé¡¹ç›®ï¼Œåˆå§‹åŒ–é¡¹ç›®åŸºæœ¬ç»“æ„å’Œæ›´æ–° <code>package.json</code> æ–‡ä»¶ï¼Œç”¨äºæè¿°å½“å‰é¡¹ç›®çš„åŠŸèƒ½ã€‚</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">mkdir</span> compare_version

<span class="token builtin class-name">cd</span> compare_version
</code></pre></div><p>æ¥ç€åˆå§‹åŒ– npm åŒ…çš„ä¸€äº›é…ç½®ï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> init

// æ¥ä¸‹è¿‡ç¨‹æ˜¯ä»¥é—®ç­”å¼ CLI æ–¹å¼è¿›è¡Œ
// Q1ï¼špackage name: <span class="token punctuation">(</span>æ–‡ä»¶å¤¹åå­—<span class="token punctuation">)</span> <span class="token operator">|</span> é»˜è®¤ä¼šä»¥æ–‡ä»¶å¤¹åå­—å‘½åï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è‡ªå®šä¹‰åŒ…åï¼Œä½†éœ€è¦éµå®ˆ <span class="token function">npm</span> å‘½åè§„èŒƒ
// Q2ï¼šversion: <span class="token punctuation">(</span><span class="token number">1.0</span>.0<span class="token punctuation">)</span> <span class="token operator">|</span> ç‰ˆæœ¬å·ï¼Œé»˜è®¤æ˜¯ <span class="token number">1.0</span>.0ï¼Œå…·ä½“ç‰ˆæœ¬å·è§„åˆ™ï¼Œå¯å‚è€ƒã€Šè¯­ä¹‰åŒ–ç‰ˆæœ¬ <span class="token number">2.0</span>.0ã€‹
// Q3ï¼šdescription: <span class="token operator">|</span> åŒ…æè¿°ï¼Œç”¨äºæè¿°è¿™ä¸ªåŒ…çš„ä¸»è¦åŠŸèƒ½ä»¥åŠç”¨é€”
// Q4ï¼šentry point: <span class="token punctuation">(</span>index.js<span class="token punctuation">)</span> <span class="token operator">|</span> å…¥å£æ–‡ä»¶ï¼Œå³ä»é‚£ä¸ªæ–‡ä»¶å¼€å§‹æ‰§è¡Œ
// Q5ï¼štest command: <span class="token operator">|</span> æµ‹è¯•å‘½ä»¤ï¼Œç”¨äºåŒ…æµ‹è¯•çš„å‘½ä»¤ï¼Œå¯ä»¥åç»­è¡¥å……å…³äºæµ‹è¯•åŒ…çš„ç¼–å†™
// Q6ï¼šgit repository: <span class="token operator">|</span> é¡¹ç›®çš„ <span class="token function">git</span> å­˜å‚¨åº“åœ°å€
// Q7ï¼škeywords: <span class="token operator">|</span> æè¿°åŒ…çš„å…³é”®å­—ï¼Œç”¨äºåœ¨ npmjs ä¸ŠæŸ¥è¯¢å…³é”®å­—
// Q8ï¼šauthor: <span class="token operator">|</span> ä½œè€…åå­—ï¼Œå¯ä»¥ä½¿ç”¨ npmjs åç§°ã€npmjs æ³¨å†Œé‚®ç®±ã€github æ³¨å†Œé‚®ç®±
// Q9ï¼šlicense: <span class="token punctuation">(</span>ISC<span class="token punctuation">)</span> <span class="token operator">|</span> å¼€æºåè®®ï¼Œé»˜è®¤ ISC
// Q10ï¼šè¾“å‡º package.js å†…å®¹å¹¶è¯¢é—® Is this OK? <span class="token punctuation">(</span>yes<span class="token punctuation">)</span> é»˜è®¤ä¸º yesï¼Œå›è½¦åç”Ÿæˆæ–‡ä»¶
</code></pre></div><p>åœ¨åˆå§‹åŒ–çš„ <code>package.json</code> æ–‡ä»¶ä¸­ï¼Œå®ƒåŒ…å«äº†ä½ çš„é¡¹ç›®ä¿¡æ¯ä»¥åŠä¼—å¤šé…ç½®é¡¹ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥å†™ä¸€ä¸ª <code>README.md</code> æ–‡ä»¶ç”¨æ¥æè¿°ä½ çš„é¡¹ç›®ã€‚è¿™é‡Œä¸¾ä¸ª <code>package.json</code>çš„å…·ä½“é…ç½®ä¾‹å­:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;compare_version_lib&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;This is a js library that help you to compare two version number.&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/index.umd.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/index.esm.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/index.d.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rollup -w -c&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rollup -c&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jest&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;prepare&quot;</span><span class="token operator">:</span> <span class="token string">&quot;husky install&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;chieminchan&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;repository&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;git&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://github.com/chieminchan/compare_version_lib.git&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;files&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src/&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;dist/&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>files å­—æ®µæ˜¯ç”¨äºçº¦å®šåœ¨å‘åŒ…çš„æ—¶å€™ NPM ä¼šå‘å¸ƒåŒ…å«çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚<strong>æ³¨æ„ï¼š files å­—æ®µä¸­æ–‡ä»¶å¤¹åç›´æ¥å†™åå­—ï¼Œä¸è¦åŒ…å« ./ å­—ç¬¦ï¼Œå¦åˆ™æ‰“åŒ…å‡ºæ¥çš„äº§ç‰©ä¸ä¼šåŒ…å«è¯¥æ–‡ä»¶å¤¹ã€‚</strong></li></ul> <h4 id="npm-åŒ…å‘½åæœºåˆ¶"><a href="#npm-åŒ…å‘½åæœºåˆ¶" class="header-anchor">#</a> npm åŒ…å‘½åæœºåˆ¶</h4> <p>åœ¨ npm çš„åŒ…ç®¡ç†ç³»ç»Ÿä¸­ï¼Œæœ‰ä¸€ç§ scoped packages æœºåˆ¶ï¼Œç”¨äºå°†ä¸€äº› packages ä»¥ <code>@scope/package</code> çš„å‘½åå½¢å¼ï¼Œè®©åŒä¸ªåŸŸçº§çš„åŒ…é›†ä¸­åœ¨ä¸€ä¸ªå‘½åç©ºé—´ä¸‹é¢ï¼Œå®ç°åŸŸçº§çš„åŒ…ç®¡ç†ï¼ŒåŒæ—¶è¿˜èƒ½é¿å…åŒ…åå†²çªçš„æƒ…å†µã€‚</p> <ul><li><p><code>npm view packageName</code> æŸ¥çœ‹åŒ…æ˜¯å¦è¢«å ç”¨ï¼Œå¹¶å¯ä»¥æŸ¥çœ‹å®ƒçš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼Œè‹¥åŒ…åç§°ä»æœªè¢«ä½¿ç”¨è¿‡ï¼Œåˆ™ä¼šæŠ›å‡º 404 é”™è¯¯ã€‚</p></li> <li><p>åœ¨åˆå§‹åŒ–é¡¹ç›®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œæ¥æ·»åŠ  scopeï¼š<code>npm init --scope=scopeName</code></p></li> <li><p>åŒåŸŸçº§èŒƒå›´å†…çš„åŒ…ä¼šè¢«å®‰è£…åœ¨ç›¸åŒçš„æ–‡ä»¶è·¯å¾„ä¸‹ <code>node_modules/@scopeName/</code>ï¼š 562 <img src="https://s1.ax1x.com/2022/03/22/qQ5d1I.png" alt="qQ5d1I.png"></p></li> <li><p>ä¾‹å¦‚ï¼švue æ¡†æ¶é‡Œé¢æ¶‰åŠçš„ä¸€äº›è„šæ‰‹æ¶å·¥å…·åŒ…ï¼š@vue/cli-plugin-babelã€@vue/cli-plugin-eslint ç­‰ç­‰åŸŸçº§åŒ…ã€‚</p></li></ul> <h3 id="åˆå§‹åŒ–-typescript-ç¯å¢ƒ"><a href="#åˆå§‹åŒ–-typescript-ç¯å¢ƒ" class="header-anchor">#</a> åˆå§‹åŒ– Typescript ç¯å¢ƒ</h3> <p>æˆ‘ä»¬æ‰“åŒ…ç»™ç”¨æˆ·ï¼Œåœ¨ç”¨æˆ·å¼•ç”¨æ—¶ï¼Œè¿˜éœ€è¦æ”¯æŒåœ¨ TS ç¯å¢ƒä¸‹çš„ä»£ç æç¤ºï¼Œæ‰€ä»¥å†æ¥å¿«é€Ÿåˆå§‹åŒ–ç”Ÿæˆä¸€ä¸ª <code>tsconfig.json</code> æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å±äº Typescript é…ç½®æ–‡ä»¶ã€‚</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">add</span> typescript <span class="token parameter variable">-D</span>

tsc <span class="token parameter variable">--init</span>
</code></pre></div><p>æŒ‰éœ€é…ç½®<code>tsconfig.json</code>æ–‡ä»¶ï¼š</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;rootDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./src&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;declaration&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;declarationDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ES2015&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ES2020&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;forceConsistentCasingInFileNames&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>ä½¿ç”¨ declaration ä¼šè‡ªåŠ¨ç”Ÿæˆç±»å‹å£°æ˜æ–‡ä»¶ã€‚é…ç½®åï¼Œåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ä¼šå‘ <code>./dist</code> ç›®å½•è¾“å‡º <code>index.d.ts</code> ç±»å‹å£°æ˜æ–‡ä»¶</li> <li>target è¡¨ç¤ºè¦ç¼–è¯‘å‡ºçš„ä»£ç æ ¼å¼ï¼Œä¸€èˆ¬ä½¿ç”¨ es6</li> <li>module è¡¨ç¤ºæºä»£ç çš„è¯­æ³•ç‰ˆæœ¬ï¼Œè¿™æ˜¯ä½¿ç”¨æœ€æ–°çš„ es2020ã€‚</li></ul> <h3 id="å¼•å…¥æ‰“åŒ…ç¼–è¯‘å·¥å…·"><a href="#å¼•å…¥æ‰“åŒ…ç¼–è¯‘å·¥å…·" class="header-anchor">#</a> å¼•å…¥æ‰“åŒ…ç¼–è¯‘å·¥å…·</h3> <p>åŒ…å‘å¸ƒå‰ï¼Œæˆ‘ä»¬éœ€è¦å°†ç¼–å†™çš„ä»£ç æ‰“åŒ…ç¼–è¯‘æˆ js ä»£ç ï¼Œå¹¶è¿›è¡Œç›¸å…³å‹ç¼©æ“ä½œã€‚</p> <p>rollup æ˜¯ä¸€ä¸ª JavaScript æ¨¡å—æ‰“åŒ…å™¨ï¼Œåœ¨åŠŸèƒ½ä¸Šè¦å®Œæˆçš„äº‹å’Œ webpack æ€§è´¨æ˜¯ä¸€æ ·çš„ï¼Œå°±æ˜¯å°†å°å—ä»£ç ç¼–è¯‘æˆå¤§å—å¤æ‚çš„ä»£ç ã€‚åœ¨å¹³æ—¶å¼€å‘åº”ç”¨ç¨‹åºæ—¶ï¼Œæˆ‘ä»¬åŸºæœ¬ä¸Šé€‰æ‹©ç”¨ webpackã€‚è¿™é‡Œä½¿ç”¨ rollupï¼Œç›¸æ¯” webpack å®ƒæ›´è½»é‡ï¼Œé…ç½®å°‘ï¼Œæ¯”è¾ƒé€‚åˆå·¥å…·åº“çš„æ‰“åŒ…ã€‚</p> <p>è¿™é‡Œéœ€è¦å…ˆåˆå§‹åŒ– Rollup æ‰“åŒ…ç¯å¢ƒï¼š</p> <ul><li>rollup å®‰è£…</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> rollup <span class="token parameter variable">-g</span>        <span class="token comment"># å…¨å±€å®‰è£…</span>
<span class="token function">npm</span> <span class="token function">install</span> rollup <span class="token parameter variable">-D</span>        <span class="token comment"># é¡¹ç›®æœ¬åœ°å®‰è£…</span>

<span class="token function">npm</span> <span class="token function">install</span> @rollup/plugin-typescript <span class="token parameter variable">-D</span>  <span class="token comment"># å°†Typescriptè½¬æ¢æˆä¸º ES6+ æ ‡å‡†</span>

<span class="token function">npm</span> <span class="token function">install</span> @rollup/plugin-commonjs <span class="token parameter variable">-D</span>    <span class="token comment"># rollupé»˜è®¤ä¸æ”¯æŒCommonJSï¼Œè‡ªå·±å†™çš„æ—¶å€™å¯ä»¥å°½é‡é¿å…ä½¿ç”¨CommonJSæ¨¡å—çš„è¯­æ³•ï¼Œä½†æœ‰äº›å¤–éƒ¨åº“çš„æ˜¯cjsæˆ–è€…umdï¼ˆç”±webpackæ‰“åŒ…çš„ï¼‰ã€‚å¦‚æœä½¿ç”¨è¿™äº›å¤–éƒ¨åº“å°±éœ€è¦æ”¯æŒCommonJSæ¨¡å—ã€‚</span>

<span class="token function">npm</span> <span class="token function">install</span> @rollup/plugin-node-resolve <span class="token parameter variable">-D</span>
</code></pre></div><ul><li>åˆ›å»ºé…ç½®æ–‡ä»¶ <code>rollup.config.js</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> commonjs <span class="token keyword">from</span> <span class="token string">&quot;@rollup/plugin-commonjs&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> typescript <span class="token keyword">from</span> <span class="token string">&quot;@rollup/plugin-typescript&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&quot;src/index.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&quot;dist/index.esm.js&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&quot;es&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&quot;dist/index.umd.js&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&quot;umd&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;index.umd.js&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">commonjs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">typescript</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>ä¸Šè¿°æ–‡ä»¶è¡¨ç¤ºæˆ‘ä»¬è¦æ‰“åŒ…ç¼–è¯‘å‡ºä¸¤ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯ UMD æ ¼å¼çš„å’Œ ES Module æ ¼å¼çš„ã€‚UMD æ ¼å¼éœ€è¦å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œè¿™æ ·åœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹ï¼Œæ‰€æœ‰çš„æ–¹æ³•éƒ½ä¼šæŒ‚è½½åœ¨è¿™ä¸ªå˜é‡ä¸Šäº†ã€‚</p> <ul><li>å¢åŠ ç¼–è¯‘å‘½ä»¤</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;script&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rollup -w -c&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rollup -c&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¦‚æ­¤ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥é€šè¿‡ <code>npm run dev</code>ï¼Œå°±èƒ½åœ¨å¼€å‘çš„æ—¶å€™å®æ—¶ç¼–è¯‘ã€‚å¦‚æœéœ€è¦æ‰“åŒ…ï¼Œåˆ™å…ˆæ‰§è¡Œ <code>npm run build</code> å‘½ä»¤å³å¯å®Œæˆç¼–è¯‘æ‰“åŒ…ã€‚</p> <h3 id="eslint-é…ç½®"><a href="#eslint-é…ç½®" class="header-anchor">#</a> ESlint é…ç½®</h3> <p>è¿è¡Œåˆå§‹åŒ–é…ç½®å‘½ä»¤ï¼Œæ ¹æ®é¡¹ç›®æƒ…å†µæ¥è®¾ç½®ç‰¹åœ°é…ç½®ï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> init @eslint/config
</code></pre></div><p>å…¶ä¸­ï¼Œä¼šè§¦å‘å®‰è£…ä»¥ä¸‹ä¸‰ä¸ªä¾èµ–ï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-D</span> eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin
</code></pre></div><ul><li><p><code>eslint</code>ï¼šESLint çš„æ ¸å¿ƒä»£ç </p></li> <li><p><code>@typescript-eslint/parser</code>ï¼šESLint çš„è§£æå™¨ï¼Œç”¨äºè§£æ typescriptã€‚å› ä¸º eslint æ£€æµ‹ä»£ç çš„æ ¸å¿ƒåŸç†æ˜¯ï¼Œå…ˆå°† JS ä»£ç ç”Ÿæˆ ASTï¼Œç„¶åéå† ASTï¼Œåœ¨ä¸åŒç±»å‹çš„èŠ‚ç‚¹è¿›è¡Œä¸åŒè§„åˆ™çš„æ‰¹è¯„æ ¡éªŒã€‚è€Œ TS æ— æ³•ç›´æ¥ç”Ÿæˆ ASTï¼Œå› æ­¤éœ€è¦å…ˆ parser ï¼Œæ‰èƒ½è¿›ä¸€æ­¥å¯¹ Typescript ä»£ç è¿›è¡Œæ£€æŸ¥å’Œè§„èŒƒ</p></li> <li><p><code>@typescript-eslint/eslint-plugin</code>ï¼šè¿™æ˜¯ä¸€ä¸ª ESLint æ’ä»¶ï¼ŒåŒ…å«äº†å„ç±»å®šä¹‰å¥½çš„æ£€æµ‹ Typescript ä»£ç çš„è§„èŒƒ</p></li></ul> <p>æœ€ç»ˆï¼Œé¡¹ç›®æ ¹ç›®å½•ä¸‹ä¼šç”Ÿæˆ<code>.eslintrc.json</code>æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ä¸­å®šä¹‰ ESLint çš„åŸºç¡€é…ç½®ï¼Œæ¯”å¦‚ï¼šä¸€ä¸ªç®€å•çš„é…ç½®å¦‚ä¸‹ï¼š</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;browser&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;es2021&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;eslint:recommended&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;plugin:@typescript-eslint/recommended&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;parser&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@typescript-eslint/parser&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;parserOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;ecmaVersion&quot;</span><span class="token operator">:</span> <span class="token string">&quot;latest&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;sourceType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@typescript-eslint&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>eslint:recommended</code>ï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶çš„ rules éƒ¨åˆ†å¼€å¯äº†æ‰€æœ‰ ESLint æ¨èä½¿ç”¨çš„è§„åˆ™</li> <li>åŒæ—¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ plugin æ’ä»¶å¼•å…¥å¯å…±äº«é…ç½®ã€‚ä¸º<code>plugin:{plugin_pacakge_name}/{config_name}</code></li> <li>extends å…è®¸é…ç½®å¤šä¸ªæ¨¡å—ï¼Œå¦‚æœæ¨¡å—é—´çš„é…ç½®æœ‰å†²çªï¼Œä½ç½®é åçš„é…ç½®ä¼šè¦†ç›–å‰é¢çš„ã€‚</li> <li>ä¸ªæ€§åŒ–çš„çº¦æŸè§„åˆ™å¯ä»¥åœ¨ rules è¿›è¡Œè®¾ç½®ï¼Œå½“ rules å’Œ extends ä¸­é…ç½®äº†ç›¸åŒè§„åˆ™ï¼Œrules ä¸­çš„é…ç½®çš„ä¼˜å…ˆçº§ä¼šé«˜äº extendsã€‚</li></ul> <h3 id="husky-git-æäº¤çº¦æŸ"><a href="#husky-git-æäº¤çº¦æŸ" class="header-anchor">#</a> Husky - Git æäº¤çº¦æŸ</h3> <p>Eslint å¯¹æˆ‘ä»¬ç¼–ç æ ¼å¼è¿›è¡Œäº†çº¦æŸï¼Œä½†éš¾ä»¥é¿å…æ²¡æœ‰æŒ‰è¦æ±‚è¿›è¡Œæ ¼å¼åŒ–ä»£ç å°±æäº¤åˆ°äº†è¿œç¨‹çš„æƒ…å†µã€‚ä¸ºæ­¤ï¼Œå¼•å…¥ Huskyï¼Œåœ¨<code>git commit</code> æäº¤å‰è¿›è¡Œè‡ªåŠ¨æ ¼å¼åŒ–æš‚å­˜åŒºå†…æ–‡ä»¶ï¼Œä»¥åŠæ ¡éªŒæ˜¯å¦ç¬¦åˆ Eslint è§„åˆ™ï¼Œä»è€Œæ˜ç¡®ç»Ÿä¸€è¿œç¨‹ä»“åº“ä»£ç çš„è§„èŒƒã€‚</p> <h4 id="husky-æ˜¯ä»€ä¹ˆ"><a href="#husky-æ˜¯ä»€ä¹ˆ" class="header-anchor">#</a> Husky æ˜¯ä»€ä¹ˆï¼Ÿ</h4> <p>åœ¨é¡¹ç›®çš„ <code>.git/hooks</code> æ–‡ä»¶å¤¹å†…æœ‰å¾ˆå¤š Hooksï¼Œè¿™äº›é’©å­ä¼šåœ¨ git æ‰§è¡Œçš„æŸäº›èŠ‚ç‚¹è¢«è§¦å‘ã€‚ä»¥ä¸€æ¬¡ commit ä¸ºä¾‹ï¼Œä¼šå…ˆåè§¦å‘ <code>pre-commit</code>ã€<code>prepare-commit-msg</code>ã€<code>commit-msg</code> å’Œ <code>post-commit</code> ç­‰ hooksã€‚</p> <p>éšæœºæ‰“å¼€å…¶ä¸­çš„ <code>.git/hooks/pre-commit.sample</code>ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå®è´¨ä¸Šæ˜¯ä¸€ä¸ª shell è„šæœ¬ã€‚Git æä¾›äº†ä¸€ä¸ªè‡ªå®šä¹‰ Hooks æ–‡ä»¶å¤¹çš„ configï¼Œå¯ä»¥é€šè¿‡è®¾ç½® <code>core.hooksPath</code>æŒ‡å‘è‡ªå®šä¹‰ç›®å½•ï¼Œå³ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰è®¾ç½® shell è„šæœ¬æ¥å®ç°ä¸ªæ€§åŒ–åŠŸèƒ½ã€‚</p> <p>å›åˆ°ä¸»é¢˜ä¸Šï¼ŒHusky å°±æ˜¯èƒ½å¤Ÿç®€åŒ–åˆ›å»ºæˆ–è€…ä¿®æ”¹ Githooks è¿‡ç¨‹çš„å·¥å…·ã€‚</p> <p>å®ƒæœ€æ–°çš„è¿ä½œåŸç†å¤§æ¦‚å°±æ˜¯ï¼š</p> <ol><li><code>husky install</code> å®‰è£…æ—¶åˆ›å»º hooksï¼Œå°† <code>git hooks</code> çš„ç›®å½•æŒ‡å®šä¸º<code>.husky/</code></li> <li>æäº¤æ—¶ä»é…ç½®æ–‡ä»¶ä¸­ï¼ˆ<code>package.json</code>ã€<code>.huskyrc</code>ã€<code>.huskyrc.json</code>...ï¼‰è¯»å–ç›¸åº”çš„ hook é…ç½®ï¼Œä½¿ç”¨ <code>husky add</code> å‘½ä»¤å‘ <code>.husky/</code> ä¸­æ·»åŠ  hook</li> <li>ç‰¹å®šæ—¶æœºï¼Œè§¦å‘æ‰§è¡Œé…ç½®ä¸­çš„æŒ‡ä»¤/è„šæœ¬</li></ol> <p>å…·ä½“åŸç†ç»“åˆæºç åˆ†æå¯ä»¥å‚è€ƒï¼š <a href="https://juejin.cn/post/6879955438482227207#heading-2" target="_blank" rel="noopener noreferrer">Husky åŸç†è§£æåŠåœ¨ä»£ç  Lint ä¸­çš„åº”ç”¨ <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="husky-é…åˆ-lint-staged-é£Ÿç”¨æ›´ä½³"><a href="#husky-é…åˆ-lint-staged-é£Ÿç”¨æ›´ä½³" class="header-anchor">#</a> Husky é…åˆ lint-staged é£Ÿç”¨æ›´ä½³</h4> <ul><li>å¼•å…¥ commitlintï¼Œæ ¡éªŒæäº¤çš„ message æ ¼å¼æ˜¯å¦ç¬¦åˆè§„èŒƒï¼Œä»¥æ­¤ç»Ÿä¸€ git commit messageã€‚</li> <li>å¼•å…¥ lint-stagedï¼Œé’ˆå¯¹å½“æ¬¡æäº¤ï¼ˆæš‚å­˜åŒºçš„ä»£ç ï¼‰çš„ <code>ts</code> å’Œ <code>js</code> æ–‡ä»¶è¿›è¡Œæ£€æµ‹ã€‚</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> husky <span class="token parameter variable">-D</span>
<span class="token function">npm</span> <span class="token function">install</span> @commitlint/cli <span class="token parameter variable">-D</span>
<span class="token function">npm</span> <span class="token function">install</span> @commitlint/config-conventional <span class="token parameter variable">-D</span>

<span class="token function">npm</span> <span class="token function">install</span> lint-staged <span class="token parameter variable">-D</span>
</code></pre></div><p><code>husky 6.0.0</code> ç‰ˆæœ¬ä»¥å‰ï¼Œå®‰è£… <code>lint-staged</code> åï¼Œéœ€è¦åœ¨ <code>package.json</code> æ–‡ä»¶ä¸­ï¼Œè®¾ç½®æˆ‘ä»¬éœ€è¦çš„ git hooksï¼š</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;husky&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;hooks&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// åœ¨ commit ä¹‹å‰å…ˆï¼Œé’ˆå¯¹lint-stagedé…ç½®çš„æ–‡ä»¶æ‰§è¡Œé…ç½®å¥½çš„æŒ‡ä»¤</span>
    <span class="token property">&quot;pre-commit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;lint-staged&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// æ ¡éªŒ commit æ—¶æ·»åŠ çš„å¤‡æ³¨ä¿¡æ¯æ˜¯å¦ç¬¦åˆè¦æ±‚è§„èŒƒ</span>
    <span class="token property">&quot;commit-msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commitlint -E HUSKY_GIT_PARAMS&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token property">&quot;commitlint&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@commitlint/config-conventional&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token property">&quot;lint-staged&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;*.{ts,js}&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;node --max_old_space_size=8192 ./node_modules/.bin/prettier -w&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;node --max_old_space_size=8192 ./node_modules/.bin/eslint --fix --color&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;git add&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä»¥ä¸Šçš„é…ç½®è¡¨ç¤ºå¼€å‘è€…åœ¨ <code>git commit</code> æ—¶ï¼Œä¼šé¦–å…ˆè°ƒç”¨ <code>lint-staged</code> ç›¸å…³å‘½ä»¤ï¼š prettier æ ¼å¼åŒ–ï¼Œç„¶åæ˜¯ ESlint æ ¡éªŒå¹¶ä¿®å¤ï¼Œç„¶åå°†ä¿®æ”¹åçš„æ–‡ä»¶å­˜å…¥æš‚å­˜åŒºï¼Œç„¶åæ˜¯æ ¡éªŒ commit message æ˜¯å¦ç¬¦åˆè§„èŒƒï¼Œç¬¦åˆè§„èŒƒåæ‰ä¼šæˆåŠŸ commitã€‚</p> <p><code>husky 6.0.0</code> ç‰ˆæœ¬åï¼Œä¸å†ä½¿ç”¨ <code>.huskyrc.js</code> æ–‡ä»¶ï¼ŒåŒæ—¶ä¹Ÿä¸æ”¯æŒåœ¨ package.json æ–‡ä»¶ä¸­è¿›è¡Œ husky ç›¸å…³é…ç½®ï¼Œè€Œæ˜¯åœ¨ <code>.husky/</code> ç›®å½•ä¸­é…ç½®çš„å•ä¸ª git é’©å­ã€‚</p> <p>å¯ä»¥ç›´æ¥ä½¿ç”¨ <code>npx mrm@2 lint-staged</code> ä»£æ›¿ <code>npm install lint-staged -D</code>ï¼Œå®ƒä¼šç›´æ¥åœ¨é¡¹ç›®ä¸­é…ç½®å¥½ husky å’Œ lint-stagedï¼Œä½ åªéœ€è¦åœ¨ package.json ä¸­ä¿®æ”¹ä¸€ä¸‹ lint-staged æ£€æµ‹æ–‡ä»¶èŒƒå›´</p> <div class="language-shell extra-class"><pre class="language-shell"><code>% npx mrm@2 lint-staged
npx: <span class="token number">237</span> å®‰è£…æˆåŠŸï¼Œç”¨æ—¶ <span class="token number">21.067</span> ç§’
Running lint-staged<span class="token punctuation">..</span>.
Update package.json
husky - Git hooks installed
husky - created .husky/pre-commit
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;lint-staged&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;{*.js,jsx,ts,tsx}&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint --cache --fix&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h2 id="å¼€å‘"><a href="#å¼€å‘" class="header-anchor">#</a> å¼€å‘</h2> <p>åˆ°è¿™ä¸€æ­¥ï¼Œå¯ä»¥å¼€å§‹ç¼–å†™ä»£ç å•¦ï¼</p> <ul><li></li> <li><p>é¡¹ç›®åŸºæœ¬é…ç½®æ–‡ä»¶å¤–ï¼Œnpm module é‡Œçš„ä¸€èˆ¬åŒ…æ‹¬ä¸‰ä¸ªæ–‡ä»¶å¤¹ï¼š<code>dist | src | types</code></p> <ul><li>dist åŒ…ç¼–è¯‘åæœ€ç»ˆäº§å‡ºæ–‡ä»¶</li> <li>src æºç æ–‡ä»¶</li> <li>types ç±»å‹å£°æ˜æ–‡ä»¶</li></ul></li> <li><p>æ–°å»º <code>src/index.ts</code> æ–‡ä»¶</p></li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">/*
 * compare version
 * æ¯”è¾ƒç‰ˆæœ¬å·ï¼Œç‰ˆæœ¬å·è§„åˆ™x.y.zï¼Œxyzå‡ä¸ºå¤§äºç­‰äº0çš„æ•´æ•°
 * 0: ç›¸ç­‰
 * 1: å¤§äº
 * -1: å°äº
 */</span>
<span class="token comment">/*
 * compare version
 * æ¯”è¾ƒç‰ˆæœ¬å·ï¼Œç‰ˆæœ¬å·è§„åˆ™x.y.zï¼Œxyzå‡ä¸ºå¤§äºç­‰äº0çš„æ•´æ•°
 * 0: ç›¸ç­‰
 * 1: å¤§äº
 * -1: å°äº
 */</span>

<span class="token keyword">const</span> <span class="token constant">COMPARE_RESULT_MAP</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token constant">BIGGER</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token constant">SMALLER</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token constant">SAME</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">versionCompare</span><span class="token punctuation">(</span>version1<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> version2<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> version1Arr <span class="token operator">=</span> version1<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> version2Arr <span class="token operator">=</span> version2<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> maxLength <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>version1Arr<span class="token punctuation">.</span>length<span class="token punctuation">,</span> version2Arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> maxLength<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> num1 <span class="token operator">=</span> <span class="token operator">+</span>version1Arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> num2 <span class="token operator">=</span> <span class="token operator">+</span>version2Arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>num1 <span class="token operator">!==</span> num2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> num1 <span class="token operator">&gt;</span> num2
                <span class="token operator">?</span> <span class="token constant">COMPARE_RESULT_MAP</span><span class="token punctuation">.</span><span class="token constant">BIGGER</span>
                <span class="token operator">:</span> <span class="token constant">COMPARE_RESULT_MAP</span><span class="token punctuation">.</span><span class="token constant">SMALLER</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token constant">COMPARE_RESULT_MAP</span><span class="token punctuation">.</span><span class="token constant">SAME</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> versionCompare<span class="token punctuation">;</span>
</code></pre></div><h2 id="å‘å¸ƒ"><a href="#å‘å¸ƒ" class="header-anchor">#</a> å‘å¸ƒ</h2> <h3 id="è®¾ç½®å‘å¸ƒä»“åº“-registry"><a href="#è®¾ç½®å‘å¸ƒä»“åº“-registry" class="header-anchor">#</a> è®¾ç½®å‘å¸ƒä»“åº“ registry</h3> <p>åœ¨ä¸‹è½½åŒ…æ—¶ï¼Œæœ‰äº›äººä¼šåå‘äºè®¾ç½® taobao é•œåƒï¼Œå› ä¸º npm ä»“åº“æœåŠ¡å™¨åœ¨å›½å¤–ï¼Œä¸‹è½½é€Ÿåº¦æ¯”è¾ƒæ…¢ã€‚å‘å¸ƒçš„æ—¶å€™ä¹Ÿä¸€æ ·ï¼Œä¸€èˆ¬å¼€æºåº”ç”¨åŸºæœ¬éƒ½å‘å¸ƒåˆ° npmjsï¼Œå…¬å¸å†…éƒ¨åŒ…çš„è¯å°±ä¼šå‘åˆ°ç§æœ‰ npm ä»“åº“ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ package.json è®¾ç½®ä¸€ä¸‹ä½ æƒ³è¦å‘å¸ƒçš„ä»“åº“åœ°å€ï¼Œé»˜è®¤æ˜¯æ‰§è¡Œ publish å‘½ä»¤æ‰€æŒ‡å‘çš„ä»“åº“ï¼š</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;publishConfig&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;registry&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://registry.npm.xxx.com/&quot;</span>
 <span class="token punctuation">}</span>
</code></pre></div><p>ä¹Ÿå¯ä»¥è®¾ç½®åˆ«å</p> <div class="language-shell extra-class"><pre class="language-shell"><code>// è®¾ç½®åˆ«å
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">ynpm</span><span class="token operator">=</span><span class="token string">&quot;npm --registry=http://registry.npm.xxx.com&quot;</span>

// å‘å¸ƒ
ynpm publish
</code></pre></div><p>å‘å¸ƒåŒ…éœ€è¦éªŒè¯ä½ çš„è´¦å·æƒé™ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œéœ€è¦ <code>npm login</code> ã€‚</p> <h3 id="ç‰ˆæœ¬ç®¡ç†"><a href="#ç‰ˆæœ¬ç®¡ç†" class="header-anchor">#</a> ç‰ˆæœ¬ç®¡ç†</h3> <p>npm çš„å‘åŒ…éœ€è¦éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼Œä¸€ä¸ªç‰ˆæœ¬å·åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼š<code>major.minor.patch</code>ï¼Œ</p> <p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>npm version</code> å‘½ä»¤æ¥è‡ªåŠ¨ä¿®æ”¹ç‰ˆæœ¬å·ï¼Œæ¯”å¦‚ï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code>// version <span class="token operator">=</span> v1.0.0

<span class="token function">npm</span> version major // ä¸»ç‰ˆæœ¬å·:å½“ä½ åšäº†ä¸å…¼å®¹çš„APIä¿®æ”¹
<span class="token comment"># v2.0.0</span>

<span class="token function">npm</span> version minor // æ¬¡ç‰ˆæœ¬å·:å½“ä½ åšäº†å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢,å¯ä»¥ç†è§£ä¸ºFeatureç‰ˆæœ¬
<span class="token comment"># v2.1.0</span>

<span class="token function">npm</span> version patch // ä¿®è®¢å·:å½“ä½ åšäº†å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£,å¯ä»¥ç†è§£ä¸ºBug fixç‰ˆæœ¬
<span class="token comment"># v2.1.1</span>

</code></pre></div><p>ä¸€èˆ¬æ¥è¯´è¿˜æœ‰å…ˆè¡Œç‰ˆæœ¬ï¼Œæµ‹è¯•ç‰ˆæœ¬ç­‰ï¼Œå…ˆè¡Œç‰ˆæœ¬å·æ˜¯åŠ åˆ°ä¿®è®¢å·åé¢ï¼Œä½œä¸ºç‰ˆæœ¬å·çš„å»¶ä¼¸ï¼›ç‰ˆæœ¬ä¸­æºå¸¦ <code>alpha</code>ã€<code>beta</code>ã€<code>rc</code> ç­‰ tag å­—æ ·ï¼Œç»Ÿç§°å…ˆè¡Œç‰ˆï¼Œå¸¦æœ‰é¢„å‘å¸ƒç‰ˆæœ¬å·çš„ï¼Œä¸€èˆ¬æ ¼å¼ä¸º <code>x.y.z-[tag].[æ¬¡æ•° / meta ä¿¡æ¯]</code>ã€‚æ¯”å¦‚ï¼š<code>3.1.0-beta.0</code>ã€<code>3.1.0-alpha.0</code></p> <p>å½“è¦å‘è¡Œå¤§ç‰ˆæœ¬æˆ–æ ¸å¿ƒåŠŸèƒ½æ—¶ï¼Œä½†ä¸èƒ½ä¿è¯è¿™ä¸ªç‰ˆæœ¬å®Œå…¨æ­£å¸¸ï¼Œå°±è¦å…ˆå‘ä¸€ä¸ªå…ˆè¡Œç‰ˆæœ¬ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ --preid å‚æ•°æ¥å‘å¸ƒå…ˆè¡Œç‰ˆæœ¬ï¼Œï¼š <code>npm version prerelease --preid=alpha</code>ã€‚</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> version premajor // é¢„å¤‡ä¸»ç‰ˆæœ¬
<span class="token comment"># v3.0.0-0</span>

<span class="token function">npm</span> version preminor // é¢„å¤‡æ¬¡ç‰ˆæœ¬
<span class="token comment"># v3.1.0-0</span>

<span class="token function">npm</span> version prepatch // é¢„å¤‡ä¿®è®¢ç‰ˆæœ¬
<span class="token comment"># v3.1.1-0</span>

<span class="token function">npm</span> version prerelease // é¢„å‘å¸ƒç‰ˆæœ¬
<span class="token comment"># v3.1.1-1</span>

<span class="token function">npm</span> version prerelease <span class="token parameter variable">--preid</span><span class="token operator">=</span>alpha // å‘½åå…ˆè¡Œç‰ˆ,æµ‹è¯•ç‰ˆç”¨beta
<span class="token comment"># v3.1.1-alpha.0</span>

<span class="token function">npm</span> version prerelease // å‡çº§å…ˆè¡Œç‰ˆ
<span class="token comment"># v3.1.1-alpha.1</span>
</code></pre></div><p>è¿è¡Œ <code>npm version</code> æ—¶ï¼Œæœ¬åœ° <code>git status</code> éœ€è¦æ˜¯ clear çš„ï¼Œå› ä¸ºè¿è¡Œå‘½ä»¤ä¹‹åä¼šè‡ªåŠ¨æäº¤ä¸€ä¸ª commit å¹¶æ‰“ä¸Š tagï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰ commit messageã€‚</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> version patch <span class="token parameter variable">-m</span> <span class="token string">&quot;å‡çº§åˆ° %s: æ¼”ç¤ºè‡ªå®šä¹‰msg&quot;</span>
<span class="token comment"># v3.1.1</span>
</code></pre></div><h3 id="changelog"><a href="#changelog" class="header-anchor">#</a> Changelog</h3> <p>åŒ…å‘å¸ƒäº†å¾ˆå¤šæ¬¡åï¼Œä½¿ç”¨è€…å‡çº§å°±éœ€è¦çŸ¥é“ä»–æ˜¯å¦éœ€è¦å‡çº§ï¼Œéœ€è¦æŸ¥çœ‹æ–‡æ¡£çœ‹çœ‹æœ‰å“ªäº›ä¸å…¼å®¹æ€§æ”¹åŠ¨ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ª Changelog æ¥è®°å½•æ¯æ¬¡å‘å¸ƒæ”¹äº†äº›ä»€ä¹ˆã€‚</p> <p>å¦‚æœæ‰‹åŠ¨çš„ç»´æŠ¤è‚¯å®šä¼šæœ‰å¿˜è®°çš„æ—¶å€™ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨å·¥å…·æ¥è‡ªåŠ¨ç”Ÿæˆï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>standard-version</code> è¿™ä¸ªåŒ…æ¥ç”Ÿæˆï¼Œè¿™ä¸ªåŒ…çš„ä½œç”¨æ˜¯è‡ªåŠ¨æ›´æ–°ç‰ˆæœ¬å’Œç”Ÿæˆ CHANGELOGã€‚</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">--D</span> standard-version <span class="token comment"># å®‰è£… standard-version</span>
</code></pre></div><p>å°† npm run è„šæœ¬æ·»åŠ åˆ°æ‚¨çš„ package.jsonï¼š</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;patch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;standard-version --patch&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;release&quot;</span><span class="token operator">:</span> <span class="token string">&quot;standard-version&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;release:alpha&quot;</span><span class="token operator">:</span> <span class="token string">&quot;standard-version --prerelease alpha&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç°åœ¨å°±å¯ä»¥ä½¿ç”¨ <code>npm run release --patch</code> ä»£æ›¿ <code>npm version</code>ã€‚</p> <div class="language-shell extra-class"><pre class="language-shell"><code>% <span class="token function">npm</span> run patch

<span class="token operator">&gt;</span> compare_version_lib@1.1.1 patch /compare_version
<span class="token operator">&gt;</span> standard-version <span class="token parameter variable">--patch</span>

âœ” bumping version <span class="token keyword">in</span> package.json from <span class="token number">1.1</span>.1 to <span class="token number">1.1</span>.2
âœ” bumping version <span class="token keyword">in</span> package-lock.json from <span class="token number">1.1</span>.1 to <span class="token number">1.1</span>.2
âœ” outputting changes to CHANGELOG.md
âœ” committing package-lock.json and package.json and CHANGELOG.md
â†’ No staged files match any configured task.
âœ” tagging release v1.1.2
â„¹ Run <span class="token variable"><span class="token variable">`</span><span class="token function">git</span> push --follow-tags origin master <span class="token operator">&amp;&amp;</span> <span class="token function">npm</span> publish<span class="token variable">`</span></span> to publish

// ä¼šæ ¹æ®æ¯ä¸ªcommitç”ŸæˆChangelog:

<span class="token comment"># Changelog</span>

<span class="token comment">### [1.1.2](https://github.com/chieminchan/compare_version_lib/compare/v1.1.1...v1.1.2) (2022-03-21)</span>

<span class="token comment">### Features</span>
-   update srcript <span class="token punctuation">(</span><span class="token punctuation">[</span>2ea0d93<span class="token punctuation">]</span><span class="token punctuation">(</span>https://github.com/chieminchan/compare_version_lib/commit/2ea0d9369ed6c1019bc99a5fc1b2685727def39c<span class="token punctuation">))</span>
</code></pre></div><h2 id="tips"><a href="#tips" class="header-anchor">#</a> TIPSï¼š</h2> <h3 id="package-json-çš„ä¾èµ–ç‰ˆæœ¬å·"><a href="#package-json-çš„ä¾èµ–ç‰ˆæœ¬å·" class="header-anchor">#</a> package.json çš„ä¾èµ–ç‰ˆæœ¬å·</h3> <p>åœ¨ package.json çš„ä¸€äº›ä¾èµ–çš„ç‰ˆæœ¬å·ä¸­ï¼Œæˆ‘ä»¬è¿˜ä¼šçœ‹åˆ°^ã€~æˆ–è€…&gt;=è¿™æ ·çš„æ ‡è¯†ç¬¦ï¼Œæˆ–è€…ä¸å¸¦æ ‡è¯†ç¬¦çš„ï¼Œè¿™éƒ½ä»£è¡¨ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ</p> <p>æ²¡æœ‰ä»»ä½•ç¬¦å·ï¼šå®Œå…¨ç™¾åˆ†ç™¾åŒ¹é…ï¼Œå¿…é¡»ä½¿ç”¨å½“å‰ç‰ˆæœ¬å·å¯¹æ¯”ç¬¦å·ç±»çš„ï¼š&gt;(å¤§äº) &gt;=(å¤§äºç­‰äº) &lt;(å°äº) &lt;=(å°äºç­‰äº) æ³¢æµªç¬¦å·~ï¼šå›ºå®šä¸»ç‰ˆæœ¬å·å’Œæ¬¡ç‰ˆæœ¬å·ï¼Œä¿®è®¢å·å¯ä»¥éšæ„æ›´æ”¹ï¼Œä¾‹å¦‚~2.0.0ï¼Œå¯ä»¥ä½¿ç”¨ 2.0.0ã€2.0.2 ã€2.0.9 çš„ç‰ˆæœ¬ã€‚æ’å…¥ç¬¦å·^ï¼šå›ºå®šä¸»ç‰ˆæœ¬å·ï¼Œæ¬¡ç‰ˆæœ¬å·å’Œä¿®è®¢å·å¯ä»¥éšæ„æ›´æ”¹ï¼Œä¾‹å¦‚^2.0.0ï¼Œå¯ä»¥ä½¿ç”¨ 2.0.1ã€2.2.2 ã€2.9.9 çš„ç‰ˆæœ¬ã€‚ä»»æ„ç‰ˆæœ¬*ï¼šå¯¹ç‰ˆæœ¬æ²¡æœ‰é™åˆ¶ï¼Œä¸€èˆ¬ä¸ç”¨æˆ–ç¬¦å·ï¼š||å¯ä»¥ç”¨æ¥è®¾ç½®å¤šä¸ªç‰ˆæœ¬å·é™åˆ¶è§„åˆ™ï¼Œä¾‹å¦‚ &gt;= 3.0.0 || &lt;= 1.0.0</p> <ul><li>é€šè¿‡ jsdelivr å¯ä»¥æ–¹ä¾¿çš„æŸ¥çœ‹åŒ…å†…å®¹</li> <li>np åŒ…ï¼Œè¿›è¡Œä¸åŒæºçš„ npm åŒ…å‘å¸ƒç®¡ç†çš„</li></ul> <p>å‚è€ƒæ–‡ç« ï¼š</p> <ul><li>https://juejin.cn/post/6844903870678695943#heading-0</li> <li>https://zhuanlan.zhihu.com/p/366786798</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/articles/Project Management/rollup å…¥é—¨ç¯‡.html" class="prev">
        ğŸ‘‰ rollup å…¥é—¨ç¯‡
      </a></span> <span class="next"><a href="/articles/TypeScript/åŸºç¡€è¯­æ³•ç¯‡.html">
        åŸºç¡€è¯­æ³•ç¯‡
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.448d156c.js" defer></script><script src="/assets/js/2.fefa3fa1.js" defer></script><script src="/assets/js/1.67a15f5a.js" defer></script><script src="/assets/js/67.715eef17.js" defer></script>
  </body>
</html>

(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{368:function(t,s,n){"use strict";n.r(s);var a=n(25),e=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"ç†è§£-javascript-çš„-async-await"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç†è§£-javascript-çš„-async-await"}},[t._v("#")]),t._v(" ğŸ‘‰ ç†è§£ JavaScript çš„ async/await")]),t._v(" "),s("p",[t._v("é€šè¿‡ä¸Šä¸€ç¯‡ "),s("a",{attrs:{href:"https://chieminchan.vercel.app/articles/JavaScript/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%20JavaScript%20%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%E6%9C%BA%E5%88%B6.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("æµè§ˆå™¨çš„ JavaScript äº‹ä»¶å¾ªç¯æœºåˆ¶"),s("OutboundLink")],1),t._v(" ç¬”è®°ç†æ¸…äº‹ä»¶å¾ªç¯æœºåˆ¶ä»¥åï¼Œæ¥ä¸‹æ¥è¿›ä¸€æ­¥çœ‹çœ‹æ¶‰åŠæ›´å¤šç§å¼‚æ­¥æƒ…å†µçš„ä¾‹å­ï¼Œå†ç†ä¸€ç†å†å“ä¸€å“ï½")]),t._v(" "),s("p",[t._v("Promise æ˜¯æ›¿ä»£ä¼ ç»Ÿå›è°ƒå‡½æ•°çš„ä¸€ä¸ªå¸¸ç”¨æ–¹æ¡ˆï¼Œä½†å½“å¤šä¸ªå¼‚æ­¥å›è°ƒæ—¶ä¼šå¯¼è‡´ä»£ç ä¸­å¤§é‡å‡ºç° then æ–¹æ³•ï¼Œä¸ºäº†è®©ä»£ç çœ‹èµ·æ¥æ›´åŠ æ‰å¹³åŒ–ï¼Œå› æ­¤æ­¤å¤„äº†æ–°çš„ä¸€å¥—è§£å†³æ–¹æ¡ˆ async/awaitï¼Œasync/await å®ç°ä¹Ÿç¦»ä¸å¼€ Promiseã€‚")]),t._v(" "),s("p",[t._v("æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å…³äº Promise çš„æ‰§è¡Œé¡ºåºï¼š")]),t._v(" "),s("h2",{attrs:{id:"promise-é“¾å¼è°ƒç”¨çš„æ‰§è¡Œé¡ºåº"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#promise-é“¾å¼è°ƒç”¨çš„æ‰§è¡Œé¡ºåº"}},[t._v("#")]),t._v(" Promise é“¾å¼è°ƒç”¨çš„æ‰§è¡Œé¡ºåº")]),t._v(" "),s("h3",{attrs:{id:"promise-çš„åŸºç¡€çŸ¥è¯†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#promise-çš„åŸºç¡€çŸ¥è¯†"}},[t._v("#")]),t._v(" Promise çš„åŸºç¡€çŸ¥è¯†")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://chieminchan.vercel.app/articles/JavaScript/%E5%85%B3%E4%BA%8EPromise%E7%9A%84%E4%B8%80%E4%BA%9B%E4%BA%8B.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("å…³äº promise çš„ä¸€äº›äº‹"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("å¦‚æœå¯¹ Promise è¿˜æœ‰äº›ä¸å¤ªç†Ÿæ‚‰ï¼Œè¿™é‡Œå¯ç§»æ­¥è‡³å¦å¤–ä¸€ç¯‡æ–‡ç« ï¼Œæ¢³ç†äº†ä¸€äº›å…³äº Promise çš„ä¸€äº›å¸¸ç”¨çŸ¥è¯†ç‚¹ï¼Œäº†è§£å®Œä»¥åï¼Œå†å›æ¥ç»§ç»­å¾€ä¸‹çœ‹ã€‚ï¼ˆå¤§ç¥ä»¬å°±æ­¤è·³è¿‡å§ï½ï¼‰")]),t._v(" "),s("h3",{attrs:{id:"promise-prototype-then"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#promise-prototype-then"}},[t._v("#")]),t._v(" Promise.prototype.then")]),t._v(" "),s("p",[t._v("å…ˆæ¥çœ‹ä¸€ä¸ªé—®é¢˜ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" promise1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\npromise1\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" promise2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\npromise2\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("å¤©çœŸåœ°ä»¥ä¸º Promise.then ä¼šå°†å¼‚æ­¥æ“ä½œè¿ç»­ä¸”æŒ‰é¡ºåºä¸€ç³»åˆ—çš„æ¨è¿›å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œç„¶è€Œäº‹æƒ…çš„ç»“æœæ€»æ²¡æœ‰æƒ³è±¡ä¸­çš„ç®€å•ï¼Œæ­£ç¡®çš„è¾“å‡ºé¡ºåºæ˜¯ï¼š "),s("code",[t._v("1 4 2 5 3 6")]),t._v(" ã€‚")]),t._v(" "),s("ul",[s("li",[t._v("å…ˆå¼•å‡ºä¸¤æ¡ç»“è®ºï¼š")])]),t._v(" "),s("blockquote",[s("ol",[s("li",[t._v("Promise å¤šä¸ª then() é“¾å¼è°ƒç”¨ï¼Œå¹¶ä¸æ˜¯è¿ç»­çš„åˆ›å»ºäº†å¤šä¸ªå¾®ä»»åŠ¡å¹¶æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚then() çš„è¿”å›å€¼æ˜¯å¿…ç„¶ä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ï¼Œè€Œåç»­çš„ then() æ˜¯ä¸Šä¸€æ­¥ then() è¿”å›çš„ Promise çš„å›è°ƒã€‚")])])]),t._v(" "),s("blockquote",[s("ol",{attrs:{start:"2"}},[s("li",[t._v("then è´Ÿè´£æ³¨å†Œå›è°ƒå‡½æ•°ï¼Œå½“ Promise çŠ¶æ€å‘ç”Ÿäº†å˜åŒ–æ—¶ï¼Œæ‰ä¼šè§¦å‘æŠŠå¯¹åº”çš„å›è°ƒå‡½æ•°æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚ä¹Ÿå°±æ˜¯è¯´ then() æ–¹æ³•ä¼šå…ˆæ³¨å†Œå›è°ƒå‡½æ•°ï¼Œç›´åˆ°å‰é¢çš„ Promise å˜æˆäº† resolved/rejected çŠ¶æ€ï¼Œæ‰ä¼šå°†å›è°ƒæ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œè‹¥å‰é¢çš„ Promise ä¾ç„¶æ˜¯ pendingï¼Œåˆ™å°†å›è°ƒå­˜å‚¨åœ¨ Promise å†…éƒ¨ï¼Œä¸€ç›´ç­‰åˆ°çŠ¶æ€è¢«æ”¹å˜ã€‚")])])]),t._v(" "),s("ul",[s("li",[t._v("æ ¹æ®ä»¥ä¸Šç»“è®ºä¸‹é¢æ¥å¥½å¥½åœ°åˆ†æä¸€ä¸‹è¿‡ç¨‹ï¼š")])]),t._v(" "),s("p",[t._v("ï¼ˆ1ï¼‰é¦–å…ˆï¼Œæ‰§è¡Œ promise1 æ„é€ å™¨å†…éƒ¨çš„åŒæ­¥ä»£ç ï¼Œæ‰§è¡Œåˆ° "),s("code",[t._v("resolve()")]),t._v("ï¼Œå°† promise1 çš„çŠ¶æ€æ”¹å˜ä¸º "),s("code",[t._v("Promise { <resolved> : undefined }")]),t._v(" ï¼Œç„¶åç¬¬ä¸€ä¸ª then ä¸­ä¼ å…¥çš„å›è°ƒå‡½æ•° "),s("code",[t._v("console.log('1')")]),t._v(" è¢«ä½œä¸ºä¸€ä¸ªå¾®ä»»åŠ¡è¢«æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œè€Œåœ¨æ­¤ä¹‹åçš„ç¬¬äºŒä¸ª then() ä¼ å…¥çš„å›è°ƒå‡½æ•°éœ€è¦ç­‰åˆ°ç¬¬ä¸€ä¸ª then() æ–°åˆ›å»ºçš„ Promise å®ä¾‹ resolved äº†ä»¥åï¼ˆå³ç­‰åˆ° "),s("code",[t._v("console.log('1')")]),t._v(" è¾“å‡ºä»¥åï¼‰æ‰ä¼šå¾€ä¸‹æ‰§è¡Œã€‚")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}}),t._v(" "),s("th",[t._v("ä»»åŠ¡")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ä¸»çº¿ç¨‹")]),t._v(" "),s("td",[t._v("promise2 åŒæ­¥ä»£ç ")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("å¾®ä»»åŠ¡")]),t._v(" "),s("td",[s("code",[t._v("console.log('1')")])])])])]),t._v(" "),s("p",[t._v("ï¼ˆ2ï¼‰æ¥ç€ï¼Œæ‰§è¡Œ promise2 åŒæ­¥ä»£ç ï¼ŒåŒæ ·åœ°æ‰§è¡Œåˆ°äº† "),s("code",[t._v("resolve()")]),t._v("ï¼Œå°† promise2 çš„çŠ¶æ€æ”¹å˜ä¸º "),s("code",[t._v("Promise { <resolved> : undefined }")]),t._v("ï¼Œç„¶å then ä¸­ä¼ å…¥çš„å›è°ƒå‡½æ•° "),s("code",[t._v("console.log('4')")]),t._v(" ä½œä¸ºä¸€ä¸ªå¾®ä»»åŠ¡è¢«æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}}),t._v(" "),s("th",[t._v("ä»»åŠ¡")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ä¸»çº¿ç¨‹")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("å¾®ä»»åŠ¡")]),t._v(" "),s("td",[s("code",[t._v("console.log('1')")]),t._v("ï¼Œ"),s("code",[t._v("console.log('4')")])])])])]),t._v(" "),s("p",[t._v("ï¼ˆ3ï¼‰ä¸»çº¿ç¨‹å·²ç»æ²¡æœ‰ä»»åŠ¡äº†ï¼Œæ‰€ä»¥å°†ä¼šå»æ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°æœ‰å¾®ä»»åŠ¡ï¼Œå°†ä¼šæŒ‰é¡ºåºä¸€ä¸€æ‰§è¡Œã€‚å…ˆæ‰§è¡Œ"),s("code",[t._v("console.log('1')")]),t._v("ï¼Œæ­¤æ—¶ promise1 çš„ç¬¬ä¸€ä¸ª then() çŠ¶æ€å˜æˆäº† resovledï¼Œä¼šè§¦å‘æŠŠ promise1 çš„ç¬¬äºŒä¸ª then ä¸­ä¼ å…¥çš„å›è°ƒå‡½æ•° "),s("code",[t._v("console.log('2')")]),t._v(" è¢«ä½œä¸ºä¸€ä¸ªå¾®ä»»åŠ¡è¢«æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚ æ­¤æ—¶æ§åˆ¶å°ä¼šå…ˆè¾“å‡ºï¼š 1ã€‚")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}}),t._v(" "),s("th",[t._v("ä»»åŠ¡")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ä¸»çº¿ç¨‹")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("å¾®ä»»åŠ¡")]),t._v(" "),s("td",[s("code",[t._v("console.log('4')")]),t._v("ï¼Œ"),s("code",[t._v("console.log('2')")])])])])]),t._v(" "),s("p",[t._v("åŒæ ·åœ°ï¼Œç­‰åˆ° 1 è¢«è¾“å‡ºåï¼Œä¼šæ‰§è¡Œä¸‹ä¸€ä¸ªå¾®ä»»åŠ¡ "),s("code",[t._v("console.log('4')")]),t._v(" ï¼Œè€Œæ­¤æ—¶ promise2 çš„ç¬¬ä¸€ä¸ª then() ä¹Ÿä¼šçŠ¶æ€å˜æˆäº† resovledï¼Œä¼šè§¦å‘æŠŠ promise2 çš„ç¬¬äºŒä¸ª then ä¸­ä¼ å…¥çš„å›è°ƒå‡½æ•° "),s("code",[t._v("console.log('5')")]),t._v(" è¢«ä½œä¸ºä¸€ä¸ªå¾®ä»»åŠ¡è¢«æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚æ­¤æ—¶æ§åˆ¶å°è¾“å‡ºï¼š 1 4ã€‚")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}}),t._v(" "),s("th",[t._v("ä»»åŠ¡")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ä¸»çº¿ç¨‹")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("å¾®ä»»åŠ¡")]),t._v(" "),s("td",[s("code",[t._v("console.log('2')")]),t._v("ï¼Œ"),s("code",[t._v("console.log('5')")])])])])]),t._v(" "),s("p",[t._v("ï¼ˆ4ï¼‰æ¥ä¸‹æ¥çš„ç¨‹åºåƒç¬¬ 3 æ­¥æ‰€æè¿°é‚£æ ·å­ï¼Œå¾€å¤æ‰§è¡Œï¼Œç›´åˆ°æ‰€æœ‰ä»»åŠ¡è¢«æ‰§è¡Œå®Œæ¯•ã€‚æœ€åï¼Œæ§åˆ¶å°è¾“å‡ºï¼š"),s("code",[t._v("1 4 2 5 3 6")]),t._v("ã€‚")]),t._v(" "),s("h3",{attrs:{id:"promise-resolve"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#promise-resolve"}},[t._v("#")]),t._v(" Promise.resolve")]),t._v(" "),s("p",[t._v("é™æ€æ–¹æ³• "),s("code",[t._v("Promise.resolve")]),t._v(" å¯ä»¥è®¤ä¸ºæ˜¯ "),s("code",[t._v("new Promise()")]),t._v(" çš„å¿«æ·ä½¿ç”¨æ–¹å¼ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç­‰ä»·äº")]),t._v("\nPromise"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("solve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("code",[t._v("Promise.resolve")]),t._v(" ç”¨äºè¿”å›ä¸€ä¸ªå·²ç»™å‚æ•°è§£æåçš„ Promise å¯¹è±¡ã€‚å…¶ä¸­ï¼Œå‚æ•°æœ‰å››ç§æƒ…å†µï¼š")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("å‚æ•°ä¸ºä¸€ä¸ªåŸå§‹å€¼ï¼Œæˆ–è€…ä¸ºä¸€ä¸ªä¸å…·æœ‰ then æ–¹æ³•çš„å¯¹è±¡"),s("br"),t._v("\nå¦‚æœå‚æ•°æ˜¯ä¸€ä¸ªåŸå§‹å€¼ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªä¸å…·æœ‰ then æ–¹æ³•çš„å¯¹è±¡æ—¶ï¼Œåˆ™ Promise.resolve ä¼šè¿”å›ä¸€ä¸ªæ–°çš„çŠ¶æ€ä¸º resolved çš„ Promise å¯¹è±¡ï¼Œå¹¶å°†å‚æ•°ä¼ ç»™å›è°ƒå‡½æ•°ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("æ²¡æœ‰å‚æ•°"),s("br"),t._v("\nå½“ Promise.resolve æ–¹æ³•è°ƒç”¨ä¸å¸¦å‚æ•°æ—¶ï¼Œä¼šç›´æ¥è¿”å›ä¸€ä¸ªæ–°çš„çŠ¶æ€ä¸º resolved çš„ Promise å¯¹è±¡ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("å‚æ•°ä¸ºä¸€ä¸ª thenable å¯¹è±¡"),s("br"),t._v("\nthenable å¯¹è±¡æ˜¯æŒ‡å…·æœ‰ then æ–¹æ³•çš„å¯¹è±¡ï¼Œæ¯”å¦‚ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" thenable "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"i am from thenable"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("Promise.resolve ä¼šå°†æ­¤ thenable å¯¹è±¡è½¬ä¸º Promise å¯¹è±¡ï¼Œå¹¶ä¸”ä¹‹åä¼šç«‹å³æ‰§è¡Œ thenable å¯¹è±¡é‡Œé¢çš„ then æ–¹æ³•ï¼Œæ¯”å¦‚ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" thenable "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"i am from thenable"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nPromise"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("thenable"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("result")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// i am from thenable")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("then æ–¹æ³•æ‰§è¡Œå®Œä»¥åï¼ŒPromise å¯¹è±¡çŠ¶æ€ä¹Ÿå°†è½¬ä¸ºå…¶ then æ–¹æ³•é‡Œé¢çš„å¯¹åº”çŠ¶æ€ã€‚")]),t._v(" "),s("p",[t._v("åŒæ—¶ï¼Œä¹Ÿå¼•å…¥æ¥è‡ª"),s("a",{attrs:{href:"https://juejin.im/post/5c3cc981f265da616a47e028#heading-13",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä»¤äººè´¹è§£çš„ async/await æ‰§è¡Œé¡ºåº"),s("OutboundLink")],1),t._v("ä¸­ï¼Œå¯¹ TC39 è§„èŒƒä¸­ Promise Resolve Functions çš„æè¿°æ€»ç»“ï¼š")]),t._v(" "),s("blockquote",[s("ol",[s("li",[s("p",[t._v("å¦‚æœæœ‰ä¸€ä¸ªå¯¹è±¡ "),s("code",[t._v("obj")]),t._v("ï¼Œä¸” "),s("code",[t._v("obj.then")]),t._v(" æ˜¯ä¸€ä¸ª "),s("code",[t._v("function")]),t._v(" ï¼Œé‚£ä¹ˆ "),s("code",[t._v("obj")]),t._v(" å¯ä»¥è¢«ç§°ä¸º"),s("code",[t._v("thenable")]),t._v(" å¯¹è±¡ï¼›")])]),t._v(" "),s("li",[s("p",[t._v("å½“åœ¨ Promise ä¸­ resolve ä¸€ä¸ª thenable å¯¹è±¡æ—¶ï¼ˆ"),s("code",[t._v("new Promise(resolve => resolve(thenable))")]),t._v(" ï¼‰ï¼Œéœ€è¦ä¸€ä¸ªè¿‡ç¨‹å»å°† "),s("code",[t._v("thenable")]),t._v(" å¯¹è±¡è½¬æˆ Promiseï¼Œå¹¶ä¸”ä¼šç«‹å³è°ƒç”¨ "),s("code",[t._v("thenable")]),t._v(" å¯¹è±¡é‡Œé¢ then çš„æ–¹æ³•ã€‚è¿™ä¸ªè¿‡ç¨‹éœ€è¦ä½œä¸ºä¸€ä¸ªä»»åŠ¡ï¼ˆ"),s("code",[t._v("PromiseResolveThenableJob")]),t._v("ï¼‰ï¼Œæ¨è¿›å½“å‰çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œä»¥ä¿è¯å¯¹ then æ–¹æ³•çš„è§£æå‘ç”Ÿåœ¨å…¶ä»–ä¸Šä¸‹æ–‡ä»£ç è§£æä¹‹åã€‚")])])])]),t._v(" "),s("p",[t._v("å¯èƒ½æœ‰ç‚¹ç»•ï¼Œæ¥çœ‹çœ‹è¡¨è¾¾ä¸Šè¿°æ„æ€çš„ä¾‹å­ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" thenable "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"in thenable"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"in p0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("thenable"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"thenable ok"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"in p1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"4"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("æ‰§è¡Œç»“æœï¼š "),s("code",[t._v("in p0 -> in p1 -> in thenable -> 1 -> thenable ok -> 2 -> 3 -> 4")])]),t._v(" "),s("p",[t._v("è§£æï¼š")]),t._v(" "),s("p",[t._v("æ­¤å¤„ï¼Œå°†ç¬¬ä¸€ä¸ª Promise ç®€ç§°ä¸º promise1ï¼Œå°†ç¬¬äºŒä¸ª Promise ç®€ç§°ä¸º promise2ã€‚")]),t._v(" "),s("p",[t._v("ï¼ˆ1ï¼‰é¦–å…ˆï¼Œæ‰§è¡Œ promise1 åŒæ­¥ä»£ç ï¼Œè¾“å‡º"),s("code",[t._v("in p0")]),t._v("ï¼Œå½“ä»£ç æ‰§è¡Œåˆ° "),s("code",[t._v("resolve(thenable)")]),t._v("ï¼Œ æ­¤å¤„çš„ resolve ä¼šå°† "),s("strong",[t._v("thenable å¯¹è±¡è½¬åŒ–ä¸º Promise")]),t._v(" çš„è¿™ä¸€è¿‡ç¨‹ï¼ˆå³ PromiseResolveThenableJob ï¼‰"),s("strong",[t._v("ä½œä¸ºä¸€ä¸ªå¾®ä»»åŠ¡æ¨è¿›å¾®ä»»åŠ¡é˜Ÿåˆ—ç­‰å¾…æ‰§è¡Œ")]),t._v("ï¼Œè€Œ promise1 çš„å¤–éƒ¨ä¸€ä¸ª then éœ€è¦"),s("strong",[t._v("ç­‰å¾…è¿™ä¸ªå¾®ä»»åŠ¡è¢« resolved åæ‰ä¼šè¢«æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—")]),t._v("ã€‚")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}}),t._v(" "),s("th",[t._v("ä»»åŠ¡")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ä¸»çº¿ç¨‹")]),t._v(" "),s("td",[t._v("promise2 åŒæ­¥ä»£ç ")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("å¾®ä»»åŠ¡")]),t._v(" "),s("td",[s("code",[t._v("thenable")])])])])]),t._v(" "),s("p",[t._v("ï¼ˆ2ï¼‰ç„¶åç»§ç»­å¾€ä¸‹æ‰§è¡Œ promise2 åŒæ­¥ä»£ç ï¼Œè¾“å‡º"),s("code",[t._v("in p1")]),t._v("ï¼Œå½“ä»£ç æ‰§è¡Œåˆ° "),s("code",[t._v("resolve()")]),t._v("ï¼Œä¼šå°† promise2 çš„çŠ¶æ€å˜æˆ "),s("code",[t._v("Promise {<resolved>: undefined}")]),t._v("ï¼Œç„¶å promise2.then çš„ç¬¬ä¸€ä¸ªå›è°ƒå‡½æ•° "),s("code",[t._v("console.log('1')")]),t._v(" ä¼šè¢«ä½œä¸ºä¸€ä¸ªå¾®ä»»åŠ¡è¢«æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚æ­¤æ—¶æ§åˆ¶å°è¾“å‡ºï¼š"),s("code",[t._v("in p0 -> in p1")]),t._v("ã€‚")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}}),t._v(" "),s("th",[t._v("ä»»åŠ¡")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ä¸»çº¿ç¨‹")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("å¾®ä»»åŠ¡")]),t._v(" "),s("td",[s("code",[t._v("thenable")]),t._v("ï¼Œ"),s("code",[t._v("console.log('1')")])])])])]),t._v(" "),s("p",[t._v("ï¼ˆ3ï¼‰ä¸»çº¿ç¨‹è¿™æ—¶æ²¡æœ‰ä»»åŠ¡äº†ï¼Œæ¥ç€ä¼šæ£€ç´¢å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œå¹¶ä¼šæŒ‰é¡ºåºæ‰§è¡Œã€‚è¿™é‡Œä¼šå…ˆå¯¹ "),s("code",[t._v("thenable")]),t._v(" å¯¹è±¡è¿›è¡Œå¤„ç†ï¼Œè¿™æ—¶å€™ä¼šè¾“å‡º "),s("code",[t._v("in thenable")]),t._v(" ï¼Œå½“ä»£ç æ‰§è¡Œåˆ° "),s("code",[t._v("resolve(100)")]),t._v(" ï¼Œè¿™ä¸ªå¾®ä»»åŠ¡çŠ¶æ€å·²è¢«æ”¹å˜ä¸º "),s("code",[t._v("Promise {<resolved>: 100}")]),t._v("ï¼Œpromise1 å¤–éƒ¨çš„ç¬¬ä¸€ä¸ª then å›è°ƒå°†ä¼šè¢«æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚æ­¤æ—¶æ§åˆ¶å°è¾“å‡ºï¼š"),s("code",[t._v("in p0 -> in p1 -> in thenable")]),t._v("ã€‚")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}}),t._v(" "),s("th",[t._v("ä»»åŠ¡")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ä¸»çº¿ç¨‹")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("å¾®ä»»åŠ¡")]),t._v(" "),s("td",[s("code",[t._v("console.log('1')")]),t._v("ï¼Œ"),s("code",[t._v("console.log('thenable ok')")])])])])]),t._v(" "),s("p",[t._v("æ¥ç€ï¼Œæ‰§è¡Œ promise2 çš„ç¬¬ä¸€ä¸ª then å›è°ƒ "),s("code",[t._v("console.log('1')")]),t._v("ï¼ˆçŠ¶æ€å˜æˆäº† resolvedï¼‰ï¼Œç´§æ¥ç€ promise2 çš„ç¬¬äºŒä¸ª then å›è°ƒ "),s("code",[t._v("console.log('2')")]),t._v(" ä¼šè¢«æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚æ­¤æ—¶æ§åˆ¶å°è¾“å‡ºï¼š"),s("code",[t._v("in p0 -> in p1 -> in thenable -> 1")]),t._v("ã€‚")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}}),t._v(" "),s("th",[t._v("ä»»åŠ¡")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ä¸»çº¿ç¨‹")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("å¾®ä»»åŠ¡")]),t._v(" "),s("td",[s("code",[t._v("console.log('thenable ok')")]),t._v("ï¼Œ"),s("code",[t._v("console.log('2')")])])])])]),t._v(" "),s("p",[t._v("ï¼ˆ4ï¼‰æ¥ç€ï¼Œæ‰§è¡Œ promise1 çš„æœ€åä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œè¾“å‡º "),s("code",[t._v("thenable ok")]),t._v(" ã€‚promise1 çš„æ•´ä¸ªè¿‡ç¨‹å·²ç»æ‰§è¡Œå®Œï¼Œæ¥ç€æ‰§è¡Œ promise2 çš„ç¬¬äºŒä¸ª then å›è°ƒï¼Œè¾“å‡º "),s("code",[t._v("2")]),t._v("ã€‚å‰©ä¸‹çš„ï¼Œå°±æ¥ç€ä¸€æ­¥æ­¥æ‰§è¡Œï¼Œç›´è‡³æ§åˆ¶å°è¾“å‡ºï¼š"),s("code",[t._v("in p0 -> in p1 -> in thenable -> 1 -> thenable ok -> 2 -> 3 -> 4")]),t._v(" ã€‚")]),t._v(" "),s("p",[t._v("ä¸Šè¿°çš„"),s("code",[t._v("resolve(thenable)")]),t._v("å¯è½¬åŒ–ä¸ºï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"in p0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("thenable"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"thenable ok"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç­‰ä»·äº")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"in p0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    Promise"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        thenable"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("resolve"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[t._v("å‚æ•°ä¸ºä¸€ä¸ª Promise å¯¹è±¡"),s("br"),t._v("\nå½“å‚æ•°æ˜¯ä¸€ä¸ª Promise å¯¹è±¡æ—¶ï¼Œé‚£ä¹ˆ Promise.resolve ä¼šå°†è¿™ä¸ª Promise å¯¹è±¡ä¸ä½œä»»ä½•ä¿®æ”¹åœ°è¿”å›ã€‚")]),t._v(" "),s("p",[t._v("æ³¨æ„ï¼š "),s("strong",[t._v("æ­¤æ—¶çš„"),s("code",[t._v("Promise.resolve(v)")]),t._v(" ä¸ç­‰äº "),s("code",[t._v("new Promise(r => r(v))")])]),t._v("ï¼Œå› ä¸ºå¦‚æœ v æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå‰è€…ä¼šç›´æ¥è¿”å› vï¼Œè€Œåè€…éœ€è¦ç»è¿‡ä¸€ç³»åˆ—çš„å¤„ç†ï¼ˆä¸»è¦æ˜¯ PromiseResolveThenableJobï¼‰ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("ç”±äº Promise å®ä¾‹æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶åŸå‹ä¸Šæœ‰ then æ–¹æ³•ï¼Œæ‰€ä»¥è¿™ä¹Ÿæ˜¯ä¸€ä¸ª thenable å¯¹è±¡ã€‚"),s("br"),t._v("\nåŒæ ·çš„ï¼Œæµè§ˆå™¨ä¼šåˆ›å»ºä¸€ä¸ª PromiseResolveThenableJob å»å¤„ç†è¿™ä¸ª Promise å®ä¾‹ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾®ä»»åŠ¡ã€‚åœ¨ PromiseResolveThenableJob æ‰§è¡Œä¸­ï¼Œæ‰§è¡Œäº† Promise.prototype.thenï¼Œè€Œè¿™æ—¶ Promise å¦‚æœå·²ç»æ˜¯ resolved çŠ¶æ€ ï¼Œthen çš„æ‰§è¡Œä¼šå†ä¸€æ¬¡åˆ›å»ºäº†ä¸€ä¸ªå¾®ä»»åŠ¡ã€‚"),s("br"),t._v("\næœ€ç»ˆç»“æœå°±æ˜¯ï¼šé¢å¤–åˆ›å»ºäº†ä¸¤ä¸ª Jobï¼Œè¡¨ç°ä¸Šå°±æ˜¯åç»­ä»£ç è¢«æ¨è¿Ÿäº† 2 ä¸ªæ—¶åºã€‚")])])])]),t._v(" "),s("h2",{attrs:{id:"async"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#async"}},[t._v("#")]),t._v(" async")]),t._v(" "),s("p",[t._v("å…³äº async å‡½æ•°ï¼Œæ˜¯ ES6 ä¸­ Generator å‡½æ•°çš„è¯­æ³•ç³–ï¼ˆå’Œ Generator çš„åŒºåˆ«ä»€ä¹ˆçš„å°±ä¸å±•å¼€äº†...ï¼‰ã€‚è¯­ä¹‰ä¸Šä¹Ÿè¡¨æ˜äº†å¸¦ async å…³é”®å­—çš„å‡½æ•°ä¸­æœ‰å¼‚æ­¥æ“ä½œï¼Œè€Œè¿™ç±»å‡½æ•°çš„è¿”å›å€¼å¿…å®šä¸€ä¸ªæ˜¯ promise å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ then æ–¹æ³•è¿›è¡Œåç»­çš„æ“ä½œã€‚")]),t._v(" "),s("p",[t._v("å¦‚æœ async å…³é”®å­—å‡½æ•°è¿”å›çš„ä¸æ˜¯ promiseï¼Œä¼šè‡ªåŠ¨ç”¨ Promise.resolve() åŒ…è£…ï¼ˆé™¤éè¢«æŠ›å‡ºé”™è¯¯ï¼Œä¼šä½¿ç”¨ Promise.reject()ï¼‰ã€‚å¦‚æœ async å…³é”®å­—å‡½æ•°æ˜¾å¼åœ°è¿”å› promiseï¼Œé‚£å°±ä»¥è¿”å›çš„ promise ä¸ºå‡†ã€‚å¦‚æœ async å…³é”®å­—å‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œå°±ä¼šè¿”å› Promise.resolve(undefined)ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("ä¾‹å­ 1")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("asnyc1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"i am from async1 function"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nasync1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"start"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("è¾“å‡ºçš„ç»“æœå…ˆåé¡ºåºä¸ºï¼š "),s("code",[t._v("start -> i am from async1 function")]),t._v(" è™½ç„¶æ˜¯ä¸Šé¢ asnyc1()å…ˆæ‰§è¡Œäº†ï¼Œä½†æ˜¯å› ä¸ºè¢«å®šä¹‰æˆäº†å¼‚æ­¥å‡½æ•°ï¼Œæ‰€ä»¥ä¸ä¼šå½±å“åç»­å‡½æ•°çš„æ‰§è¡Œã€‚")]),t._v(" "),s("p",[t._v("é‚£å…³äº await çš„å‘¢ï¼Œä¸€èˆ¬ await å…³é”®å­—åªèƒ½åœ¨ async å…³é”®å­—å‡½æ•°çš„å†…éƒ¨å‡ºç°ã€‚async å‡½æ•°å¿…é¡»ç­‰åˆ°å†…éƒ¨æ‰€æœ‰çš„ await å‘½ä»¤æ‰§è¡Œå®Œï¼Œæ‰ä¼šå‘ç”ŸçŠ¶æ€æ”¹å˜ã€‚ é‚£ await åœ¨ async å‡½æ•°ä¸­åœ¨ç­‰ä»€ä¹ˆå‘¢ï¼Ÿ")]),t._v(" "),s("h2",{attrs:{id:"await-åœ¨ç­‰ä»€ä¹ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#await-åœ¨ç­‰ä»€ä¹ˆ"}},[t._v("#")]),t._v(" await åœ¨ç­‰ä»€ä¹ˆï¼Ÿ")]),t._v(" "),s("p",[s("strong",[t._v("åœ¨æ²¡æœ‰ä½¿ç”¨ await çš„æƒ…å†µä¸‹æ‰§è¡Œ async å‡½æ•°ï¼Œå®ƒä¼šç«‹å³æ‰§è¡Œï¼Œè¿”å›ä¸€ä¸ª Promise å¯¹è±¡")]),t._v("ï¼Œå¹¶ä¸”ç»ä¸ä¼šé˜»å¡åé¢çš„è¯­å¥ï¼ŒPromise çš„ç‰¹ç‚¹ä¹‹ä¸€æ˜¯æ— ç­‰å¾…ï¼Œæ‰€ä»¥è¿™å’Œæ™®é€šè¿”å› Promise å¯¹è±¡çš„å‡½æ•°ä½¿ç”¨èµ·æ¥æ²¡å¤ªå¤§å·®åˆ«ã€‚")]),t._v(" "),s("p",[t._v("ä¸€æ—¦ä½¿ç”¨ awaitï¼Œæƒ…å†µå°±æœ‰ç‚¹ä¸å¤ªä¸€æ ·äº†ã€‚ä¸€èˆ¬å¯è®¤ä¸º await æ˜¯åœ¨ç­‰å¾… async å‡½æ•°å®Œæˆã€‚ï¼ˆå› ä¸º async å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ª promise å¯¹è±¡ï¼Œæ‰€ä»¥ await å¯ä»¥ç”¨äºç­‰å¾…ä¸€ä¸ª async å‡½æ•°çš„è¿”å›å€¼ã€‚ï¼‰ä½†æŒ‰"),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¯­æ³•"),s("OutboundLink")],1),t._v("æ¥è¯´ï¼Œawait æ˜¯ä¸ªè¿ç®—ç¬¦ï¼Œç”¨äºç»„æˆè¡¨è¾¾å¼ï¼Œawait è¡¨è¾¾å¼çš„è¿ç®—ç»“æœå–å†³äºå®ƒç­‰çš„ç»“æœã€‚")]),t._v(" "),s("p",[s("strong",[t._v("await æ˜¯ä¸€ä¸ªè®©å‡ºçº¿ç¨‹çš„æ ‡å¿—ï¼Œé˜»å¡ async å‡½æ•°å†…éƒ¨å‡ºç°åœ¨ await åé¢çš„ä»£ç ")]),t._v("ã€‚æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("async1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"async1 start"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("async2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"async1 end"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("async2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"async2"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("async1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"script start"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("åœ¨ä¾‹å­ä¸­ï¼Œé‡åˆ° "),s("code",[t._v("await async2()")]),t._v("æ—¶ï¼Œä¼š"),s("strong",[t._v("å…ˆæ‰§è¡Œ await åé¢çš„å‡½æ•° async2()ï¼Œå°† await åé¢çš„ä»£ç åŠ å…¥åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œåå°†ä¼šè·³å‡ºæ•´ä¸ª async1 å‡½æ•°ï¼Œæ¥ç€æ‰§è¡Œå¤–éƒ¨ä»£ç ï¼Œæœ€åç­‰åˆ°æœ¬è½®äº‹ä»¶å¾ªç¯æ‰§è¡Œå®Œäº†ä¹‹åï¼Œå†æ¥ç€è·³å› async1 å‡½æ•°ä¸­ç­‰å¾… await åé¢è¡¨è¾¾å¼çš„è¿”å›å€¼")]),t._v("ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ­¤æ—¶ç­‰å¾…çš„è¿”å›å€¼åˆåˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š")]),t._v(" "),s("ol",[s("li",[t._v("å¦‚æœè¿”å›å€¼ä¸ºé Promise å¯¹è±¡åˆ™æŠŠè¿™ä¸ªé Promise ä¸œè¥¿ä½œä¸º await è¡¨è¾¾å¼çš„ç»“æœï¼Œç„¶åç»§ç»­æ‰§è¡Œ async å‡½æ•°å†…éƒ¨åé¢çš„ä»£ç ï¼ˆawait åé¢çš„ä»£ç å¯ä»¥ç®€å•ç†è§£ä¸ºæ˜¯.then çš„å›è°ƒäº‹ä»¶ï¼‰ï¼›")])])]),t._v(" "),s("blockquote",[s("ol",{attrs:{start:"2"}},[s("li",[t._v("å¦‚æœè¿”å›å€¼ä¸º Promise å¯¹è±¡åˆ™å°†è¿”å›çš„ Promise æ”¾å…¥ Promise é˜Ÿåˆ—ï¼Œç­‰å¾…è¿™ä¸ªå¯¹è±¡è¢« resolve åï¼ŒæŠŠ resolve çš„å‚æ•°ä½œä¸º await è¡¨è¾¾å¼ç»“æœã€‚ï¼ˆå› æ­¤æœ‰è¿™æ ·å­çš„è¯´æ³•ï¼šasync å‡½æ•°çš„è°ƒç”¨æ˜¯ä¸ä¼šé€ æˆé˜»å¡ï¼Œå› ä¸ºä¸€æ—¦æ‰§é‡åˆ° await å°±å…ˆè¿”å›ï¼Œå®ƒå†…éƒ¨æ‰€æœ‰çš„â€œé˜»å¡â€éƒ½è¢«å°è£…åœ¨ä¸€ä¸ª Promise å¯¹è±¡ä¸­å¼‚æ­¥æ‰§è¡Œï¼Œç­‰åˆ°è¿™ä¸ª Promise å¼‚æ­¥æ“ä½œå®Œæˆä»¥åï¼Œå†æ¥ç€æ‰§è¡Œå‡½æ•°ä½“å†…åé¢çš„ä»£ç ã€‚å¦‚æœè¿™ä¸ª Promise æ²¡è¢« resolveï¼Œawait åç»­çš„ä»£ç å°†ä¸ä¼šæ‰§è¡Œã€‚ï¼‰")])])]),t._v(" "),s("p",[t._v("å³ä¸Šè¿°ä¾‹å­ä»£ç å¯è½¬åŒ–ä¸ºï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("async1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"async1 start"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" p "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("async2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Promise"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"async1 end"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("async2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"async2"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("async1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"script start"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("æ‰€ä»¥ï¼Œä¸Šé¢çš„ä¾‹å­è¾“å‡ºé¡ºåºåº”è¯¥æ˜¯ï¼š"),s("code",[t._v("async1 start -> async2 -> script start -> async1 end")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("ç•™ä¸‹çš„ç–‘é—®ï¼š"),s("br"),t._v("\nasync/await å’Œ promise çš„åŒºåˆ«åœ¨å“ªï¼Ÿ"),s("br"),t._v("\nasync/await çš„ä¼˜åŠ¿åœ¨å“ªï¼Ÿ"),s("br"),t._v("\nä»€ä¹ˆæ—¶å€™åº”è¯¥é€‰æ‹©ç”¨ async/awaitï¼Ÿ")]),t._v(" "),s("h2",{attrs:{id:"æ¢³ç†æ€»ä½“çš„ä¾‹å­"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¢³ç†æ€»ä½“çš„ä¾‹å­"}},[t._v("#")]),t._v(" æ¢³ç†æ€»ä½“çš„ä¾‹å­")]),t._v(" "),s("p",[t._v("æ¥æ¥æ¥ï¼Œå†æ¥ä¸€ä¸ªä¾‹å­æ¢³ç†ä¸€ä¸‹ä»¥ä¸Šå…¨æ–‡æ€»ä½“ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("async1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"async1 start"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("async2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æ›´æ”¹å¦‚ä¸‹ï¼š")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"setTimeout1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("async2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æ›´æ”¹å¦‚ä¸‹ï¼š")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"setTimeout2"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"script start"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"setTimeout3"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("async1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"promise1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"promise2"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"script end"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("è¿™é‡Œä¾æ¬¡è¾“å‡ºçš„ç»“æœï¼š")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("script start\nasync1 start\npromise1\nscript end\npromise2\nsetTimeout3\nsetTimeout2\nsetTimeout1\n")])])]),s("p",[t._v("ä¼¼æ‡‚æœªæ‡‚ï¼Ÿå†æ¥ä¸€é¢˜ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("testSometing")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"in testSomething"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"return testSomething"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("testAsync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"in testAsync"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Promise"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello async"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test start..."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…³é”®ç‚¹1")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" testFn1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("testSometing")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("testFn1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…³é”®ç‚¹2")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" testFn2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("testAsync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("testFn2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("testFn1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" testFn2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" promiseFn "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"promise start"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"promise resolve"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\npromiseFn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("val")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test end..."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("è¿™ä¸€é¢˜æ¬æ¥å°æ¤…å­ï¼Œé€ä¸ªæ¥å¥½å¥½åˆ†æåˆ†æï¼š")]),t._v(" "),s("p",[t._v("ï¼ˆ1ï¼‰é¦–å…ˆæ‰§è¡Œ"),s("code",[t._v("test()")]),t._v("ï¼Œä¼šè¾“å‡ºï¼š"),s("code",[t._v('console.log("test start...")')]),t._v("ï¼Œç„¶åæ‰§è¡Œåˆ°"),s("code",[t._v("const testFn1 = await testSometing();")]),t._v("ï¼Œæ­¤æ—¶ä¼šå…ˆæ‰§è¡Œ testSomething()ï¼Œè¾“å‡º"),s("code",[t._v('console.log("in testSomething")')]),t._v("ï¼Œæ­¤æ—¶ await å°†ä¼šè®©å‡ºçº¿ç¨‹ï¼Œå°±è·³å‡º"),s("code",[t._v("test()")]),t._v("å‡½æ•°å…ˆæ‰§è¡Œå‡½æ•°ä½“å¤–çš„ä»£ç ï¼ˆå¯ä»¥ç†è§£ä¸º await ä¸‹é¢çš„ä»£ç éƒ½è¢«å½“æˆå¾®ä»»åŠ¡æ¨è¿›å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼‰ã€‚")]),t._v(" "),s("p",[t._v("ï¼ˆ2ï¼‰æ¥ç€æ‰§è¡Œåˆ°"),s("code",[t._v("promiseFn")]),t._v("ï¼Œå…ˆè¾“å‡º"),s("code",[t._v('console.log("promise start")')]),t._v("ï¼Œå¾€ä¸‹æ‰§è¡Œåˆ°"),s("code",[t._v('resolve("promise resolve")')]),t._v("ï¼ŒpromiseFn çš„ then å›è°ƒå°†ä¼šè¢«æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚åŒæ—¶ï¼Œç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œè¾“å‡º"),s("code",[t._v('console.log("test end...")')]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("æ­¤æ—¶ï¼Œä¸»çº¿ç¨‹çš„ä»»åŠ¡è¢«æ‰§è¡Œå®Œï¼Œè¾“å‡ºç»“æœï¼š")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("test start...\nin testSomething\npromise start\ntest end...\n")])])]),s("p",[t._v("ï¼ˆ3ï¼‰ç„¶åæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå³è·³å›"),s("code",[t._v("test()")]),t._v("å‡½æ•°ä½“å†…ç»§ç»­å¾€ä¸‹æ‰§è¡Œã€‚ç­‰å¾…åˆ° testSomething() è¿”å›çš„æ˜¯é Promise å¯¹è±¡ï¼Œç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œå³å…ˆè¾“å‡º"),s("code",[t._v("console.log(testFn1)ï¼Œå³ return testSomething")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("ï¼ˆ4ï¼‰ç„¶åæ‰§è¡Œåˆ°"),s("code",[t._v("const testFn2 = await testAsync()")]),t._v("ï¼Œè¾“å‡º"),s("code",[t._v('console.log("in testAsync")')]),t._v("åï¼Œåˆä¼šå†æ¬¡è®©å‡ºçº¿ç¨‹ï¼Œæ‰§è¡Œä¸‹ä¸€ä¸ªå¾®ä»»åŠ¡ï¼ˆå³ promiseFn çš„ then å›è°ƒ"),s("code",[t._v("promiseFn.then(val => console.log(val))")]),t._v("ï¼‰ï¼Œè¾“å‡º"),s("code",[t._v('"promise resolve"')]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("è‡³æ­¤ï¼Œæ­¤æ—¶çš„è¾“å‡ºç»“æœ")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("test start...\nin testSomething\npromise start\ntest end...\nreturn testSomething\nin testAsync\npromise resolve\n")])])]),s("p",[t._v("å¦‚æœå¯¹è®©å‡ºçº¿ç¨‹è¿™ä¸ªè¯´æ³•è¿˜æ˜¯æœ‰ç‚¹éš¾ç†è§£ï¼Œå¯ä»¥é€šè¿‡å¯¹å…³é”®ç‚¹ 1 å’Œå…³é”®ç‚¹ 2 çš„è½¬åŒ–æ¥ç†è§£ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test start..."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…³é”®ç‚¹1")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// const testFn1 = await testSometing();")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(testFn1);")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…³é”®ç‚¹2")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// const testFn2 = await testAsync();")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(testFn2);")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(testFn1, testFn2);")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" p1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("testSometing")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°†p1çš„å›è°ƒæ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—")]),t._v("\n    Promise"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" p2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("testAsync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°†p2çš„å›è°ƒæ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—")]),t._v("\n        Promise"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ï¼ˆ4ï¼‰æœ€åï¼Œå†å›åˆ°"),s("code",[t._v("test()")]),t._v("å‡½æ•°ä½“å†…ï¼Œç­‰å¾…"),s("code",[t._v("testAsync()")]),t._v("è¿”å›çš„ Promise å¯¹è±¡è¢« resolve åï¼Œå¾€ä¸‹æ‰§è¡Œ"),s("code",[t._v("console.log(testFn2)")]),t._v("å’Œ"),s("code",[t._v("console.log(testFn1, testFn2)")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("æœ€ç»ˆè¾“å‡ºç»“æœï¼š")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("test start...\nin testSomething\npromise start\ntest end...\nreturn testSomething\nin testAsync\npromise resolve\nhello async\nreturn testSomething, hello async\n")])])]),s("h2",{attrs:{id:"å‚è€ƒæ–‡ç« "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒæ–‡ç« "}},[t._v("#")]),t._v(" å‚è€ƒæ–‡ç« ")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("åºå·")]),t._v(" "),s("th",[t._v("æ–‡ç« ")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),s("td",[s("a",{attrs:{href:"https://juejin.im/post/5c3cc981f265da616a47e028",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä»¤äººè´¹è§£çš„ async/await æ‰§è¡Œé¡ºåº"),s("OutboundLink")],1)])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),s("td",[s("a",{attrs:{href:"https://segmentfault.com/a/1190000007535316",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç†è§£ JavaScript çš„ async/await"),s("OutboundLink")],1)])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("3")]),t._v(" "),s("td",[s("a",{attrs:{href:"https://juejin.im/post/5dabf847e51d4524d674881c",target:"_blank",rel:"noopener noreferrer"}},[t._v("Promise é“¾å¼è°ƒç”¨é¡ºåºå¼•å‘çš„æ€è€ƒ"),s("OutboundLink")],1)])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("4")]),t._v(" "),s("td",[s("a",{attrs:{href:"https://segmentfault.com/q/1010000016147496?_ea=5766963",target:"_blank",rel:"noopener noreferrer"}},[t._v("async await å’Œ promise å¾®ä»»åŠ¡æ‰§è¡Œé¡ºåºé—®é¢˜"),s("OutboundLink")],1)])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);
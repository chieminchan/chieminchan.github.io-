(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{395:function(t,s,a){"use strict";a.r(s);var n=a(25),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"è·¨åŸŸ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è·¨åŸŸ"}},[t._v("#")]),t._v(" ğŸ‘‰ è·¨åŸŸ")]),t._v(" "),s("p",[t._v("æµè§ˆå™¨æœ¬ç€å®‰å…¨çš„åŸåˆ™é‡‡ç”¨äº†åŒæºç­–ç•¥ï¼ŒåŒæºæŒ‡ä¸¤ä¸ª URL çš„åè®®/ä¸»åŸŸå/å­åŸŸå/ç«¯å£éƒ½éœ€è¦ä¸€è‡´ï¼Œä¸åŒåŸŸä¹‹é—´ç›¸äº’è¯·æ±‚èµ„æºï¼Œå°±ç®—ä½œâ€œè·¨åŸŸâ€ã€‚")]),t._v(" "),s("p",[t._v("åŒæºæ‰å…è®¸è®¿é—®ç›¸åŒçš„ cookieã€localStorage å’Œ å‘é€ Ajax è¯·æ±‚ã€‚å¦‚æœä¸Šé¢å…¶ä¸­ä¸€ç‚¹ä¸åŒéƒ½ä¼šå‡ºç°è·¨è¶Šé—®é¢˜ã€‚")]),t._v(" "),s("p",[t._v("éåŒæºç«™ç‚¹æœ‰è¿™æ ·ä¸€äº›é™åˆ¶:")]),t._v(" "),s("p",[t._v("1ï¼‰ä¸èƒ½è¯»å–å’Œä¿®æ”¹å¯¹æ–¹çš„ DOMï¼›"),s("br"),t._v("\n2ï¼‰ä¸è¯»è®¿é—®å¯¹æ–¹çš„ Cookieã€IndexDB å’Œ LocalStorageï¼›"),s("br"),t._v("\n3ï¼‰é™åˆ¶ XMLHttpRequest è¯·æ±‚ã€‚")]),t._v(" "),s("p",[t._v("å½“æµè§ˆå™¨å‘ç›®æ ‡ URI å‘ Ajax è¯·æ±‚æ—¶ï¼Œåªè¦å½“å‰ URL å’Œç›®æ ‡ URL ä¸åŒæºï¼Œåˆ™äº§ç”Ÿè·¨åŸŸï¼Œè¢«ç§°ä¸ºè·¨åŸŸè¯·æ±‚ã€‚")]),t._v(" "),s("p",[t._v("å“åº”å…¶å®æ˜¯æˆåŠŸåˆ°è¾¾å®¢æˆ·ç«¯äº†ï¼Œ"),s("strong",[t._v("è·¨åŸŸè¯·æ±‚çš„å“åº”ä¸€èˆ¬ä¼šè¢«æµè§ˆå™¨æ‰€æ‹¦æˆª")]),t._v("ã€‚")]),t._v(" "),s("h4",{attrs:{id:"é‚£è¿™ä¸ªæ‹¦æˆªæ˜¯å¦‚ä½•å‘ç”Ÿå‘¢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é‚£è¿™ä¸ªæ‹¦æˆªæ˜¯å¦‚ä½•å‘ç”Ÿå‘¢"}},[t._v("#")]),t._v(" é‚£è¿™ä¸ªæ‹¦æˆªæ˜¯å¦‚ä½•å‘ç”Ÿå‘¢")]),t._v(" "),s("p",[t._v("åŸºäºæµè§ˆå™¨çš„å¤šè¿›ç¨‹æ¶æ„ï¼Œæµè§ˆå™¨ä¼šå°†æ¯ä¸ªæ¸²æŸ“è¿›ç¨‹ï¼ˆWebKit æ¸²æŸ“å¼•æ“å’Œ V8 å¼•æ“éƒ½åœ¨æ¸²æŸ“è¿›ç¨‹å½“ä¸­ï¼‰è£…è¿›äº†æ²™ç®±ä¸­ã€‚æ¸²æŸ“è¿›ç¨‹æ˜¯æ— æ³•ç›´æ¥å‘é€ç½‘ç»œè¯·æ±‚çš„ï¼Œåªèƒ½é€šè¿‡ç½‘ç»œè¿›ç¨‹å‘é€è¯·æ±‚ã€‚")]),t._v(" "),s("p",[t._v("ç„¶åç½‘ç»œè¿›ç¨‹åˆ©ç”¨ Unix Domain Socket å¥—æ¥å­—ï¼Œé…åˆäº‹ä»¶é©±åŠ¨çš„é«˜æ€§èƒ½ç½‘ç»œå¹¶å‘åº“ libevent å®Œæˆè¿›ç¨‹çš„ IPC è¿‡ç¨‹ã€‚ç½‘ç»œè¿›ç¨‹æ”¶åˆ°æ•°æ®ä¼ é€’ç»™äº†æµè§ˆå™¨ä¸»è¿›ç¨‹ï¼Œä¸»è¿›ç¨‹æ¥æ”¶åˆ°åï¼Œæ‰çœŸæ­£åœ°å‘å‡ºç›¸åº”çš„ç½‘ç»œè¯·æ±‚ã€‚")]),t._v(" "),s("p",[t._v("åœ¨æœåŠ¡ç«¯å¤„ç†å®Œæ•°æ®åï¼Œå°†å“åº”è¿”å›ï¼Œä¸»è¿›ç¨‹æ£€æŸ¥åˆ°è·¨åŸŸï¼Œä¸”æ²¡æœ‰ cors å“åº”å¤´ï¼Œå°†å“åº”ä½“å…¨éƒ¨ä¸¢æ‰ï¼Œå¹¶ä¸ä¼šå‘é€ç»™æ¸²æŸ“è¿›ç¨‹ã€‚è¿™å°±è¾¾åˆ°äº†æ‹¦æˆªæ•°æ®çš„ç›®çš„ã€‚")]),t._v(" "),s("p",[t._v("è£…è¿›äº†æ²™ç®±ä¸­çš„åŸå› ï¼šä¸ºäº†é˜²æ­¢é»‘å®¢é€šè¿‡è„šæœ¬è§¦ç¢°åˆ°ç³»ç»Ÿèµ„æºï¼Œæµè§ˆå™¨å°†æ¯ä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹è£…è¿›äº†æ²™ç®±ï¼Œå¹¶ä¸”ä¸ºäº†é˜²æ­¢ CPU èŠ¯ç‰‡ä¸€ç›´å­˜åœ¨çš„ Spectre å’Œ Meltdown æ¼æ´ï¼Œé‡‡å–äº†ç«™ç‚¹éš”ç¦»çš„æ‰‹æ®µï¼Œç»™æ¯ä¸€ä¸ªä¸åŒçš„ç«™ç‚¹(ä¸€çº§åŸŸåä¸åŒ)åˆ†é…äº†æ²™ç®±ï¼Œäº’ä¸å¹²æ‰°ã€‚")]),t._v(" "),s("p",[t._v("æ›´å¤šå‚è€ƒï¼š")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://juejin.cn/post/6844904100035821575#heading-67",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP çµé­‚ä¹‹é—®ï¼Œå·©å›ºä½ çš„ HTTP çŸ¥è¯†ä½“ç³»"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"è§£å†³è·¨åŸŸçš„æ–¹å¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è§£å†³è·¨åŸŸçš„æ–¹å¼"}},[t._v("#")]),t._v(" è§£å†³è·¨åŸŸçš„æ–¹å¼")]),t._v(" "),s("h2",{attrs:{id:"cors"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cors"}},[t._v("#")]),t._v(" CORS")]),t._v(" "),s("p",[t._v("CORS å…¶å®æ˜¯ W3C çš„ä¸€ä¸ªæ ‡å‡†ï¼Œå…¨ç§°æ˜¯è·¨åŸŸèµ„æºå…±äº«ã€‚è¦æ±‚æœåŠ¡å™¨éœ€è¦é™„åŠ ç‰¹å®šçš„å“åº”å¤´ã€‚")]),t._v(" "),s("h3",{attrs:{id:"ç®€å•è¯·æ±‚å’Œå¤æ‚è¯·æ±‚"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç®€å•è¯·æ±‚å’Œå¤æ‚è¯·æ±‚"}},[t._v("#")]),t._v(" ç®€å•è¯·æ±‚å’Œå¤æ‚è¯·æ±‚")]),t._v(" "),s("p",[t._v("å¯¹äºæµè§ˆå™¨çš„èŒƒå›´åˆ’åˆ†ï¼Œæ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„ç§°ä¸ºç®€å•è¯·æ±‚ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("è¯·æ±‚æ–¹æ³•ä¸ºï¼šGETã€POSTã€HEADï¼›")]),t._v(" "),s("li",[t._v("è¯·æ±‚å­—æ®µåœ¨å¯¹åº”å€¼åœ¨ç‰¹å®šèŒƒå›´ï¼š"),s("code",[t._v("Accept")]),t._v("ã€"),s("code",[t._v("Content-Type")]),t._v("ã€"),s("code",[t._v("Accept-Language")]),t._v("ã€"),s("code",[t._v("Content-Language")]),t._v("ï¼Œè¿™å‡ ä¸ªå­—æ®µå–å€¼åªé™äº"),s("code",[t._v("application/x-wwww-form-urlencoded")]),t._v("ã€"),s("code",[t._v("text/plain")]),t._v("ã€"),s("code",[t._v("multipart/form-data")]),t._v("ï¼›")])]),t._v(" "),s("p",[t._v("é™¤äº†ä»¥ä¸Šæ¡ä»¶ï¼Œé¢å¤–çš„è¯·æ±‚éƒ½å¯ä»¥åˆ’åˆ†ä¸ºå¤æ‚è¯·æ±‚ã€‚")]),t._v(" "),s("h3",{attrs:{id:"cors-åŸç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cors-åŸç†"}},[t._v("#")]),t._v(" CORS åŸç†")]),t._v(" "),s("p",[t._v("é’ˆå¯¹ç®€å•è¯·æ±‚å’Œå¤æ‚è¯·æ±‚ï¼Œæœ‰ä¸¤ç§ç±»å‹çš„å¤„ç†æ–¹å¼ã€‚")]),t._v(" "),s("h4",{attrs:{id:"é’ˆå¯¹ç®€å•è¯·æ±‚"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é’ˆå¯¹ç®€å•è¯·æ±‚"}},[t._v("#")]),t._v(" é’ˆå¯¹ç®€å•è¯·æ±‚")]),t._v(" "),s("ol",[s("li",[t._v("åœ¨ç®€å•è¯·æ±‚å‘å‡ºå»ä¹‹å‰ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ ä¸€ä¸ª"),s("code",[t._v("Origin")]),t._v("å±æ€§ï¼Œè¡¨æ˜è¯·æ±‚æ¥æºï¼›")]),t._v(" "),s("li",[t._v("æœåŠ¡ç«¯è·å–åˆ°è¯·æ±‚æ—¶ï¼Œä¹Ÿä¼šåœ¨å“åº”å¤´ä¸­å¢åŠ ä¸€ä¸ª"),s("code",[t._v("Access-Control-Allow-Origin")]),t._v("ï¼›æµè§ˆå™¨ç«¯è·å–åˆ°å“åº”æ—¶ï¼Œå°±ä¼šæ ¹æ®è¿™ä¸ªå­—æ®µå†³å®šæ˜¯å¦æ‹¦æˆªè¿™ä¸ªå“åº”ã€‚")]),t._v(" "),s("li",[t._v("åŒæ—¶ï¼ŒæœåŠ¡ç«¯ä¹Ÿä¼šæœ‰å…¶ä»–ä¸€äº›é¢å¤–çš„å­—æ®µæ¥è¿›è¡Œå…¶ä»–åŠŸèƒ½æ•°æ®äº¤äº’ï¼Œå¦‚ï¼š")])]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("Access-Control-Allow-Credentials")]),t._v("ï¼š"),s("br"),t._v("\nè¿™ä¸ªå­—æ®µæ ‡ç¤ºå®¢æˆ·ç«¯æ˜¯å¦å…è®¸å‘é€ Cookieï¼Œæµè§ˆå™¨é»˜è®¤æ”¹å€¼ä¸º falseã€‚è‹¥æœåŠ¡ç«¯éœ€è¦è·å–åˆ°å®¢æˆ·ç«¯çš„ Cookie åˆ™éœ€è®¾ç½®ä¸º trueï¼Œå¹¶ä¸”å®¢æˆ·ç«¯éœ€è¦è®¾ç½® "),s("code",[t._v("withCredentials")]),t._v("ä¸º trueã€‚")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("Access-Control-Expose-Headers")]),t._v("ï¼š"),s("br"),t._v("\nè¿™ä¸ªå­—æ®µç›¸å½“äºç»™ XMLHttpRequest å¯¹è±¡èµ‹èƒ½ï¼Œè®©å®ƒä¸ä»…å¯ä»¥æ‹¿åˆ°åŸºæœ¬çš„ 6 ä¸ªå“åº”å¤´å­—æ®µï¼ˆ"),s("code",[t._v("Cache-Control")]),t._v("ã€"),s("code",[t._v("Content-Language")]),t._v("ã€"),s("code",[t._v("Content-Type")]),t._v("ã€"),s("code",[t._v("Expires")]),t._v("ã€"),s("code",[t._v("Last-Modified")]),t._v(" å’Œ "),s("code",[t._v("Pragma")]),t._v("ï¼‰ï¼Œè¿˜èƒ½æ‹¿åˆ°è¿™ä¸ªå­—æ®µå£°æ˜çš„å“åº”å¤´å­—æ®µã€‚ å¦‚"),s("code",[t._v("Access-Control-Expose-Headers: aaa")]),t._v("ï¼Œæ­¤æ—¶å‰ç«¯å¯ä»¥é€šè¿‡ XMLHttpRequest.getResponseHeader('aaa') æ‹¿åˆ° aaa è¿™ä¸ªå­—æ®µçš„å€¼")])])]),t._v(" "),s("h4",{attrs:{id:"é’ˆå¯¹å¤æ‚è¯·æ±‚"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é’ˆå¯¹å¤æ‚è¯·æ±‚"}},[t._v("#")]),t._v(" é’ˆå¯¹å¤æ‚è¯·æ±‚")]),t._v(" "),s("p",[t._v("é’ˆå¯¹å¤æ‚è¯·æ±‚ä¼šæœ‰ä¸¤ä¸ªé˜¶æ®µï¼šé¢„æ£€è¯·æ±‚å’Œæ­£å¼è¯·æ±‚ã€‚ï¼ˆå’Œç®€å•è¯·æ±‚çš„åŒºåˆ«ä¸»è¦ä½“ç°åœ¨ï¼šé¢„æ£€è¯·æ±‚å’Œå“åº”å­—æ®µï¼‰")]),t._v(" "),s("ol",[s("li",[t._v("åœ¨è¿›è¡Œå¤æ‚è¯·æ±‚æ—¶ï¼Œä¼šå…ˆå‘é€ä¸€ä¸ª"),s("code",[t._v("OPTIONS")]),t._v("é¢„æ£€è¯·æ±‚ï¼›"),s("br"),t._v("\næµè§ˆå™¨ä¼šè‡ªåŠ¨åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ "),s("code",[t._v("Origin")]),t._v("å±æ€§å’Œ"),s("code",[t._v("Host")]),t._v("å±æ€§ï¼ŒåŒæ—¶ä¹Ÿä¼šå¢åŠ ä»¥ä¸‹ä¸¤ä¸ªè¯·æ±‚å­—æ®µï¼š"),s("br"),t._v("\n1ï¼‰"),s("code",[t._v("Access-Control-Request-Method")]),t._v("ï¼šCORS è¯·æ±‚ç”¨åˆ°å“ªä¸ª HTTP æ–¹æ³•"),s("br"),t._v("\n2ï¼‰"),s("code",[t._v("Access-Control-Rquest-Headers")]),t._v("ï¼šCORS è¯·æ±‚å°†è¦åŠ ä¸Šä»€ä¹ˆè¯·æ±‚å¤´")])]),t._v(" "),s("p",[t._v("è¿™ä¸ªé¢„æ£€è¯·æ±‚çš„è¯·æ±‚è¡Œå’Œè¯·æ±‚ä½“æ˜¯ä¸‹é¢è¿™ä¸ªæ ¼å¼ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("OPTIONS")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HTTP")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.1")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Origin")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" å½“å‰åœ°å€\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Host")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" xxx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ³¨æ„Methodæ²¡æœ‰s")]),t._v("\nAccess"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Control"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Request"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Method"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PUT")]),t._v("\nAccess"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Control"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Request"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Headers"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("X")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Custom"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Header")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ä¸€äº›è‡ªå®šä¹‰çš„å¤´éƒ¨å­—æ®µ"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("æœåŠ¡ç«¯è·å–åˆ°é¢„æ£€è¯·æ±‚æ—¶ï¼Œä¼šè¿›è¡Œå“åº”æŠ¥æ–‡æ ¼å¼å¦‚ä¸‹ï¼š")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HTTP")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("OK")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¡¨ç¤ºå¯ä»¥å…è®¸è¯·æ±‚çš„æºï¼Œå¯ä»¥å¡«å…·ä½“çš„æºåï¼Œä¹Ÿå¯ä»¥å¡«*è¡¨ç¤ºå…è®¸ä»»æ„æºè¯·æ±‚")]),t._v("\nAccess"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Control"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Allow"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Origin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¡¨ç¤ºå¯ä»¥å…è®¸è¯·æ±‚çš„æ–¹æ³•")]),t._v("\nAccess"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Control"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Allow"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Methods"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("POST")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PUT")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¡¨ç¤ºå¯ä»¥å…è®¸å‘é€çš„è¯·æ±‚å¤´éƒ¨")]),t._v("\nAccess"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Control"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Allow"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Headers"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("X")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Custom"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Header\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¡¨ç¤ºå®¢æˆ·ç«¯æ˜¯å¦å¯ä»¥å‘é€Cookie")]),t._v("\nAccess"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Control"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Allow"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Credentials"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¡¨ç¤ºåŒä¸€è¯·æ±‚çš„é¢„æ£€è¯·æ±‚æœ‰æ•ˆæœŸï¼Œå®¢æˆ·ç«¯åœ¨å¤šé•¿æ—¶é—´å†…å¯ä»¥ä¸ç”¨å†å‘é€æ­¤è¯·æ±‚é¢„æ£€è¯·æ±‚ï¼ˆæ— æ³•é’ˆå¯¹æ•´ä¸ªåŸŸæˆ–è€…æ¨¡ç³ŠåŒ¹é… URL åšç¼“å­˜ï¼‰")]),t._v("\nAccess"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Control"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Max"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Age"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1728000")]),t._v("\n\nContent"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" text"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("html"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" charset"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("utf"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("\n\nContent"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Length"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n\nContent"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Encoding"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" gzip\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("å®¢æˆ·ç«¯æ”¶åˆ°æ¥è‡ªæœåŠ¡ç«¯å¯¹é¢„æ£€è¯·æ±‚çš„å“åº”åï¼Œä¼šå¯¹çœŸæ­£è¦å‘é€çš„è¯·æ±‚è¿›è¡Œæ£€æµ‹ã€‚"),s("br"),t._v("\n1ï¼‰å¦‚æœè¯·æ±‚ä¸æ»¡è¶³å“åº”å¤´çš„æ¡ä»¶ï¼Œåˆ™è§¦å‘ XMLHttpRequest çš„ onerror æ–¹æ³•ï¼Œå½“ç„¶åé¢çœŸæ­£çš„ CORS è¯·æ±‚ä¹Ÿä¸ä¼šå‘å‡ºå»äº†ã€‚"),s("br"),t._v("\n2ï¼‰å¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œåˆ™åƒç®€å•è¯·æ±‚ä¸€æ ·ï¼Œå‘é€çœŸæ­£çš„æ­£å¼è¯·æ±‚ã€‚å…¶ä¸­ï¼Œæµè§ˆå™¨ä¹Ÿä¼šåƒç®€å•è¯·æ±‚é‚£æ ·å­ï¼Œè‡ªåŠ¨åŠ ä¸Š Origin å­—æ®µï¼ŒæœåŠ¡ç«¯å“åº”å¤´è¿”å› Access-Control-Allow-Originã€‚å¯ä»¥å‚è€ƒä»¥ä¸Šç®€å•è¯·æ±‚éƒ¨åˆ†çš„å†…å®¹ã€‚")])]),t._v(" "),s("h2",{attrs:{id:"jsonp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jsonp"}},[t._v("#")]),t._v(" JSONP")]),t._v(" "),s("p",[t._v("è™½ç„¶ xhr å¯¹è±¡éµå¾ªåŒæºæ”¿ç­–ï¼Œä½†æ˜¯ script æ ‡ç­¾å¹¶æ²¡æœ‰é™åˆ¶ï¼Œä¾ç„¶å¯ä»¥é€šè¿‡ GET è¯·æ±‚çš„æ–¹å¼ï¼Œè·å– src çš„ç›®æ ‡åœ°å€èµ„æºã€‚å› æ­¤å¯ä»¥å€Ÿç”¨ script æ ‡ç­¾ï¼Œå®ç°è·¨åŸŸè¯·æ±‚å¹¶è·å–å“åº”ï¼ˆJSONP åŸç†ï¼‰ã€‚")]),t._v(" "),s("p",[t._v("å®ç°å¯¹ JSONP å°è£…ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSONP")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" params"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callbackName "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    callbackName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" callbackName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Math"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("generateURL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" queryStr "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" key "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" params"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            queryStr "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("params"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        queryStr "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("callback=")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("callbackName"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("queryStr"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆå§‹åŒ–å›è°ƒå‡½æ•°åç§°ï¼Œè‹¥æ— å°±éšæœºåˆ›å»ºä¸€ä¸ª")]),t._v("\n        callbackName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n            callbackName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("\n            Math"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('","')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" scriptTag "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"script"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        scriptTag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("generateURL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("scriptTag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»‘å®šåˆ° window ä¸Šï¼Œä¸ºäº†åé¢è°ƒç”¨")]),t._v("\n        window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("callbackName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// script æ‰§è¡Œå®Œäº†ï¼Œæˆä¸ºæ— ç”¨å…ƒç´ ï¼Œéœ€è¦æ¸…é™¤")]),t._v("\n            document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("scriptTag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSONP")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.baidu.com/s"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("params")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("wd")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"122"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‹¿åˆ°æ•°æ®è¿›è¡Œå¤„ç†")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ•°æ®åŒ…")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("å’Œ CORS ç›¸æ¯”ï¼ŒJSONP æœ€å¤§çš„ä¼˜åŠ¿åœ¨äºå…¼å®¹æ€§å¥½ï¼ŒIE ä½ç‰ˆæœ¬ä¸èƒ½ä½¿ç”¨ CORS ä½†å¯ä»¥ä½¿ç”¨ JSONPï¼Œç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œè¯·æ±‚æ–¹æ³•å•ä¸€ï¼Œåªæ”¯æŒ GET è¯·æ±‚ã€‚")]),t._v(" "),s("h2",{attrs:{id:"nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nginx"}},[t._v("#")]),t._v(" Nginx")]),t._v(" "),s("h4",{attrs:{id:"æ­£å‘ä»£ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ­£å‘ä»£ç†"}},[t._v("#")]),t._v(" æ­£å‘ä»£ç†")]),t._v(" "),s("p",[t._v("æ­£å‘ä»£ç†å¯ä»¥å¸®åŠ©å®¢æˆ·ç«¯ï¼Œè®¿é—®å®¢æˆ·ç«¯è‡ªå·±è®¿é—®ä¸åˆ°çš„æœåŠ¡å™¨ï¼Œç„¶åå°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚")]),t._v(" "),s("h4",{attrs:{id:"åå‘ä»£ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åå‘ä»£ç†"}},[t._v("#")]),t._v(" åå‘ä»£ç†")]),t._v(" "),s("p",[t._v("åå‘ä»£ç†å¯ä»¥å¸®åŠ©æœåŠ¡ç«¯ï¼Œå¯ä»¥æ‹¿åˆ°å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå°†è¯·æ±‚è½¬å‘ç»™å…¶ä»–æœåŠ¡å™¨ã€‚"),s("br"),t._v("\nä¸»è¦çš„åœºæ™¯æ˜¯ç»´æŒæœåŠ¡å™¨é›†ç¾¤çš„è´Ÿè½½å‡è¡¡ï¼Œæ¢å¥è¯è¯´ï¼Œåå‘ä»£ç†å¸®å…¶å®ƒçš„æœåŠ¡å™¨æ‹¿åˆ°è¯·æ±‚ï¼Œç„¶åé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„æœåŠ¡å™¨ï¼Œå°†è¯·æ±‚è½¬äº¤ç»™å®ƒã€‚")]),t._v(" "),s("p",[t._v("ä¾‹å­ï¼šæ¯”å¦‚å®¢æˆ·ç«¯åŸŸåä¸º"),s("code",[t._v("client.com")]),t._v("ï¼ŒæœåŠ¡ç«¯åŸŸåä¸º"),s("code",[t._v("server.com")]),t._v("ï¼Œå®¢æˆ·ç«¯éœ€è¦å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("server"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  listen "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v("\n  server_name client"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com\n  location "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("api "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    proxy_pass server"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("Nginx ç›¸å½“äºèµ·äº†ä¸€ä¸ªè·³æ¿æœºï¼Œè¿™ä¸ªè·³æ¿æœºçš„åŸŸåä¹Ÿæ˜¯ client.comï¼Œè®©å®¢æˆ·ç«¯é¦–å…ˆè®¿é—® client.com/apiï¼Œè¿™å½“ç„¶æ²¡æœ‰è·¨åŸŸ;"),s("br"),t._v("\nç„¶å Nginx æœåŠ¡å™¨ä½œä¸ºåå‘ä»£ç†ï¼Œå°†è¯·æ±‚è½¬å‘ç»™ server.comï¼Œå½“å“åº”è¿”å›æ—¶åˆå°†å“åº”ç»™åˆ°å®¢æˆ·ç«¯ï¼Œè¿™å°±å®Œæˆæ•´ä¸ªè·¨åŸŸè¯·æ±‚çš„è¿‡ç¨‹ã€‚")]),t._v(" "),s("p",[t._v("##Â  æ›´å¤š")]),t._v(" "),s("p",[t._v("é™¤äº†ä»¥ä¸Šçš„ä¸‰ç§æ–¹å¼ï¼Œè¿˜æœ‰å…¶ä»–è§£å†³æ–¹æ¡ˆï¼Œæ¯”å¦‚ postMessageï¼Œå½“ç„¶ WebSocket ä¹Ÿæ˜¯ä¸€ç§æ–¹å¼ã€‚")]),t._v(" "),s("h2",{attrs:{id:"åœºæ™¯åˆ†æ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åœºæ™¯åˆ†æ"}},[t._v("#")]),t._v(" åœºæ™¯åˆ†æ")]),t._v(" "),s("h4",{attrs:{id:"http-a-com-ç½‘ç«™ä¸­åµŒå…¥-https-b-com-çš„-iframe"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http-a-com-ç½‘ç«™ä¸­åµŒå…¥-https-b-com-çš„-iframe"}},[t._v("#")]),t._v(" http://a.com ç½‘ç«™ä¸­åµŒå…¥ https://b.com çš„ iframe")]),t._v(" "),s("h4",{attrs:{id:"https-b-com-ç½‘ç«™ä¸­åµŒå…¥-http-a-com-çš„-iframe"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#https-b-com-ç½‘ç«™ä¸­åµŒå…¥-http-a-com-çš„-iframe"}},[t._v("#")]),t._v(" https://b.com ç½‘ç«™ä¸­åµŒå…¥ http://a.com çš„ iframe")])])}),[],!1,null,null,null);s.default=r.exports}}]);
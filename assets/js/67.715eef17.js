(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{385:function(s,t,a){"use strict";a.r(t);var n=a(25),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ª-npm-åŒ…"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ª-npm-åŒ…"}},[s._v("#")]),s._v(" ğŸ‘‰ æ‰‹æŠŠæ‰‹æ•™ä½ å‘ä¸ª npm åŒ…")]),s._v(" "),t("h2",{attrs:{id:"ä»€ä¹ˆæ˜¯-npm-åŒ…"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯-npm-åŒ…"}},[s._v("#")]),s._v(" ä»€ä¹ˆæ˜¯ npm åŒ…ï¼Ÿ")]),s._v(" "),t("p",[s._v("npm æ˜¯åŒ…ç®¡ç†å·¥å…·ï¼Œæ˜¯å‰ç«¯æ¨¡å—åŒ–ä¸‹çš„ä¸€ä¸ªæ ‡å¿—æ€§äº§ç‰©ã€‚é‚£ä»€ä¹ˆæ˜¯åŒ…å‘¢ï¼ŸğŸ ï¼ŸğŸ‘œ ï¼ŸâŒ ï¼node.js ä¸­çš„ç¬¬ä¸‰æ–¹æ¨¡å—åˆå«åšåŒ…ï¼ŒåŒ…æ˜¯ç”±ç¬¬ä¸‰æ–¹ä¸ªäººæˆ–å›¢é˜Ÿå¼€å‘å‡ºæ¥çš„ï¼Œä¾›å…¶ä»–å¼€å‘è€…ä½¿ç”¨çš„æ¨¡å—ä»£ç ã€‚é€šè¿‡ npm è¿™ä¸ªåŒ…ç®¡ç†å·¥å…·åˆ›å»ºå‘å¸ƒåŒ…å’Œä¸‹è½½åŒ…ï¼Œå¤ç”¨åŒ…é‡Œé¢çš„å·¥å…·ä»£ç ï¼Œä»è€Œæé«˜å·¥ä½œæ•ˆç‡ã€‚")]),s._v(" "),t("p",[s._v("æœ¬æ–‡å°†ä¼šé€šè¿‡å®ç°ä¸€ä¸ªç‰ˆæœ¬æ¯”è¾ƒçš„å°åŠŸèƒ½ï¼Œæ‰‹æŠŠæ‰‹æ•™å¦‚ä½•å‘ä¸€ä¸ª npm åŒ…ã€‚")]),s._v(" "),t("p",[s._v("åŒ…å«å“ªäº›å†…å®¹ï¼Ÿ")]),s._v(" "),t("ul",[t("li",[s._v("å‘å¸ƒä¸€ä¸ª Typescript åŒ…ï¼ŒåŒ…å«å‡½æ•°å£°æ˜æ–‡ä»¶")]),s._v(" "),t("li",[s._v("rollup æ‰“åŒ…ï¼Œæ”¯æŒ COMMONJS / UMD / ES Module æ ¼å¼")]),s._v(" "),t("li",[s._v("ESlint æ ¡éªŒï¼Œ commit message æ ¼å¼çº¦æŸ")]),s._v(" "),t("li",[s._v("å‘åŒ…å‰è‡ªåŠ¨å‡çº§ç‰ˆæœ¬å¹¶æ„å»º")]),s._v(" "),t("li",[s._v("ä¸€äº›å…³äº npm åŒ…çš„å° tips")])]),s._v(" "),t("h2",{attrs:{id:"å‡†å¤‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‡†å¤‡"}},[s._v("#")]),s._v(" å‡†å¤‡")]),s._v(" "),t("h3",{attrs:{id:"æ³¨å†Œè´¦å·"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨å†Œè´¦å·"}},[s._v("#")]),s._v(" æ³¨å†Œè´¦å·")]),s._v(" "),t("p",[s._v("å‘å¸ƒåŒ…ä¹‹å‰ä½ å¿…é¡»æ‹¥æœ‰ä¸€ä¸ª npm çš„è´¦å·ï¼Œæˆ³ https://www.npmjs.com/ å®˜ç½‘é“¾æ¥ï¼Œæ³¨å†Œä¸€ä¸ªè´¦å·ã€‚")]),s._v(" "),t("h3",{attrs:{id:"åˆ›å»ºé¡¹ç›®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åˆ›å»ºé¡¹ç›®"}},[s._v("#")]),s._v(" åˆ›å»ºé¡¹ç›®")]),s._v(" "),t("p",[s._v("åˆ›å»ºé¡¹ç›®ï¼Œåˆå§‹åŒ–é¡¹ç›®åŸºæœ¬ç»“æ„å’Œæ›´æ–° "),t("code",[s._v("package.json")]),s._v(" æ–‡ä»¶ï¼Œç”¨äºæè¿°å½“å‰é¡¹ç›®çš„åŠŸèƒ½ã€‚")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" compare_version\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" compare_version\n")])])]),t("p",[s._v("æ¥ç€åˆå§‹åŒ– npm åŒ…çš„ä¸€äº›é…ç½®ï¼š")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" init\n\n// æ¥ä¸‹è¿‡ç¨‹æ˜¯ä»¥é—®ç­”å¼ CLI æ–¹å¼è¿›è¡Œ\n// Q1ï¼špackage name: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("æ–‡ä»¶å¤¹åå­—"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" é»˜è®¤ä¼šä»¥æ–‡ä»¶å¤¹åå­—å‘½åï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è‡ªå®šä¹‰åŒ…åï¼Œä½†éœ€è¦éµå®ˆ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" å‘½åè§„èŒƒ\n// Q2ï¼šversion: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v(".0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" ç‰ˆæœ¬å·ï¼Œé»˜è®¤æ˜¯ "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v(".0ï¼Œå…·ä½“ç‰ˆæœ¬å·è§„åˆ™ï¼Œå¯å‚è€ƒã€Šè¯­ä¹‰åŒ–ç‰ˆæœ¬ "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.0")]),s._v(".0ã€‹\n// Q3ï¼šdescription: "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" åŒ…æè¿°ï¼Œç”¨äºæè¿°è¿™ä¸ªåŒ…çš„ä¸»è¦åŠŸèƒ½ä»¥åŠç”¨é€”\n// Q4ï¼šentry point: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("index.js"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" å…¥å£æ–‡ä»¶ï¼Œå³ä»é‚£ä¸ªæ–‡ä»¶å¼€å§‹æ‰§è¡Œ\n// Q5ï¼štest command: "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" æµ‹è¯•å‘½ä»¤ï¼Œç”¨äºåŒ…æµ‹è¯•çš„å‘½ä»¤ï¼Œå¯ä»¥åç»­è¡¥å……å…³äºæµ‹è¯•åŒ…çš„ç¼–å†™\n// Q6ï¼šgit repository: "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" é¡¹ç›®çš„ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" å­˜å‚¨åº“åœ°å€\n// Q7ï¼škeywords: "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" æè¿°åŒ…çš„å…³é”®å­—ï¼Œç”¨äºåœ¨ npmjs ä¸ŠæŸ¥è¯¢å…³é”®å­—\n// Q8ï¼šauthor: "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" ä½œè€…åå­—ï¼Œå¯ä»¥ä½¿ç”¨ npmjs åç§°ã€npmjs æ³¨å†Œé‚®ç®±ã€github æ³¨å†Œé‚®ç®±\n// Q9ï¼šlicense: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ISC"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" å¼€æºåè®®ï¼Œé»˜è®¤ ISC\n// Q10ï¼šè¾“å‡º package.js å†…å®¹å¹¶è¯¢é—® Is this OK? "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("yes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" é»˜è®¤ä¸º yesï¼Œå›è½¦åç”Ÿæˆæ–‡ä»¶\n")])])]),t("p",[s._v("åœ¨åˆå§‹åŒ–çš„ "),t("code",[s._v("package.json")]),s._v(" æ–‡ä»¶ä¸­ï¼Œå®ƒåŒ…å«äº†ä½ çš„é¡¹ç›®ä¿¡æ¯ä»¥åŠä¼—å¤šé…ç½®é¡¹ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥å†™ä¸€ä¸ª "),t("code",[s._v("README.md")]),s._v(" æ–‡ä»¶ç”¨æ¥æè¿°ä½ çš„é¡¹ç›®ã€‚è¿™é‡Œä¸¾ä¸ª "),t("code",[s._v("package.json")]),s._v("çš„å…·ä½“é…ç½®ä¾‹å­:")]),s._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"compare_version_lib"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0.0"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"description"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"This is a js library that help you to compare two version number."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"main"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dist/index.umd.js"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"module"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dist/index.esm.js"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"types"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dist/index.d.ts"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dev"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rollup -w -c"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rollup -c"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"test"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jest"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"prepare"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"husky install"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"keywords"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"author"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"chieminchan"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"license"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MIT"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"repository"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"url"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://github.com/chieminchan/compare_version_lib.git"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"files"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"src/"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dist/"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"devDependencies"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("ul",[t("li",[s._v("files å­—æ®µæ˜¯ç”¨äºçº¦å®šåœ¨å‘åŒ…çš„æ—¶å€™ NPM ä¼šå‘å¸ƒåŒ…å«çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚"),t("strong",[s._v("æ³¨æ„ï¼š files å­—æ®µä¸­æ–‡ä»¶å¤¹åç›´æ¥å†™åå­—ï¼Œä¸è¦åŒ…å« ./ å­—ç¬¦ï¼Œå¦åˆ™æ‰“åŒ…å‡ºæ¥çš„äº§ç‰©ä¸ä¼šåŒ…å«è¯¥æ–‡ä»¶å¤¹ã€‚")])])]),s._v(" "),t("h4",{attrs:{id:"npm-åŒ…å‘½åæœºåˆ¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#npm-åŒ…å‘½åæœºåˆ¶"}},[s._v("#")]),s._v(" npm åŒ…å‘½åæœºåˆ¶")]),s._v(" "),t("p",[s._v("åœ¨ npm çš„åŒ…ç®¡ç†ç³»ç»Ÿä¸­ï¼Œæœ‰ä¸€ç§ scoped packages æœºåˆ¶ï¼Œç”¨äºå°†ä¸€äº› packages ä»¥ "),t("code",[s._v("@scope/package")]),s._v(" çš„å‘½åå½¢å¼ï¼Œè®©åŒä¸ªåŸŸçº§çš„åŒ…é›†ä¸­åœ¨ä¸€ä¸ªå‘½åç©ºé—´ä¸‹é¢ï¼Œå®ç°åŸŸçº§çš„åŒ…ç®¡ç†ï¼ŒåŒæ—¶è¿˜èƒ½é¿å…åŒ…åå†²çªçš„æƒ…å†µã€‚")]),s._v(" "),t("ul",[t("li",[t("p",[t("code",[s._v("npm view packageName")]),s._v(" æŸ¥çœ‹åŒ…æ˜¯å¦è¢«å ç”¨ï¼Œå¹¶å¯ä»¥æŸ¥çœ‹å®ƒçš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼Œè‹¥åŒ…åç§°ä»æœªè¢«ä½¿ç”¨è¿‡ï¼Œåˆ™ä¼šæŠ›å‡º 404 é”™è¯¯ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("åœ¨åˆå§‹åŒ–é¡¹ç›®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œæ¥æ·»åŠ  scopeï¼š"),t("code",[s._v("npm init --scope=scopeName")])])]),s._v(" "),t("li",[t("p",[s._v("åŒåŸŸçº§èŒƒå›´å†…çš„åŒ…ä¼šè¢«å®‰è£…åœ¨ç›¸åŒçš„æ–‡ä»¶è·¯å¾„ä¸‹ "),t("code",[s._v("node_modules/@scopeName/")]),s._v("ï¼š 562 "),t("img",{attrs:{src:"https://s1.ax1x.com/2022/03/22/qQ5d1I.png",alt:"qQ5d1I.png"}})])]),s._v(" "),t("li",[t("p",[s._v("ä¾‹å¦‚ï¼švue æ¡†æ¶é‡Œé¢æ¶‰åŠçš„ä¸€äº›è„šæ‰‹æ¶å·¥å…·åŒ…ï¼š@vue/cli-plugin-babelã€@vue/cli-plugin-eslint ç­‰ç­‰åŸŸçº§åŒ…ã€‚")])])]),s._v(" "),t("h3",{attrs:{id:"åˆå§‹åŒ–-typescript-ç¯å¢ƒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åˆå§‹åŒ–-typescript-ç¯å¢ƒ"}},[s._v("#")]),s._v(" åˆå§‹åŒ– Typescript ç¯å¢ƒ")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬æ‰“åŒ…ç»™ç”¨æˆ·ï¼Œåœ¨ç”¨æˆ·å¼•ç”¨æ—¶ï¼Œè¿˜éœ€è¦æ”¯æŒåœ¨ TS ç¯å¢ƒä¸‹çš„ä»£ç æç¤ºï¼Œæ‰€ä»¥å†æ¥å¿«é€Ÿåˆå§‹åŒ–ç”Ÿæˆä¸€ä¸ª "),t("code",[s._v("tsconfig.json")]),s._v(" æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å±äº Typescript é…ç½®æ–‡ä»¶ã€‚")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" typescript "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v("\n\ntsc "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--init")]),s._v("\n")])])]),t("p",[s._v("æŒ‰éœ€é…ç½®"),t("code",[s._v("tsconfig.json")]),s._v("æ–‡ä»¶ï¼š")]),s._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"compilerOptions"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"rootDir"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./src"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"declaration"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"declarationDir"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./dist"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"outDir"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./dist"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"target"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ES2015"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"module"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ES2020"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"strict"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"esModuleInterop"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"forceConsistentCasingInFileNames"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("ul",[t("li",[s._v("ä½¿ç”¨ declaration ä¼šè‡ªåŠ¨ç”Ÿæˆç±»å‹å£°æ˜æ–‡ä»¶ã€‚é…ç½®åï¼Œåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ä¼šå‘ "),t("code",[s._v("./dist")]),s._v(" ç›®å½•è¾“å‡º "),t("code",[s._v("index.d.ts")]),s._v(" ç±»å‹å£°æ˜æ–‡ä»¶")]),s._v(" "),t("li",[s._v("target è¡¨ç¤ºè¦ç¼–è¯‘å‡ºçš„ä»£ç æ ¼å¼ï¼Œä¸€èˆ¬ä½¿ç”¨ es6")]),s._v(" "),t("li",[s._v("module è¡¨ç¤ºæºä»£ç çš„è¯­æ³•ç‰ˆæœ¬ï¼Œè¿™æ˜¯ä½¿ç”¨æœ€æ–°çš„ es2020ã€‚")])]),s._v(" "),t("h3",{attrs:{id:"å¼•å…¥æ‰“åŒ…ç¼–è¯‘å·¥å…·"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¼•å…¥æ‰“åŒ…ç¼–è¯‘å·¥å…·"}},[s._v("#")]),s._v(" å¼•å…¥æ‰“åŒ…ç¼–è¯‘å·¥å…·")]),s._v(" "),t("p",[s._v("åŒ…å‘å¸ƒå‰ï¼Œæˆ‘ä»¬éœ€è¦å°†ç¼–å†™çš„ä»£ç æ‰“åŒ…ç¼–è¯‘æˆ js ä»£ç ï¼Œå¹¶è¿›è¡Œç›¸å…³å‹ç¼©æ“ä½œã€‚")]),s._v(" "),t("p",[s._v("rollup æ˜¯ä¸€ä¸ª JavaScript æ¨¡å—æ‰“åŒ…å™¨ï¼Œåœ¨åŠŸèƒ½ä¸Šè¦å®Œæˆçš„äº‹å’Œ webpack æ€§è´¨æ˜¯ä¸€æ ·çš„ï¼Œå°±æ˜¯å°†å°å—ä»£ç ç¼–è¯‘æˆå¤§å—å¤æ‚çš„ä»£ç ã€‚åœ¨å¹³æ—¶å¼€å‘åº”ç”¨ç¨‹åºæ—¶ï¼Œæˆ‘ä»¬åŸºæœ¬ä¸Šé€‰æ‹©ç”¨ webpackã€‚è¿™é‡Œä½¿ç”¨ rollupï¼Œç›¸æ¯” webpack å®ƒæ›´è½»é‡ï¼Œé…ç½®å°‘ï¼Œæ¯”è¾ƒé€‚åˆå·¥å…·åº“çš„æ‰“åŒ…ã€‚")]),s._v(" "),t("p",[s._v("è¿™é‡Œéœ€è¦å…ˆåˆå§‹åŒ– Rollup æ‰“åŒ…ç¯å¢ƒï¼š")]),s._v(" "),t("ul",[t("li",[s._v("rollup å®‰è£…")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" rollup "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å…¨å±€å®‰è£…")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" rollup "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é¡¹ç›®æœ¬åœ°å®‰è£…")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" @rollup/plugin-typescript "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å°†Typescriptè½¬æ¢æˆä¸º ES6+ æ ‡å‡†")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" @rollup/plugin-commonjs "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rollupé»˜è®¤ä¸æ”¯æŒCommonJSï¼Œè‡ªå·±å†™çš„æ—¶å€™å¯ä»¥å°½é‡é¿å…ä½¿ç”¨CommonJSæ¨¡å—çš„è¯­æ³•ï¼Œä½†æœ‰äº›å¤–éƒ¨åº“çš„æ˜¯cjsæˆ–è€…umdï¼ˆç”±webpackæ‰“åŒ…çš„ï¼‰ã€‚å¦‚æœä½¿ç”¨è¿™äº›å¤–éƒ¨åº“å°±éœ€è¦æ”¯æŒCommonJSæ¨¡å—ã€‚")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" @rollup/plugin-node-resolve "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v("\n")])])]),t("ul",[t("li",[s._v("åˆ›å»ºé…ç½®æ–‡ä»¶ "),t("code",[s._v("rollup.config.js")])])]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" commonjs "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@rollup/plugin-commonjs"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" typescript "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@rollup/plugin-typescript"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("input")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"src/index.ts"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("output")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("file")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dist/index.esm.js"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("format")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"es"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("file")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dist/index.umd.js"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("format")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"umd"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"index.umd.js"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("commonjs")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("typescript")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("ä¸Šè¿°æ–‡ä»¶è¡¨ç¤ºæˆ‘ä»¬è¦æ‰“åŒ…ç¼–è¯‘å‡ºä¸¤ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯ UMD æ ¼å¼çš„å’Œ ES Module æ ¼å¼çš„ã€‚UMD æ ¼å¼éœ€è¦å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œè¿™æ ·åœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹ï¼Œæ‰€æœ‰çš„æ–¹æ³•éƒ½ä¼šæŒ‚è½½åœ¨è¿™ä¸ªå˜é‡ä¸Šäº†ã€‚")]),s._v(" "),t("ul",[t("li",[s._v("å¢åŠ ç¼–è¯‘å‘½ä»¤")])]),s._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"script"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dev"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rollup -w -c"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rollup -c"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[s._v("å¦‚æ­¤ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥é€šè¿‡ "),t("code",[s._v("npm run dev")]),s._v("ï¼Œå°±èƒ½åœ¨å¼€å‘çš„æ—¶å€™å®æ—¶ç¼–è¯‘ã€‚å¦‚æœéœ€è¦æ‰“åŒ…ï¼Œåˆ™å…ˆæ‰§è¡Œ "),t("code",[s._v("npm run build")]),s._v(" å‘½ä»¤å³å¯å®Œæˆç¼–è¯‘æ‰“åŒ…ã€‚")]),s._v(" "),t("h3",{attrs:{id:"eslint-é…ç½®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#eslint-é…ç½®"}},[s._v("#")]),s._v(" ESlint é…ç½®")]),s._v(" "),t("p",[s._v("è¿è¡Œåˆå§‹åŒ–é…ç½®å‘½ä»¤ï¼Œæ ¹æ®é¡¹ç›®æƒ…å†µæ¥è®¾ç½®ç‰¹åœ°é…ç½®ï¼š")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" init @eslint/config\n")])])]),t("p",[s._v("å…¶ä¸­ï¼Œä¼šè§¦å‘å®‰è£…ä»¥ä¸‹ä¸‰ä¸ªä¾èµ–ï¼š")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin\n")])])]),t("ul",[t("li",[t("p",[t("code",[s._v("eslint")]),s._v("ï¼šESLint çš„æ ¸å¿ƒä»£ç ")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("@typescript-eslint/parser")]),s._v("ï¼šESLint çš„è§£æå™¨ï¼Œç”¨äºè§£æ typescriptã€‚å› ä¸º eslint æ£€æµ‹ä»£ç çš„æ ¸å¿ƒåŸç†æ˜¯ï¼Œå…ˆå°† JS ä»£ç ç”Ÿæˆ ASTï¼Œç„¶åéå† ASTï¼Œåœ¨ä¸åŒç±»å‹çš„èŠ‚ç‚¹è¿›è¡Œä¸åŒè§„åˆ™çš„æ‰¹è¯„æ ¡éªŒã€‚è€Œ TS æ— æ³•ç›´æ¥ç”Ÿæˆ ASTï¼Œå› æ­¤éœ€è¦å…ˆ parser ï¼Œæ‰èƒ½è¿›ä¸€æ­¥å¯¹ Typescript ä»£ç è¿›è¡Œæ£€æŸ¥å’Œè§„èŒƒ")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("@typescript-eslint/eslint-plugin")]),s._v("ï¼šè¿™æ˜¯ä¸€ä¸ª ESLint æ’ä»¶ï¼ŒåŒ…å«äº†å„ç±»å®šä¹‰å¥½çš„æ£€æµ‹ Typescript ä»£ç çš„è§„èŒƒ")])])]),s._v(" "),t("p",[s._v("æœ€ç»ˆï¼Œé¡¹ç›®æ ¹ç›®å½•ä¸‹ä¼šç”Ÿæˆ"),t("code",[s._v(".eslintrc.json")]),s._v("æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ä¸­å®šä¹‰ ESLint çš„åŸºç¡€é…ç½®ï¼Œæ¯”å¦‚ï¼šä¸€ä¸ªç®€å•çš„é…ç½®å¦‚ä¸‹ï¼š")]),s._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"env"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"browser"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"es2021"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"extends"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eslint:recommended"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"plugin:@typescript-eslint/recommended"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"parser"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@typescript-eslint/parser"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"parserOptions"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"ecmaVersion"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"latest"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"sourceType"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"module"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"plugins"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@typescript-eslint"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"rules"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("ul",[t("li",[t("code",[s._v("eslint:recommended")]),s._v("ï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶çš„ rules éƒ¨åˆ†å¼€å¯äº†æ‰€æœ‰ ESLint æ¨èä½¿ç”¨çš„è§„åˆ™")]),s._v(" "),t("li",[s._v("åŒæ—¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ plugin æ’ä»¶å¼•å…¥å¯å…±äº«é…ç½®ã€‚ä¸º"),t("code",[s._v("plugin:{plugin_pacakge_name}/{config_name}")])]),s._v(" "),t("li",[s._v("extends å…è®¸é…ç½®å¤šä¸ªæ¨¡å—ï¼Œå¦‚æœæ¨¡å—é—´çš„é…ç½®æœ‰å†²çªï¼Œä½ç½®é åçš„é…ç½®ä¼šè¦†ç›–å‰é¢çš„ã€‚")]),s._v(" "),t("li",[s._v("ä¸ªæ€§åŒ–çš„çº¦æŸè§„åˆ™å¯ä»¥åœ¨ rules è¿›è¡Œè®¾ç½®ï¼Œå½“ rules å’Œ extends ä¸­é…ç½®äº†ç›¸åŒè§„åˆ™ï¼Œrules ä¸­çš„é…ç½®çš„ä¼˜å…ˆçº§ä¼šé«˜äº extendsã€‚")])]),s._v(" "),t("h3",{attrs:{id:"husky-git-æäº¤çº¦æŸ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#husky-git-æäº¤çº¦æŸ"}},[s._v("#")]),s._v(" Husky - Git æäº¤çº¦æŸ")]),s._v(" "),t("p",[s._v("Eslint å¯¹æˆ‘ä»¬ç¼–ç æ ¼å¼è¿›è¡Œäº†çº¦æŸï¼Œä½†éš¾ä»¥é¿å…æ²¡æœ‰æŒ‰è¦æ±‚è¿›è¡Œæ ¼å¼åŒ–ä»£ç å°±æäº¤åˆ°äº†è¿œç¨‹çš„æƒ…å†µã€‚ä¸ºæ­¤ï¼Œå¼•å…¥ Huskyï¼Œåœ¨"),t("code",[s._v("git commit")]),s._v(" æäº¤å‰è¿›è¡Œè‡ªåŠ¨æ ¼å¼åŒ–æš‚å­˜åŒºå†…æ–‡ä»¶ï¼Œä»¥åŠæ ¡éªŒæ˜¯å¦ç¬¦åˆ Eslint è§„åˆ™ï¼Œä»è€Œæ˜ç¡®ç»Ÿä¸€è¿œç¨‹ä»“åº“ä»£ç çš„è§„èŒƒã€‚")]),s._v(" "),t("h4",{attrs:{id:"husky-æ˜¯ä»€ä¹ˆ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#husky-æ˜¯ä»€ä¹ˆ"}},[s._v("#")]),s._v(" Husky æ˜¯ä»€ä¹ˆï¼Ÿ")]),s._v(" "),t("p",[s._v("åœ¨é¡¹ç›®çš„ "),t("code",[s._v(".git/hooks")]),s._v(" æ–‡ä»¶å¤¹å†…æœ‰å¾ˆå¤š Hooksï¼Œè¿™äº›é’©å­ä¼šåœ¨ git æ‰§è¡Œçš„æŸäº›èŠ‚ç‚¹è¢«è§¦å‘ã€‚ä»¥ä¸€æ¬¡ commit ä¸ºä¾‹ï¼Œä¼šå…ˆåè§¦å‘ "),t("code",[s._v("pre-commit")]),s._v("ã€"),t("code",[s._v("prepare-commit-msg")]),s._v("ã€"),t("code",[s._v("commit-msg")]),s._v(" å’Œ "),t("code",[s._v("post-commit")]),s._v(" ç­‰ hooksã€‚")]),s._v(" "),t("p",[s._v("éšæœºæ‰“å¼€å…¶ä¸­çš„ "),t("code",[s._v(".git/hooks/pre-commit.sample")]),s._v("ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå®è´¨ä¸Šæ˜¯ä¸€ä¸ª shell è„šæœ¬ã€‚Git æä¾›äº†ä¸€ä¸ªè‡ªå®šä¹‰ Hooks æ–‡ä»¶å¤¹çš„ configï¼Œå¯ä»¥é€šè¿‡è®¾ç½® "),t("code",[s._v("core.hooksPath")]),s._v("æŒ‡å‘è‡ªå®šä¹‰ç›®å½•ï¼Œå³ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰è®¾ç½® shell è„šæœ¬æ¥å®ç°ä¸ªæ€§åŒ–åŠŸèƒ½ã€‚")]),s._v(" "),t("p",[s._v("å›åˆ°ä¸»é¢˜ä¸Šï¼ŒHusky å°±æ˜¯èƒ½å¤Ÿç®€åŒ–åˆ›å»ºæˆ–è€…ä¿®æ”¹ Githooks è¿‡ç¨‹çš„å·¥å…·ã€‚")]),s._v(" "),t("p",[s._v("å®ƒæœ€æ–°çš„è¿ä½œåŸç†å¤§æ¦‚å°±æ˜¯ï¼š")]),s._v(" "),t("ol",[t("li",[t("code",[s._v("husky install")]),s._v(" å®‰è£…æ—¶åˆ›å»º hooksï¼Œå°† "),t("code",[s._v("git hooks")]),s._v(" çš„ç›®å½•æŒ‡å®šä¸º"),t("code",[s._v(".husky/")])]),s._v(" "),t("li",[s._v("æäº¤æ—¶ä»é…ç½®æ–‡ä»¶ä¸­ï¼ˆ"),t("code",[s._v("package.json")]),s._v("ã€"),t("code",[s._v(".huskyrc")]),s._v("ã€"),t("code",[s._v(".huskyrc.json")]),s._v("...ï¼‰è¯»å–ç›¸åº”çš„ hook é…ç½®ï¼Œä½¿ç”¨ "),t("code",[s._v("husky add")]),s._v(" å‘½ä»¤å‘ "),t("code",[s._v(".husky/")]),s._v(" ä¸­æ·»åŠ  hook")]),s._v(" "),t("li",[s._v("ç‰¹å®šæ—¶æœºï¼Œè§¦å‘æ‰§è¡Œé…ç½®ä¸­çš„æŒ‡ä»¤/è„šæœ¬")])]),s._v(" "),t("p",[s._v("å…·ä½“åŸç†ç»“åˆæºç åˆ†æå¯ä»¥å‚è€ƒï¼š "),t("a",{attrs:{href:"https://juejin.cn/post/6879955438482227207#heading-2",target:"_blank",rel:"noopener noreferrer"}},[s._v("Husky åŸç†è§£æåŠåœ¨ä»£ç  Lint ä¸­çš„åº”ç”¨ "),t("OutboundLink")],1)]),s._v(" "),t("h4",{attrs:{id:"husky-é…åˆ-lint-staged-é£Ÿç”¨æ›´ä½³"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#husky-é…åˆ-lint-staged-é£Ÿç”¨æ›´ä½³"}},[s._v("#")]),s._v(" Husky é…åˆ lint-staged é£Ÿç”¨æ›´ä½³")]),s._v(" "),t("ul",[t("li",[s._v("å¼•å…¥ commitlintï¼Œæ ¡éªŒæäº¤çš„ message æ ¼å¼æ˜¯å¦ç¬¦åˆè§„èŒƒï¼Œä»¥æ­¤ç»Ÿä¸€ git commit messageã€‚")]),s._v(" "),t("li",[s._v("å¼•å…¥ lint-stagedï¼Œé’ˆå¯¹å½“æ¬¡æäº¤ï¼ˆæš‚å­˜åŒºçš„ä»£ç ï¼‰çš„ "),t("code",[s._v("ts")]),s._v(" å’Œ "),t("code",[s._v("js")]),s._v(" æ–‡ä»¶è¿›è¡Œæ£€æµ‹ã€‚")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" husky "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" @commitlint/cli "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" @commitlint/config-conventional "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" lint-staged "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v("\n")])])]),t("p",[t("code",[s._v("husky 6.0.0")]),s._v(" ç‰ˆæœ¬ä»¥å‰ï¼Œå®‰è£… "),t("code",[s._v("lint-staged")]),s._v(" åï¼Œéœ€è¦åœ¨ "),t("code",[s._v("package.json")]),s._v(" æ–‡ä»¶ä¸­ï¼Œè®¾ç½®æˆ‘ä»¬éœ€è¦çš„ git hooksï¼š")]),s._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"husky"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"hooks"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åœ¨ commit ä¹‹å‰å…ˆï¼Œé’ˆå¯¹lint-stagedé…ç½®çš„æ–‡ä»¶æ‰§è¡Œé…ç½®å¥½çš„æŒ‡ä»¤")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"pre-commit"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lint-staged"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ ¡éªŒ commit æ—¶æ·»åŠ çš„å¤‡æ³¨ä¿¡æ¯æ˜¯å¦ç¬¦åˆè¦æ±‚è§„èŒƒ")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"commit-msg"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"commitlint -E HUSKY_GIT_PARAMS"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"commitlint"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"extends"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@commitlint/config-conventional"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lint-staged"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"*.{ts,js}"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"node --max_old_space_size=8192 ./node_modules/.bin/prettier -w"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"node --max_old_space_size=8192 ./node_modules/.bin/eslint --fix --color"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git add"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[s._v("ä»¥ä¸Šçš„é…ç½®è¡¨ç¤ºå¼€å‘è€…åœ¨ "),t("code",[s._v("git commit")]),s._v(" æ—¶ï¼Œä¼šé¦–å…ˆè°ƒç”¨ "),t("code",[s._v("lint-staged")]),s._v(" ç›¸å…³å‘½ä»¤ï¼š prettier æ ¼å¼åŒ–ï¼Œç„¶åæ˜¯ ESlint æ ¡éªŒå¹¶ä¿®å¤ï¼Œç„¶åå°†ä¿®æ”¹åçš„æ–‡ä»¶å­˜å…¥æš‚å­˜åŒºï¼Œç„¶åæ˜¯æ ¡éªŒ commit message æ˜¯å¦ç¬¦åˆè§„èŒƒï¼Œç¬¦åˆè§„èŒƒåæ‰ä¼šæˆåŠŸ commitã€‚")]),s._v(" "),t("p",[t("code",[s._v("husky 6.0.0")]),s._v(" ç‰ˆæœ¬åï¼Œä¸å†ä½¿ç”¨ "),t("code",[s._v(".huskyrc.js")]),s._v(" æ–‡ä»¶ï¼ŒåŒæ—¶ä¹Ÿä¸æ”¯æŒåœ¨ package.json æ–‡ä»¶ä¸­è¿›è¡Œ husky ç›¸å…³é…ç½®ï¼Œè€Œæ˜¯åœ¨ "),t("code",[s._v(".husky/")]),s._v(" ç›®å½•ä¸­é…ç½®çš„å•ä¸ª git é’©å­ã€‚")]),s._v(" "),t("p",[s._v("å¯ä»¥ç›´æ¥ä½¿ç”¨ "),t("code",[s._v("npx mrm@2 lint-staged")]),s._v(" ä»£æ›¿ "),t("code",[s._v("npm install lint-staged -D")]),s._v("ï¼Œå®ƒä¼šç›´æ¥åœ¨é¡¹ç›®ä¸­é…ç½®å¥½ husky å’Œ lint-stagedï¼Œä½ åªéœ€è¦åœ¨ package.json ä¸­ä¿®æ”¹ä¸€ä¸‹ lint-staged æ£€æµ‹æ–‡ä»¶èŒƒå›´")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("% npx mrm@2 lint-staged\nnpx: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("237")]),s._v(" å®‰è£…æˆåŠŸï¼Œç”¨æ—¶ "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21.067")]),s._v(" ç§’\nRunning lint-staged"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nUpdate package.json\nhusky - Git hooks installed\nhusky - created .husky/pre-commit\n")])])]),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lint-staged"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"{*.js,jsx,ts,tsx}"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eslint --cache --fix"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])])]),t("h2",{attrs:{id:"å¼€å‘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¼€å‘"}},[s._v("#")]),s._v(" å¼€å‘")]),s._v(" "),t("p",[s._v("åˆ°è¿™ä¸€æ­¥ï¼Œå¯ä»¥å¼€å§‹ç¼–å†™ä»£ç å•¦ï¼")]),s._v(" "),t("ul",[t("li"),s._v(" "),t("li",[t("p",[s._v("é¡¹ç›®åŸºæœ¬é…ç½®æ–‡ä»¶å¤–ï¼Œnpm module é‡Œçš„ä¸€èˆ¬åŒ…æ‹¬ä¸‰ä¸ªæ–‡ä»¶å¤¹ï¼š"),t("code",[s._v("dist | src | types")])]),s._v(" "),t("ul",[t("li",[s._v("dist åŒ…ç¼–è¯‘åæœ€ç»ˆäº§å‡ºæ–‡ä»¶")]),s._v(" "),t("li",[s._v("src æºç æ–‡ä»¶")]),s._v(" "),t("li",[s._v("types ç±»å‹å£°æ˜æ–‡ä»¶")])])]),s._v(" "),t("li",[t("p",[s._v("æ–°å»º "),t("code",[s._v("src/index.ts")]),s._v(" æ–‡ä»¶")])])]),s._v(" "),t("div",{staticClass:"language-ts extra-class"},[t("pre",{pre:!0,attrs:{class:"language-ts"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n * compare version\n * æ¯”è¾ƒç‰ˆæœ¬å·ï¼Œç‰ˆæœ¬å·è§„åˆ™x.y.zï¼Œxyzå‡ä¸ºå¤§äºç­‰äº0çš„æ•´æ•°\n * 0: ç›¸ç­‰\n * 1: å¤§äº\n * -1: å°äº\n */")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n * compare version\n * æ¯”è¾ƒç‰ˆæœ¬å·ï¼Œç‰ˆæœ¬å·è§„åˆ™x.y.zï¼Œxyzå‡ä¸ºå¤§äºç­‰äº0çš„æ•´æ•°\n * 0: ç›¸ç­‰\n * 1: å¤§äº\n * -1: å°äº\n */")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("COMPARE_RESULT_MAP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BIGGER")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SMALLER")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SAME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("versionCompare")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("version1"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" version2"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("number")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" version1Arr "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" version1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("split")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" version2Arr "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" version2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("split")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" maxLength "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Math"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("max")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("version1Arr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" version2Arr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" maxLength"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" num1 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("version1Arr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" num2 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("version2Arr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("num1 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!==")]),s._v(" num2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" num1 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" num2\n                "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("COMPARE_RESULT_MAP")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BIGGER")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("COMPARE_RESULT_MAP")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SMALLER")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("COMPARE_RESULT_MAP")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SAME")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" versionCompare"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h2",{attrs:{id:"å‘å¸ƒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‘å¸ƒ"}},[s._v("#")]),s._v(" å‘å¸ƒ")]),s._v(" "),t("h3",{attrs:{id:"è®¾ç½®å‘å¸ƒä»“åº“-registry"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è®¾ç½®å‘å¸ƒä»“åº“-registry"}},[s._v("#")]),s._v(" è®¾ç½®å‘å¸ƒä»“åº“ registry")]),s._v(" "),t("p",[s._v("åœ¨ä¸‹è½½åŒ…æ—¶ï¼Œæœ‰äº›äººä¼šåå‘äºè®¾ç½® taobao é•œåƒï¼Œå› ä¸º npm ä»“åº“æœåŠ¡å™¨åœ¨å›½å¤–ï¼Œä¸‹è½½é€Ÿåº¦æ¯”è¾ƒæ…¢ã€‚å‘å¸ƒçš„æ—¶å€™ä¹Ÿä¸€æ ·ï¼Œä¸€èˆ¬å¼€æºåº”ç”¨åŸºæœ¬éƒ½å‘å¸ƒåˆ° npmjsï¼Œå…¬å¸å†…éƒ¨åŒ…çš„è¯å°±ä¼šå‘åˆ°ç§æœ‰ npm ä»“åº“ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ package.json è®¾ç½®ä¸€ä¸‹ä½ æƒ³è¦å‘å¸ƒçš„ä»“åº“åœ°å€ï¼Œé»˜è®¤æ˜¯æ‰§è¡Œ publish å‘½ä»¤æ‰€æŒ‡å‘çš„ä»“åº“ï¼š")]),s._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"publishConfig"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"registry"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://registry.npm.xxx.com/"')]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[s._v("ä¹Ÿå¯ä»¥è®¾ç½®åˆ«å")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("// è®¾ç½®åˆ«å\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ynpm")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm --registry=http://registry.npm.xxx.com"')]),s._v("\n\n// å‘å¸ƒ\nynpm publish\n")])])]),t("p",[s._v("å‘å¸ƒåŒ…éœ€è¦éªŒè¯ä½ çš„è´¦å·æƒé™ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œéœ€è¦ "),t("code",[s._v("npm login")]),s._v(" ã€‚")]),s._v(" "),t("h3",{attrs:{id:"ç‰ˆæœ¬ç®¡ç†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç‰ˆæœ¬ç®¡ç†"}},[s._v("#")]),s._v(" ç‰ˆæœ¬ç®¡ç†")]),s._v(" "),t("p",[s._v("npm çš„å‘åŒ…éœ€è¦éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼Œä¸€ä¸ªç‰ˆæœ¬å·åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼š"),t("code",[s._v("major.minor.patch")]),s._v("ï¼Œ")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ "),t("code",[s._v("npm version")]),s._v(" å‘½ä»¤æ¥è‡ªåŠ¨ä¿®æ”¹ç‰ˆæœ¬å·ï¼Œæ¯”å¦‚ï¼š")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("// version "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" v1.0.0\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version major // ä¸»ç‰ˆæœ¬å·:å½“ä½ åšäº†ä¸å…¼å®¹çš„APIä¿®æ”¹\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# v2.0.0")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version minor // æ¬¡ç‰ˆæœ¬å·:å½“ä½ åšäº†å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢,å¯ä»¥ç†è§£ä¸ºFeatureç‰ˆæœ¬\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# v2.1.0")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version patch // ä¿®è®¢å·:å½“ä½ åšäº†å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£,å¯ä»¥ç†è§£ä¸ºBug fixç‰ˆæœ¬\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# v2.1.1")]),s._v("\n\n")])])]),t("p",[s._v("ä¸€èˆ¬æ¥è¯´è¿˜æœ‰å…ˆè¡Œç‰ˆæœ¬ï¼Œæµ‹è¯•ç‰ˆæœ¬ç­‰ï¼Œå…ˆè¡Œç‰ˆæœ¬å·æ˜¯åŠ åˆ°ä¿®è®¢å·åé¢ï¼Œä½œä¸ºç‰ˆæœ¬å·çš„å»¶ä¼¸ï¼›ç‰ˆæœ¬ä¸­æºå¸¦ "),t("code",[s._v("alpha")]),s._v("ã€"),t("code",[s._v("beta")]),s._v("ã€"),t("code",[s._v("rc")]),s._v(" ç­‰ tag å­—æ ·ï¼Œç»Ÿç§°å…ˆè¡Œç‰ˆï¼Œå¸¦æœ‰é¢„å‘å¸ƒç‰ˆæœ¬å·çš„ï¼Œä¸€èˆ¬æ ¼å¼ä¸º "),t("code",[s._v("x.y.z-[tag].[æ¬¡æ•° / meta ä¿¡æ¯]")]),s._v("ã€‚æ¯”å¦‚ï¼š"),t("code",[s._v("3.1.0-beta.0")]),s._v("ã€"),t("code",[s._v("3.1.0-alpha.0")])]),s._v(" "),t("p",[s._v("å½“è¦å‘è¡Œå¤§ç‰ˆæœ¬æˆ–æ ¸å¿ƒåŠŸèƒ½æ—¶ï¼Œä½†ä¸èƒ½ä¿è¯è¿™ä¸ªç‰ˆæœ¬å®Œå…¨æ­£å¸¸ï¼Œå°±è¦å…ˆå‘ä¸€ä¸ªå…ˆè¡Œç‰ˆæœ¬ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ --preid å‚æ•°æ¥å‘å¸ƒå…ˆè¡Œç‰ˆæœ¬ï¼Œï¼š "),t("code",[s._v("npm version prerelease --preid=alpha")]),s._v("ã€‚")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version premajor // é¢„å¤‡ä¸»ç‰ˆæœ¬\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# v3.0.0-0")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version preminor // é¢„å¤‡æ¬¡ç‰ˆæœ¬\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# v3.1.0-0")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version prepatch // é¢„å¤‡ä¿®è®¢ç‰ˆæœ¬\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# v3.1.1-0")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version prerelease // é¢„å‘å¸ƒç‰ˆæœ¬\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# v3.1.1-1")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version prerelease "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--preid")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("alpha // å‘½åå…ˆè¡Œç‰ˆ,æµ‹è¯•ç‰ˆç”¨beta\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# v3.1.1-alpha.0")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version prerelease // å‡çº§å…ˆè¡Œç‰ˆ\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# v3.1.1-alpha.1")]),s._v("\n")])])]),t("p",[s._v("è¿è¡Œ "),t("code",[s._v("npm version")]),s._v(" æ—¶ï¼Œæœ¬åœ° "),t("code",[s._v("git status")]),s._v(" éœ€è¦æ˜¯ clear çš„ï¼Œå› ä¸ºè¿è¡Œå‘½ä»¤ä¹‹åä¼šè‡ªåŠ¨æäº¤ä¸€ä¸ª commit å¹¶æ‰“ä¸Š tagï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰ commit messageã€‚")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version patch "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"å‡çº§åˆ° %s: æ¼”ç¤ºè‡ªå®šä¹‰msg"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# v3.1.1")]),s._v("\n")])])]),t("h3",{attrs:{id:"changelog"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#changelog"}},[s._v("#")]),s._v(" Changelog")]),s._v(" "),t("p",[s._v("åŒ…å‘å¸ƒäº†å¾ˆå¤šæ¬¡åï¼Œä½¿ç”¨è€…å‡çº§å°±éœ€è¦çŸ¥é“ä»–æ˜¯å¦éœ€è¦å‡çº§ï¼Œéœ€è¦æŸ¥çœ‹æ–‡æ¡£çœ‹çœ‹æœ‰å“ªäº›ä¸å…¼å®¹æ€§æ”¹åŠ¨ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ª Changelog æ¥è®°å½•æ¯æ¬¡å‘å¸ƒæ”¹äº†äº›ä»€ä¹ˆã€‚")]),s._v(" "),t("p",[s._v("å¦‚æœæ‰‹åŠ¨çš„ç»´æŠ¤è‚¯å®šä¼šæœ‰å¿˜è®°çš„æ—¶å€™ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨å·¥å…·æ¥è‡ªåŠ¨ç”Ÿæˆï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ "),t("code",[s._v("standard-version")]),s._v(" è¿™ä¸ªåŒ…æ¥ç”Ÿæˆï¼Œè¿™ä¸ªåŒ…çš„ä½œç”¨æ˜¯è‡ªåŠ¨æ›´æ–°ç‰ˆæœ¬å’Œç”Ÿæˆ CHANGELOGã€‚")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--D")]),s._v(" standard-version "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®‰è£… standard-version")]),s._v("\n")])])]),t("p",[s._v("å°† npm run è„šæœ¬æ·»åŠ åˆ°æ‚¨çš„ package.jsonï¼š")]),s._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"patch"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"standard-version --patch"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"release"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"standard-version"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"release:alpha"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"standard-version --prerelease alpha"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[s._v("ç°åœ¨å°±å¯ä»¥ä½¿ç”¨ "),t("code",[s._v("npm run release --patch")]),s._v(" ä»£æ›¿ "),t("code",[s._v("npm version")]),s._v("ã€‚")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("% "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run patch\n\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" compare_version_lib@1.1.1 patch /compare_version\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" standard-version "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--patch")]),s._v("\n\nâœ” bumping version "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" package.json from "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.1")]),s._v(".1 to "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.1")]),s._v(".2\nâœ” bumping version "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" package-lock.json from "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.1")]),s._v(".1 to "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.1")]),s._v(".2\nâœ” outputting changes to CHANGELOG.md\nâœ” committing package-lock.json and package.json and CHANGELOG.md\nâ†’ No staged files match any configured task.\nâœ” tagging release v1.1.2\nâ„¹ Run "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push --follow-tags origin master "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" publish"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" to publish\n\n// ä¼šæ ¹æ®æ¯ä¸ªcommitç”ŸæˆChangelog:\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Changelog")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### [1.1.2](https://github.com/chieminchan/compare_version_lib/compare/v1.1.1...v1.1.2) (2022-03-21)")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### Features")]),s._v("\n-   update srcript "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("2ea0d93"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("https://github.com/chieminchan/compare_version_lib/commit/2ea0d9369ed6c1019bc99a5fc1b2685727def39c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")]),s._v("\n")])])]),t("h2",{attrs:{id:"tips"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tips"}},[s._v("#")]),s._v(" TIPSï¼š")]),s._v(" "),t("h3",{attrs:{id:"package-json-çš„ä¾èµ–ç‰ˆæœ¬å·"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#package-json-çš„ä¾èµ–ç‰ˆæœ¬å·"}},[s._v("#")]),s._v(" package.json çš„ä¾èµ–ç‰ˆæœ¬å·")]),s._v(" "),t("p",[s._v("åœ¨ package.json çš„ä¸€äº›ä¾èµ–çš„ç‰ˆæœ¬å·ä¸­ï¼Œæˆ‘ä»¬è¿˜ä¼šçœ‹åˆ°^ã€~æˆ–è€…>=è¿™æ ·çš„æ ‡è¯†ç¬¦ï¼Œæˆ–è€…ä¸å¸¦æ ‡è¯†ç¬¦çš„ï¼Œè¿™éƒ½ä»£è¡¨ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ")]),s._v(" "),t("p",[s._v("æ²¡æœ‰ä»»ä½•ç¬¦å·ï¼šå®Œå…¨ç™¾åˆ†ç™¾åŒ¹é…ï¼Œå¿…é¡»ä½¿ç”¨å½“å‰ç‰ˆæœ¬å·å¯¹æ¯”ç¬¦å·ç±»çš„ï¼š>(å¤§äº) >=(å¤§äºç­‰äº) <(å°äº) <=(å°äºç­‰äº) æ³¢æµªç¬¦å·~ï¼šå›ºå®šä¸»ç‰ˆæœ¬å·å’Œæ¬¡ç‰ˆæœ¬å·ï¼Œä¿®è®¢å·å¯ä»¥éšæ„æ›´æ”¹ï¼Œä¾‹å¦‚~2.0.0ï¼Œå¯ä»¥ä½¿ç”¨ 2.0.0ã€2.0.2 ã€2.0.9 çš„ç‰ˆæœ¬ã€‚æ’å…¥ç¬¦å·^ï¼šå›ºå®šä¸»ç‰ˆæœ¬å·ï¼Œæ¬¡ç‰ˆæœ¬å·å’Œä¿®è®¢å·å¯ä»¥éšæ„æ›´æ”¹ï¼Œä¾‹å¦‚^2.0.0ï¼Œå¯ä»¥ä½¿ç”¨ 2.0.1ã€2.2.2 ã€2.9.9 çš„ç‰ˆæœ¬ã€‚ä»»æ„ç‰ˆæœ¬*ï¼šå¯¹ç‰ˆæœ¬æ²¡æœ‰é™åˆ¶ï¼Œä¸€èˆ¬ä¸ç”¨æˆ–ç¬¦å·ï¼š||å¯ä»¥ç”¨æ¥è®¾ç½®å¤šä¸ªç‰ˆæœ¬å·é™åˆ¶è§„åˆ™ï¼Œä¾‹å¦‚ >= 3.0.0 || <= 1.0.0")]),s._v(" "),t("ul",[t("li",[s._v("é€šè¿‡ jsdelivr å¯ä»¥æ–¹ä¾¿çš„æŸ¥çœ‹åŒ…å†…å®¹")]),s._v(" "),t("li",[s._v("np åŒ…ï¼Œè¿›è¡Œä¸åŒæºçš„ npm åŒ…å‘å¸ƒç®¡ç†çš„")])]),s._v(" "),t("p",[s._v("å‚è€ƒæ–‡ç« ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("https://juejin.cn/post/6844903870678695943#heading-0")]),s._v(" "),t("li",[s._v("https://zhuanlan.zhihu.com/p/366786798")])])])}),[],!1,null,null,null);t.default=e.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{354:function(t,s,a){"use strict";a.r(s);var n=a(25),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"数据存储和通信方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据存储和通信方式"}},[t._v("#")]),t._v(" 👉 数据存储和通信方式")]),t._v(" "),s("h2",{attrs:{id:"cookie"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[t._v("#")]),t._v(" Cookie")]),t._v(" "),s("p",[t._v("Cookie 是服务器发送到浏览器并保存在本地的一小块数据。在第一次向服务器发送请求的时候，服务器会将 Cookie 放入响应头中，在浏览器下次访问同一服务器，再发起请求时会被携带并发送到服务器上，便于服务器进行修改或者识别。")]),t._v(" "),s("p",[t._v("Cookie 是不可跨域的："),s("br"),t._v("\n每个 Cookie 都会绑定单一的域名，无法在别的域名下获取使用，一级域名和二级域名之间是允许共享使用的（domain 字段）。")]),t._v(" "),s("p",[t._v("关于更多详细的属性可戳我写的另一个篇文章"),s("a",{attrs:{href:"https://chieminchan.vercel.app/articles/Browser/%E8%BE%93%E5%85%A5%20URL%20%E5%88%B0%E5%B1%95%E7%A4%BA%E9%A1%B5%E9%9D%A2%E7%9A%84%E8%BF%87%E7%A8%8B.html#_4-7-%E5%85%B3%E4%BA%8E-cookie",target:"_blank",rel:"noopener noreferrer"}},[t._v("关于 Cookie"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"离线存储"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#离线存储"}},[t._v("#")]),t._v(" 离线存储")]),t._v(" "),s("h3",{attrs:{id:"localstorage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#localstorage"}},[t._v("#")]),t._v(" localStorage")]),t._v(" "),s("h4",{attrs:{id:"特点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[t._v("#")]),t._v(" 特点")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("生命周期"),s("br"),t._v("\n持久化的本地存储，除非主动手动删除数据，否则数据一直不会过期")])]),t._v(" "),s("li",[s("p",[t._v("存储方法"),s("br"),t._v("\n以键值对的方式进行存储，存取的数据都会字符串")])]),t._v(" "),s("li",[s("p",[t._v("受同源策略的限制")]),t._v(" "),s("p",[t._v("同源情况下，localStorage 能跨标签和跨页进行数据传输。")])]),t._v(" "),s("li",[s("p",[t._v("不建议存储敏感信息，可存储普通缓存信息")])])]),t._v(" "),s("h4",{attrs:{id:"操作方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#操作方法"}},[t._v("#")]),t._v(" 操作方法")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置")]),t._v("\nlocalStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"chieminchan"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//存储键名为name和键值为chieminchan的数据到本地")]),t._v("\nlocalStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"18"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" localStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//chieminchan")]),t._v("\nlocalStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取键名称")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 删除")]),t._v("\nlocalStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//从本地存储中移除键名为name的数据")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("localStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//null")]),t._v("\n\nlocalStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("clear")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//移除本地存储中所有数据")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("localStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//null")]),t._v("\n")])])]),s("h3",{attrs:{id:"sessionstorage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sessionstorage"}},[t._v("#")]),t._v(" sessionStorage")]),t._v(" "),s("h4",{attrs:{id:"特点-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#特点-2"}},[t._v("#")]),t._v(" 特点")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("生命周期"),s("br"),t._v("\n用于本地存储一个会话（session）中的数据，这些数据只有在同一个会话中的页面才能访问并且当会话结束后数据也随之销毁。")])]),t._v(" "),s("li",[s("p",[t._v("存储方式")])]),t._v(" "),s("li",[s("p",[t._v("受同浏览器窗口和同源限制"),s("br"),t._v("\n只要这个浏览器窗口（当下浏览器的当前标签页）没有关闭，即使在同一标签页刷新页面或进入同源另一页面，数据仍然存在。")]),t._v(" "),s("p",[t._v("关闭页面后，sessionStorage 会被销毁，即在新窗口新页面打开同源的另一个页面，sessionStorage 也是没有的。")])])]),t._v(" "),s("h4",{attrs:{id:"操作方法-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#操作方法-2"}},[t._v("#")]),t._v(" 操作方法")]),t._v(" "),s("blockquote",[s("p",[t._v("注意用 JSON.parse() / JSON.stringify() 做数据格式转换"),s("br"),t._v("\nlocalStorage / sessionStorage 可以结合 vuex, 实现数据的持久保存，解决 vuex 刷新丢失问题。")])]),t._v(" "),s("h2",{attrs:{id:"vue-组件通信方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue-组件通信方式"}},[t._v("#")]),t._v(" Vue 组件通信方式")]),t._v(" "),s("h3",{attrs:{id:"props-和-emit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#props-和-emit"}},[t._v("#")]),t._v(" props 和$emit")]),t._v(" "),s("p",[t._v("父子组件通信")]),t._v(" "),s("h3",{attrs:{id:"refs-refs、-parent-children"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#refs-refs、-parent-children"}},[t._v("#")]),t._v(" $refs / $refs、$parent / $children")]),t._v(" "),s("h3",{attrs:{id:"provide-和-inject"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#provide-和-inject"}},[t._v("#")]),t._v(" provide 和 inject")]),t._v(" "),s("h3",{attrs:{id:"attrs-和-listeners"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#attrs-和-listeners"}},[t._v("#")]),t._v(" $attrs 和 $listeners")]),t._v(" "),s("h3",{attrs:{id:"evnetbus-之-emit、-on、-off"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#evnetbus-之-emit、-on、-off"}},[t._v("#")]),t._v(" EvnetBus 之 $emit、$on、$off")]),t._v(" "),s("h3",{attrs:{id:"vuex"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vuex"}},[t._v("#")]),t._v(" vuex")])])}),[],!1,null,null,null);s.default=e.exports}}]);